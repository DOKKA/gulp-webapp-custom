!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t="length"in e&&e.length,i=Z.type(e);return"function"===i||Z.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e}function n(e,t,i){if(Z.isFunction(t))return Z.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return Z.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(ae.test(t))return Z.filter(t,e,i);t=Z.filter(t,e)}return Z.grep(e,function(e){return X.call(t,e)>=0!==i})}function s(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function r(e){var t=pe[e]={};return Z.each(e.match(fe)||[],function(e,i){t[i]=!0}),t}function o(){G.removeEventListener("DOMContentLoaded",o,!1),e.removeEventListener("load",o,!1),Z.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+a.uid++}function l(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(xe,"-$1").toLowerCase(),i=e.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:ye.test(i)?Z.parseJSON(i):i}catch(s){}ve.set(e,t,i)}else i=void 0;return i}function h(){return!0}function c(){return!1}function d(){try{return G.activeElement}catch(e){}}function u(e,t){return Z.nodeName(e,"table")&&Z.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function f(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function p(e){var t=Be.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var i=0,n=e.length;n>i;i++)_e.set(e[i],"globalEval",!t||_e.get(t[i],"globalEval"))}function m(e,t){var i,n,s,r,o,a,l,h;if(1===t.nodeType){if(_e.hasData(e)&&(r=_e.access(e),o=_e.set(t,r),h=r.events)){delete o.handle,o.events={};for(s in h)for(i=0,n=h[s].length;n>i;i++)Z.event.add(t,s,h[s][i])}ve.hasData(e)&&(a=ve.access(e),l=Z.extend({},a),ve.set(t,l))}}function _(e,t){var i=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Z.nodeName(e,t)?Z.merge([e],i):i}function v(e,t){var i=t.nodeName.toLowerCase();"input"===i&&Ce.test(e.type)?t.checked=e.checked:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}function y(t,i){var n,s=Z(i.createElement(t)).appendTo(i.body),r=e.getDefaultComputedStyle&&(n=e.getDefaultComputedStyle(s[0]))?n.display:Z.css(s[0],"display");return s.detach(),r}function x(e){var t=G,i=ze[e];return i||(i=y(e,t),"none"!==i&&i||(Le=(Le||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Le[0].contentDocument,t.write(),t.close(),i=y(e,t),Le.detach()),ze[e]=i),i}function b(e,t,i){var n,s,r,o,a=e.style;return i=i||$e(e),i&&(o=i.getPropertyValue(t)||i[t]),i&&(""!==o||Z.contains(e.ownerDocument,e)||(o=Z.style(e,t)),Fe.test(o)&&We.test(t)&&(n=a.width,s=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=n,a.minWidth=s,a.maxWidth=r)),void 0!==o?o+"":o}function w(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function j(e,t){if(t in e)return t;for(var i=t[0].toUpperCase()+t.slice(1),n=t,s=Ve.length;s--;)if(t=Ve[s]+i,t in e)return t;return n}function C(e,t,i){var n=Ue.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function k(e,t,i,n,s){for(var r=i===(n?"border":"content")?4:"width"===t?1:0,o=0;4>r;r+=2)"margin"===i&&(o+=Z.css(e,i+we[r],!0,s)),n?("content"===i&&(o-=Z.css(e,"padding"+we[r],!0,s)),"margin"!==i&&(o-=Z.css(e,"border"+we[r]+"Width",!0,s))):(o+=Z.css(e,"padding"+we[r],!0,s),"padding"!==i&&(o+=Z.css(e,"border"+we[r]+"Width",!0,s)));return o}function I(e,t,i){var n=!0,s="width"===t?e.offsetWidth:e.offsetHeight,r=$e(e),o="border-box"===Z.css(e,"boxSizing",!1,r);if(0>=s||null==s){if(s=b(e,t,r),(0>s||null==s)&&(s=e.style[t]),Fe.test(s))return s;n=o&&(J.boxSizingReliable()||s===e.style[t]),s=parseFloat(s)||0}return s+k(e,t,i||(o?"border":"content"),n,r)+"px"}function T(e,t){for(var i,n,s,r=[],o=0,a=e.length;a>o;o++)n=e[o],n.style&&(r[o]=_e.get(n,"olddisplay"),i=n.style.display,t?(r[o]||"none"!==i||(n.style.display=""),""===n.style.display&&je(n)&&(r[o]=_e.access(n,"olddisplay",x(n.nodeName)))):(s=je(n),"none"===i&&s||_e.set(n,"olddisplay",s?i:Z.css(n,"display"))));for(o=0;a>o;o++)n=e[o],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[o]||"":"none"));return e}function S(e,t,i,n,s){return new S.prototype.init(e,t,i,n,s)}function P(){return setTimeout(function(){Je=void 0}),Je=Z.now()}function E(e,t){var i,n=0,s={height:e};for(t=t?1:0;4>n;n+=2-t)i=we[n],s["margin"+i]=s["padding"+i]=e;return t&&(s.opacity=s.width=e),s}function A(e,t,i){for(var n,s=(it[t]||[]).concat(it["*"]),r=0,o=s.length;o>r;r++)if(n=s[r].call(i,t,e))return n}function O(e,t,i){var n,s,r,o,a,l,h,c,d=this,u={},f=e.style,p=e.nodeType&&je(e),g=_e.get(e,"fxshow");i.queue||(a=Z._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,Z.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],h=Z.css(e,"display"),c="none"===h?_e.get(e,"olddisplay")||x(e.nodeName):h,"inline"===c&&"none"===Z.css(e,"float")&&(f.display="inline-block")),i.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}));for(n in t)if(s=t[n],Qe.exec(s)){if(delete t[n],r=r||"toggle"===s,s===(p?"hide":"show")){if("show"!==s||!g||void 0===g[n])continue;p=!0}u[n]=g&&g[n]||Z.style(e,n)}else h=void 0;if(Z.isEmptyObject(u))"inline"===("none"===h?x(e.nodeName):h)&&(f.display=h);else{g?"hidden"in g&&(p=g.hidden):g=_e.access(e,"fxshow",{}),r&&(g.hidden=!p),p?Z(e).show():d.done(function(){Z(e).hide()}),d.done(function(){var t;_e.remove(e,"fxshow");for(t in u)Z.style(e,t,u[t])});for(n in u)o=A(p?g[n]:0,n,d),n in g||(g[n]=o.start,p&&(o.end=o.start,o.start="width"===n||"height"===n?1:0))}}function q(e,t){var i,n,s,r,o;for(i in e)if(n=Z.camelCase(i),s=t[n],r=e[i],Z.isArray(r)&&(s=r[1],r=e[i]=r[0]),i!==n&&(e[n]=r,delete e[i]),o=Z.cssHooks[n],o&&"expand"in o){r=o.expand(r),delete e[n];for(i in r)i in e||(e[i]=r[i],t[i]=s)}else t[n]=s}function N(e,t,i){var n,s,r=0,o=tt.length,a=Z.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=Je||P(),i=Math.max(0,h.startTime+h.duration-t),n=i/h.duration||0,r=1-n,o=0,l=h.tweens.length;l>o;o++)h.tweens[o].run(r);return a.notifyWith(e,[h,r,i]),1>r&&l?i:(a.resolveWith(e,[h]),!1)},h=a.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:Je||P(),duration:i.duration,tweens:[],createTween:function(t,i){var n=Z.Tween(e,h.opts,t,i,h.opts.specialEasing[t]||h.opts.easing);return h.tweens.push(n),n},stop:function(t){var i=0,n=t?h.tweens.length:0;if(s)return this;for(s=!0;n>i;i++)h.tweens[i].run(1);return t?a.resolveWith(e,[h,t]):a.rejectWith(e,[h,t]),this}}),c=h.props;for(q(c,h.opts.specialEasing);o>r;r++)if(n=tt[r].call(h,e,c,h.opts))return n;return Z.map(c,A,h),Z.isFunction(h.opts.start)&&h.opts.start.call(e,h),Z.fx.timer(Z.extend(l,{elem:e,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function D(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,s=0,r=t.toLowerCase().match(fe)||[];if(Z.isFunction(i))for(;n=r[s++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function B(e,t,i,n){function s(a){var l;return r[a]=!0,Z.each(e[a]||[],function(e,a){var h=a(t,i,n);return"string"!=typeof h||o||r[h]?o?!(l=h):void 0:(t.dataTypes.unshift(h),s(h),!1)}),l}var r={},o=e===yt;return s(t.dataTypes[0])||!r["*"]&&s("*")}function M(e,t){var i,n,s=Z.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((s[i]?e:n||(n={}))[i]=t[i]);return n&&Z.extend(!0,e,n),e}function H(e,t,i){for(var n,s,r,o,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(s in a)if(a[s]&&a[s].test(n)){l.unshift(s);break}if(l[0]in i)r=l[0];else{for(s in i){if(!l[0]||e.converters[s+" "+l[0]]){r=s;break}o||(o=s)}r=r||o}return r?(r!==l[0]&&l.unshift(r),i[r]):void 0}function L(e,t,i,n){var s,r,o,a,l,h={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)h[o.toLowerCase()]=e.converters[o];for(r=c.shift();r;)if(e.responseFields[r]&&(i[e.responseFields[r]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(o=h[l+" "+r]||h["* "+r],!o)for(s in h)if(a=s.split(" "),a[1]===r&&(o=h[l+" "+a[0]]||h["* "+a[0]])){o===!0?o=h[s]:h[s]!==!0&&(r=a[0],c.unshift(a[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(d){return{state:"parsererror",error:o?d:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function z(e,t,i,n){var s;if(Z.isArray(t))Z.each(t,function(t,s){i||Ct.test(e)?n(e,s):z(e+"["+("object"==typeof s?t:"")+"]",s,i,n)});else if(i||"object"!==Z.type(t))n(e,t);else for(s in t)z(e+"["+s+"]",t[s],i,n)}function W(e){return Z.isWindow(e)?e:9===e.nodeType&&e.defaultView}var F=[],$=F.slice,R=F.concat,U=F.push,X=F.indexOf,Y={},K=Y.toString,V=Y.hasOwnProperty,J={},G=e.document,Q="2.1.4",Z=function(e,t){return new Z.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ie=/-([\da-z])/gi,ne=function(e,t){return t.toUpperCase()};Z.fn=Z.prototype={jquery:Q,constructor:Z,selector:"",length:0,toArray:function(){return $.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:$.call(this)},pushStack:function(e){var t=Z.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Z.each(this,e,t)},map:function(e){return this.pushStack(Z.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack($.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:F.sort,splice:F.splice},Z.extend=Z.fn.extend=function(){var e,t,i,n,s,r,o=arguments[0]||{},a=1,l=arguments.length,h=!1;for("boolean"==typeof o&&(h=o,o=arguments[a]||{},a++),"object"==typeof o||Z.isFunction(o)||(o={}),a===l&&(o=this,a--);l>a;a++)if(null!=(e=arguments[a]))for(t in e)i=o[t],n=e[t],o!==n&&(h&&n&&(Z.isPlainObject(n)||(s=Z.isArray(n)))?(s?(s=!1,r=i&&Z.isArray(i)?i:[]):r=i&&Z.isPlainObject(i)?i:{},o[t]=Z.extend(h,r,n)):void 0!==n&&(o[t]=n));return o},Z.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Z.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==Z.type(e)||e.nodeType||Z.isWindow(e)?!1:e.constructor&&!V.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Y[K.call(e)]||"object":typeof e},globalEval:function(e){var t,i=eval;e=Z.trim(e),e&&(1===e.indexOf("use strict")?(t=G.createElement("script"),t.text=e,G.head.appendChild(t).parentNode.removeChild(t)):i(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ie,ne)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var s,r=0,o=e.length,a=i(e);if(n){if(a)for(;o>r&&(s=t.apply(e[r],n),s!==!1);r++);else for(r in e)if(s=t.apply(e[r],n),s===!1)break}else if(a)for(;o>r&&(s=t.call(e[r],r,e[r]),s!==!1);r++);else for(r in e)if(s=t.call(e[r],r,e[r]),s===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?Z.merge(n,"string"==typeof e?[e]:e):U.call(n,e)),n},inArray:function(e,t,i){return null==t?-1:X.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,s=e.length;i>n;n++)e[s++]=t[n];return e.length=s,e},grep:function(e,t,i){for(var n,s=[],r=0,o=e.length,a=!i;o>r;r++)n=!t(e[r],r),n!==a&&s.push(e[r]);return s},map:function(e,t,n){var s,r=0,o=e.length,a=i(e),l=[];if(a)for(;o>r;r++)s=t(e[r],r,n),null!=s&&l.push(s);else for(r in e)s=t(e[r],r,n),null!=s&&l.push(s);return R.apply([],l)},guid:1,proxy:function(e,t){var i,n,s;return"string"==typeof t&&(i=e[t],t=e,e=i),Z.isFunction(e)?(n=$.call(arguments,2),s=function(){return e.apply(t||this,n.concat($.call(arguments)))},s.guid=e.guid=e.guid||Z.guid++,s):void 0},now:Date.now,support:J}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Y["[object "+t+"]"]=t.toLowerCase()});var se=function(e){function t(e,t,i,n){var s,r,o,a,l,h,d,f,p,g;if((t?t.ownerDocument||t:z)!==O&&A(t),t=t||O,i=i||[],a=t.nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return i;if(!n&&N){if(11!==a&&(s=ve.exec(e)))if(o=s[1]){if(9===a){if(r=t.getElementById(o),!r||!r.parentNode)return i;if(r.id===o)return i.push(r),i}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(o))&&H(t,r)&&r.id===o)return i.push(r),i}else{if(s[2])return Q.apply(i,t.getElementsByTagName(e)),i;if((o=s[3])&&b.getElementsByClassName)return Q.apply(i,t.getElementsByClassName(o)),i}if(b.qsa&&(!D||!D.test(e))){if(f=d=L,p=t,g=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(h=k(e),(d=t.getAttribute("id"))?f=d.replace(xe,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=h.length;l--;)h[l]=f+u(h[l]);p=ye.test(e)&&c(t.parentNode)||t,g=h.join(",")}if(g)try{return Q.apply(i,p.querySelectorAll(g)),i}catch(m){}finally{d||t.removeAttribute("id")}}}return T(e.replace(le,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>w.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[L]=!0,e}function s(e){var t=O.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var i=e.split("|"),n=e.length;n--;)w.attrHandle[i[n]]=t}function o(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function a(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function h(e){return n(function(t){return t=+t,n(function(i,n){for(var s,r=e([],i.length,t),o=r.length;o--;)i[s=r[o]]&&(i[s]=!(n[s]=i[s]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function u(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function f(e,t,i){var n=t.dir,s=i&&"parentNode"===n,r=F++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||s)return e(t,i,r)}:function(t,i,o){var a,l,h=[W,r];if(o){for(;t=t[n];)if((1===t.nodeType||s)&&e(t,i,o))return!0}else for(;t=t[n];)if(1===t.nodeType||s){if(l=t[L]||(t[L]={}),(a=l[n])&&a[0]===W&&a[1]===r)return h[2]=a[2];if(l[n]=h,h[2]=e(t,i,o))return!0}}}function p(e){return e.length>1?function(t,i,n){for(var s=e.length;s--;)if(!e[s](t,i,n))return!1;return!0}:e[0]}function g(e,i,n){for(var s=0,r=i.length;r>s;s++)t(e,i[s],n);return n}function m(e,t,i,n,s){for(var r,o=[],a=0,l=e.length,h=null!=t;l>a;a++)(r=e[a])&&(!i||i(r,n,s))&&(o.push(r),h&&t.push(a));return o}function _(e,t,i,s,r,o){return s&&!s[L]&&(s=_(s)),r&&!r[L]&&(r=_(r,o)),n(function(n,o,a,l){var h,c,d,u=[],f=[],p=o.length,_=n||g(t||"*",a.nodeType?[a]:a,[]),v=!e||!n&&t?_:m(_,u,e,a,l),y=i?r||(n?e:p||s)?[]:o:v;if(i&&i(v,y,a,l),s)for(h=m(y,f),s(h,[],a,l),c=h.length;c--;)(d=h[c])&&(y[f[c]]=!(v[f[c]]=d));if(n){if(r||e){if(r){for(h=[],c=y.length;c--;)(d=y[c])&&h.push(v[c]=d);r(null,y=[],h,l)}for(c=y.length;c--;)(d=y[c])&&(h=r?ee(n,d):u[c])>-1&&(n[h]=!(o[h]=d))}}else y=m(y===o?y.splice(p,y.length):y),r?r(null,o,y,l):Q.apply(o,y)})}function v(e){for(var t,i,n,s=e.length,r=w.relative[e[0].type],o=r||w.relative[" "],a=r?1:0,l=f(function(e){return e===t},o,!0),h=f(function(e){return ee(t,e)>-1},o,!0),c=[function(e,i,n){var s=!r&&(n||i!==S)||((t=i).nodeType?l(e,i,n):h(e,i,n));return t=null,s}];s>a;a++)if(i=w.relative[e[a].type])c=[f(p(c),i)];else{if(i=w.filter[e[a].type].apply(null,e[a].matches),i[L]){for(n=++a;s>n&&!w.relative[e[n].type];n++);return _(a>1&&p(c),a>1&&u(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(le,"$1"),i,n>a&&v(e.slice(a,n)),s>n&&v(e=e.slice(n)),s>n&&u(e))}c.push(i)}return p(c)}function y(e,i){var s=i.length>0,r=e.length>0,o=function(n,o,a,l,h){var c,d,u,f=0,p="0",g=n&&[],_=[],v=S,y=n||r&&w.find.TAG("*",h),x=W+=null==v?1:Math.random()||.1,b=y.length;for(h&&(S=o!==O&&o);p!==b&&null!=(c=y[p]);p++){if(r&&c){for(d=0;u=e[d++];)if(u(c,o,a)){l.push(c);break}h&&(W=x)}s&&((c=!u&&c)&&f--,n&&g.push(c))}if(f+=p,s&&p!==f){for(d=0;u=i[d++];)u(g,_,o,a);if(n){if(f>0)for(;p--;)g[p]||_[p]||(_[p]=J.call(l));_=m(_)}Q.apply(l,_),h&&!n&&_.length>0&&f+i.length>1&&t.uniqueSort(l)}return h&&(W=x,S=v),g};return s?n(o):o}var x,b,w,j,C,k,I,T,S,P,E,A,O,q,N,D,B,M,H,L="sizzle"+1*new Date,z=e.document,W=0,F=0,$=i(),R=i(),U=i(),X=function(e,t){return e===t&&(E=!0),0},Y=1<<31,K={}.hasOwnProperty,V=[],J=V.pop,G=V.push,Q=V.push,Z=V.slice,ee=function(e,t){for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return i;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",se=ne.replace("w","w#"),re="\\["+ie+"*("+ne+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+se+"))|)"+ie+"*\\]",oe=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",ae=new RegExp(ie+"+","g"),le=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),he=new RegExp("^"+ie+"*,"+ie+"*"),ce=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),de=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),ue=new RegExp(oe),fe=new RegExp("^"+se+"$"),pe={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne.replace("w","w*")+")"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,_e=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,xe=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),we=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},je=function(){A()};try{Q.apply(V=Z.call(z.childNodes),z.childNodes),V[z.childNodes.length].nodeType}catch(Ce){Q={apply:V.length?function(e,t){G.apply(e,Z.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}b=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},A=t.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:z;return n!==O&&9===n.nodeType&&n.documentElement?(O=n,q=n.documentElement,i=n.defaultView,i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",je,!1):i.attachEvent&&i.attachEvent("onunload",je)),N=!C(n),b.attributes=s(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=s(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=_e.test(n.getElementsByClassName),b.getById=s(function(e){return q.appendChild(e).id=L,!n.getElementsByName||!n.getElementsByName(L).length}),b.getById?(w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&N){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},w.filter.ID=function(e){var t=e.replace(be,we);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(be,we);return function(e){var i="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),w.find.TAG=b.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],s=0,r=t.getElementsByTagName(e);if("*"===e){for(;i=r[s++];)1===i.nodeType&&n.push(i);return n}return r},w.find.CLASS=b.getElementsByClassName&&function(e,t){return N?t.getElementsByClassName(e):void 0},B=[],D=[],(b.qsa=_e.test(n.querySelectorAll))&&(s(function(e){q.appendChild(e).innerHTML="<a id='"+L+"'></a><select id='"+L+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||D.push("\\["+ie+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+L+"-]").length||D.push("~="),e.querySelectorAll(":checked").length||D.push(":checked"),e.querySelectorAll("a#"+L+"+*").length||D.push(".#.+[+~]")}),s(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&D.push("name"+ie+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||D.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),D.push(",.*:")})),(b.matchesSelector=_e.test(M=q.matches||q.webkitMatchesSelector||q.mozMatchesSelector||q.oMatchesSelector||q.msMatchesSelector))&&s(function(e){b.disconnectedMatch=M.call(e,"div"),M.call(e,"[s!='']:x"),B.push("!=",oe)}),D=D.length&&new RegExp(D.join("|")),B=B.length&&new RegExp(B.join("|")),t=_e.test(q.compareDocumentPosition),H=t||_e.test(q.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},X=t?function(e,t){if(e===t)return E=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!b.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===z&&H(z,e)?-1:t===n||t.ownerDocument===z&&H(z,t)?1:P?ee(P,e)-ee(P,t):0:4&i?-1:1)}:function(e,t){if(e===t)return E=!0,0;var i,s=0,r=e.parentNode,a=t.parentNode,l=[e],h=[t];if(!r||!a)return e===n?-1:t===n?1:r?-1:a?1:P?ee(P,e)-ee(P,t):0;if(r===a)return o(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)h.unshift(i);for(;l[s]===h[s];)s++;return s?o(l[s],h[s]):l[s]===z?-1:h[s]===z?1:0},n):O},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==O&&A(e),i=i.replace(de,"='$1']"),!(!b.matchesSelector||!N||B&&B.test(i)||D&&D.test(i)))try{var n=M.call(e,i);if(n||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(s){}return t(i,O,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==O&&A(e),H(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==O&&A(e);var i=w.attrHandle[t.toLowerCase()],n=i&&K.call(w.attrHandle,t.toLowerCase())?i(e,t,!N):void 0;return void 0!==n?n:b.attributes||!N?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,s=0;if(E=!b.detectDuplicates,P=!b.sortStable&&e.slice(0),e.sort(X),E){for(;t=e[s++];)t===e[s]&&(n=i.push(s));for(;n--;)e.splice(i[n],1)}return P=null,e},j=t.getText=function(e){var t,i="",n=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=j(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[n++];)i+=j(t);return i},w=t.selectors={cacheLength:50,createPseudo:n,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,we),e[3]=(e[3]||e[4]||e[5]||"").replace(be,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&ue.test(i)&&(t=k(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=$[e+" "];return t||(t=new RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&$(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(s){var r=t.attr(s,e);return null==r?"!="===i:i?(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r.replace(ae," ")+" ").indexOf(n)>-1:"|="===i?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,i,n,s){var r="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===s?function(e){return!!e.parentNode}:function(t,i,l){var h,c,d,u,f,p,g=r!==o?"nextSibling":"previousSibling",m=t.parentNode,_=a&&t.nodeName.toLowerCase(),v=!l&&!a;if(m){if(r){for(;g;){for(d=t;d=d[g];)if(a?d.nodeName.toLowerCase()===_:1===d.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[o?m.firstChild:m.lastChild],o&&v){for(c=m[L]||(m[L]={}),h=c[e]||[],f=h[0]===W&&h[1],u=h[0]===W&&h[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(u=f=0)||p.pop();)if(1===d.nodeType&&++u&&d===t){c[e]=[W,f,u];break}}else if(v&&(h=(t[L]||(t[L]={}))[e])&&h[0]===W)u=h[1];else for(;(d=++f&&d&&d[g]||(u=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==_:1!==d.nodeType)||!++u||(v&&((d[L]||(d[L]={}))[e]=[W,u]),d!==t)););return u-=s,u===n||u%n===0&&u/n>=0}}},PSEUDO:function(e,i){var s,r=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[L]?r(i):r.length>1?(s=[e,e,"",i],w.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,s=r(e,i),o=s.length;o--;)n=ee(e,s[o]),e[n]=!(t[n]=s[o])}):function(e){return r(e,0,s)}):r}},pseudos:{not:n(function(e){var t=[],i=[],s=I(e.replace(le,"$1"));return s[L]?n(function(e,t,i,n){for(var r,o=s(e,null,n,[]),a=e.length;a--;)(r=o[a])&&(e[a]=!(t[a]=r))}):function(e,n,r){return t[0]=e,s(t,null,r,i),t[0]=null,!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return e=e.replace(be,we),function(t){return(t.textContent||t.innerText||j(t)).indexOf(e)>-1}}),lang:n(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,we).toLowerCase(),function(t){var i;do if(i=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===q},focus:function(e){return e===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return ge.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:h(function(){return[0]}),last:h(function(e,t){return[t-1]}),eq:h(function(e,t,i){return[0>i?i+t:i]}),even:h(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:h(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:h(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:h(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}},w.pseudos.nth=w.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[x]=a(x);for(x in{submit:!0,reset:!0})w.pseudos[x]=l(x);return d.prototype=w.filters=w.pseudos,w.setFilters=new d,k=t.tokenize=function(e,i){var n,s,r,o,a,l,h,c=R[e+" "];if(c)return i?0:c.slice(0);for(a=e,l=[],h=w.preFilter;a;){(!n||(s=he.exec(a)))&&(s&&(a=a.slice(s[0].length)||a),l.push(r=[])),n=!1,(s=ce.exec(a))&&(n=s.shift(),r.push({value:n,type:s[0].replace(le," ")}),a=a.slice(n.length));for(o in w.filter)!(s=pe[o].exec(a))||h[o]&&!(s=h[o](s))||(n=s.shift(),r.push({value:n,type:o,matches:s}),a=a.slice(n.length));if(!n)break}return i?a.length:a?t.error(e):R(e,l).slice(0)},I=t.compile=function(e,t){var i,n=[],s=[],r=U[e+" "];if(!r){for(t||(t=k(e)),i=t.length;i--;)r=v(t[i]),r[L]?n.push(r):s.push(r);r=U(e,y(s,n)),r.selector=e}return r},T=t.select=function(e,t,i,n){var s,r,o,a,l,h="function"==typeof e&&e,d=!n&&k(e=h.selector||e);if(i=i||[],1===d.length){if(r=d[0]=d[0].slice(0),r.length>2&&"ID"===(o=r[0]).type&&b.getById&&9===t.nodeType&&N&&w.relative[r[1].type]){if(t=(w.find.ID(o.matches[0].replace(be,we),t)||[])[0],!t)return i;h&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(s=pe.needsContext.test(e)?0:r.length;s--&&(o=r[s],!w.relative[a=o.type]);)if((l=w.find[a])&&(n=l(o.matches[0].replace(be,we),ye.test(r[0].type)&&c(t.parentNode)||t))){if(r.splice(s,1),e=n.length&&u(r),!e)return Q.apply(i,n),i;break}}return(h||I(e,d))(n,t,!N,i,ye.test(e)&&c(t.parentNode)||t),i},b.sortStable=L.split("").sort(X).join("")===L,b.detectDuplicates=!!E,A(),b.sortDetached=s(function(e){return 1&e.compareDocumentPosition(O.createElement("div"))}),s(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&s(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),s(function(e){return null==e.getAttribute("disabled")})||r(te,function(e,t,i){var n;return i?void 0:e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);Z.find=se,Z.expr=se.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=se.uniqueSort,Z.text=se.getText,Z.isXMLDoc=se.isXML,Z.contains=se.contains;var re=Z.expr.match.needsContext,oe=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ae=/^.[^:#\[\.,]*$/;Z.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?Z.find.matchesSelector(n,e)?[n]:[]:Z.find.matches(e,Z.grep(t,function(e){return 1===e.nodeType}))},Z.fn.extend({find:function(e){var t,i=this.length,n=[],s=this;

if("string"!=typeof e)return this.pushStack(Z(e).filter(function(){for(t=0;i>t;t++)if(Z.contains(s[t],this))return!0}));for(t=0;i>t;t++)Z.find(e,s[t],n);return n=this.pushStack(i>1?Z.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&re.test(e)?Z(e):e||[],!1).length}});var le,he=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=Z.fn.init=function(e,t){var i,n;if(!e)return this;if("string"==typeof e){if(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:he.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||le).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof Z?t[0]:t,Z.merge(this,Z.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:G,!0)),oe.test(i[1])&&Z.isPlainObject(t))for(i in t)Z.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return n=G.getElementById(i[2]),n&&n.parentNode&&(this.length=1,this[0]=n),this.context=G,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Z.isFunction(e)?"undefined"!=typeof le.ready?le.ready(e):e(Z):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))};ce.prototype=Z.fn,le=Z(G);var de=/^(?:parents|prev(?:Until|All))/,ue={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(e,t,i){for(var n=[],s=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(s&&Z(e).is(i))break;n.push(e)}return n},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),Z.fn.extend({has:function(e){var t=Z(e,this),i=t.length;return this.filter(function(){for(var e=0;i>e;e++)if(Z.contains(this,t[e]))return!0})},closest:function(e,t){for(var i,n=0,s=this.length,r=[],o=re.test(e)||"string"!=typeof e?Z(e,t||this.context):0;s>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&Z.find.matchesSelector(i,e))){r.push(i);break}return this.pushStack(r.length>1?Z.unique(r):r)},index:function(e){return e?"string"==typeof e?X.call(Z(e),this[0]):X.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Z.unique(Z.merge(this.get(),Z(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,i){return Z.dir(e,"parentNode",i)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,i){return Z.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return Z.dir(e,"previousSibling",i)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(i,n){var s=Z.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(s=Z.filter(n,s)),this.length>1&&(ue[e]||Z.unique(s),de.test(e)&&s.reverse()),this.pushStack(s)}});var fe=/\S+/g,pe={};Z.Callbacks=function(e){e="string"==typeof e?pe[e]||r(e):Z.extend({},e);var t,i,n,s,o,a,l=[],h=!e.once&&[],c=function(r){for(t=e.memory&&r,i=!0,a=s||0,s=0,o=l.length,n=!0;l&&o>a;a++)if(l[a].apply(r[0],r[1])===!1&&e.stopOnFalse){t=!1;break}n=!1,l&&(h?h.length&&c(h.shift()):t?l=[]:d.disable())},d={add:function(){if(l){var i=l.length;!function r(t){Z.each(t,function(t,i){var n=Z.type(i);"function"===n?e.unique&&d.has(i)||l.push(i):i&&i.length&&"string"!==n&&r(i)})}(arguments),n?o=l.length:t&&(s=i,c(t))}return this},remove:function(){return l&&Z.each(arguments,function(e,t){for(var i;(i=Z.inArray(t,l,i))>-1;)l.splice(i,1),n&&(o>=i&&o--,a>=i&&a--)}),this},has:function(e){return e?Z.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=h=t=void 0,this},disabled:function(){return!l},lock:function(){return h=void 0,t||d.disable(),this},locked:function(){return!h},fireWith:function(e,t){return!l||i&&!h||(t=t||[],t=[e,t.slice?t.slice():t],n?h.push(t):c(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(i){Z.each(t,function(t,r){var o=Z.isFunction(e[t])&&e[t];s[r[1]](function(){var e=o&&o.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[r[0]+"With"](this===n?i.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,n):n}},s={};return n.pipe=n.then,Z.each(t,function(e,r){var o=r[2],a=r[3];n[r[1]]=o.add,a&&o.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),s[r[0]]=function(){return s[r[0]+"With"](this===s?n:this,arguments),this},s[r[0]+"With"]=o.fireWith}),n.promise(s),e&&e.call(s,s),s},when:function(e){var t,i,n,s=0,r=$.call(arguments),o=r.length,a=1!==o||e&&Z.isFunction(e.promise)?o:0,l=1===a?e:Z.Deferred(),h=function(e,i,n){return function(s){i[e]=this,n[e]=arguments.length>1?$.call(arguments):s,n===t?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(o>1)for(t=new Array(o),i=new Array(o),n=new Array(o);o>s;s++)r[s]&&Z.isFunction(r[s].promise)?r[s].promise().done(h(s,n,r)).fail(l.reject).progress(h(s,i,t)):--a;return a||l.resolveWith(n,r),l.promise()}});var ge;Z.fn.ready=function(e){return Z.ready.promise().done(e),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){(e===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,e!==!0&&--Z.readyWait>0||(ge.resolveWith(G,[Z]),Z.fn.triggerHandler&&(Z(G).triggerHandler("ready"),Z(G).off("ready"))))}}),Z.ready.promise=function(t){return ge||(ge=Z.Deferred(),"complete"===G.readyState?setTimeout(Z.ready):(G.addEventListener("DOMContentLoaded",o,!1),e.addEventListener("load",o,!1))),ge.promise(t)},Z.ready.promise();var me=Z.access=function(e,t,i,n,s,r,o){var a=0,l=e.length,h=null==i;if("object"===Z.type(i)){s=!0;for(a in i)Z.access(e,t,a,i[a],!0,r,o)}else if(void 0!==n&&(s=!0,Z.isFunction(n)||(o=!0),h&&(o?(t.call(e,n),t=null):(h=t,t=function(e,t,i){return h.call(Z(e),i)})),t))for(;l>a;a++)t(e[a],i,o?n:n.call(e[a],a,t(e[a],i)));return s?e:h?t.call(e):l?t(e[0],i):r};Z.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},a.uid=1,a.accepts=Z.acceptData,a.prototype={key:function(e){if(!a.accepts(e))return 0;var t={},i=e[this.expando];if(!i){i=a.uid++;try{t[this.expando]={value:i},Object.defineProperties(e,t)}catch(n){t[this.expando]=i,Z.extend(e,t)}}return this.cache[i]||(this.cache[i]={}),i},set:function(e,t,i){var n,s=this.key(e),r=this.cache[s];if("string"==typeof t)r[t]=i;else if(Z.isEmptyObject(r))Z.extend(this.cache[s],t);else for(n in t)r[n]=t[n];return r},get:function(e,t){var i=this.cache[this.key(e)];return void 0===t?i:i[t]},access:function(e,t,i){var n;return void 0===t||t&&"string"==typeof t&&void 0===i?(n=this.get(e,t),void 0!==n?n:this.get(e,Z.camelCase(t))):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n,s,r=this.key(e),o=this.cache[r];if(void 0===t)this.cache[r]={};else{Z.isArray(t)?n=t.concat(t.map(Z.camelCase)):(s=Z.camelCase(t),t in o?n=[t,s]:(n=s,n=n in o?[n]:n.match(fe)||[])),i=n.length;for(;i--;)delete o[n[i]]}},hasData:function(e){return!Z.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var _e=new a,ve=new a,ye=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xe=/([A-Z])/g;Z.extend({hasData:function(e){return ve.hasData(e)||_e.hasData(e)},data:function(e,t,i){return ve.access(e,t,i)},removeData:function(e,t){ve.remove(e,t)},_data:function(e,t,i){return _e.access(e,t,i)},_removeData:function(e,t){_e.remove(e,t)}}),Z.fn.extend({data:function(e,t){var i,n,s,r=this[0],o=r&&r.attributes;if(void 0===e){if(this.length&&(s=ve.get(r),1===r.nodeType&&!_e.get(r,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&(n=o[i].name,0===n.indexOf("data-")&&(n=Z.camelCase(n.slice(5)),l(r,n,s[n])));_e.set(r,"hasDataAttrs",!0)}return s}return"object"==typeof e?this.each(function(){ve.set(this,e)}):me(this,function(t){var i,n=Z.camelCase(e);if(r&&void 0===t){if(i=ve.get(r,e),void 0!==i)return i;if(i=ve.get(r,n),void 0!==i)return i;if(i=l(r,n,void 0),void 0!==i)return i}else this.each(function(){var i=ve.get(this,n);ve.set(this,n,t),-1!==e.indexOf("-")&&void 0!==i&&ve.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ve.remove(this,e)})}}),Z.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=_e.get(e,t),i&&(!n||Z.isArray(i)?n=_e.access(e,t,Z.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=Z.queue(e,t),n=i.length,s=i.shift(),r=Z._queueHooks(e,t),o=function(){Z.dequeue(e,t)};"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===t&&i.unshift("inprogress"),delete r.stop,s.call(e,o,r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return _e.get(e,i)||_e.access(e,i,{empty:Z.Callbacks("once memory").add(function(){_e.remove(e,[t+"queue",i])})})}}),Z.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?Z.queue(this[0],e):void 0===t?this:this.each(function(){var i=Z.queue(this,e,t);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,s=Z.Deferred(),r=this,o=this.length,a=function(){--n||s.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)i=_e.get(r[o],e+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),s.promise(t)}});var be=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,we=["Top","Right","Bottom","Left"],je=function(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)},Ce=/^(?:checkbox|radio)$/i;!function(){var e=G.createDocumentFragment(),t=e.appendChild(G.createElement("div")),i=G.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),t.appendChild(i),J.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",J.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var ke="undefined";J.focusinBubbles="onfocusin"in e;var Ie=/^key/,Te=/^(?:mouse|pointer|contextmenu)|click/,Se=/^(?:focusinfocus|focusoutblur)$/,Pe=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(e,t,i,n,s){var r,o,a,l,h,c,d,u,f,p,g,m=_e.get(e);if(m)for(i.handler&&(r=i,i=r.handler,s=r.selector),i.guid||(i.guid=Z.guid++),(l=m.events)||(l=m.events={}),(o=m.handle)||(o=m.handle=function(t){return typeof Z!==ke&&Z.event.triggered!==t.type?Z.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(fe)||[""],h=t.length;h--;)a=Pe.exec(t[h])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f&&(d=Z.event.special[f]||{},f=(s?d.delegateType:d.bindType)||f,d=Z.event.special[f]||{},c=Z.extend({type:f,origType:g,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&Z.expr.match.needsContext.test(s),namespace:p.join(".")},r),(u=l[f])||(u=l[f]=[],u.delegateCount=0,d.setup&&d.setup.call(e,n,p,o)!==!1||e.addEventListener&&e.addEventListener(f,o,!1)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=i.guid)),s?u.splice(u.delegateCount++,0,c):u.push(c),Z.event.global[f]=!0)},remove:function(e,t,i,n,s){var r,o,a,l,h,c,d,u,f,p,g,m=_e.hasData(e)&&_e.get(e);if(m&&(l=m.events)){for(t=(t||"").match(fe)||[""],h=t.length;h--;)if(a=Pe.exec(t[h])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f){for(d=Z.event.special[f]||{},f=(n?d.delegateType:d.bindType)||f,u=l[f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=r=u.length;r--;)c=u[r],!s&&g!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(u.splice(r,1),c.selector&&u.delegateCount--,d.remove&&d.remove.call(e,c));o&&!u.length&&(d.teardown&&d.teardown.call(e,p,m.handle)!==!1||Z.removeEvent(e,f,m.handle),delete l[f])}else for(f in l)Z.event.remove(e,f+t[h],i,n,!0);Z.isEmptyObject(l)&&(delete m.handle,_e.remove(e,"events"))}},trigger:function(t,i,n,s){var r,o,a,l,h,c,d,u=[n||G],f=V.call(t,"type")?t.type:t,p=V.call(t,"namespace")?t.namespace.split("."):[];if(o=a=n=n||G,3!==n.nodeType&&8!==n.nodeType&&!Se.test(f+Z.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),h=f.indexOf(":")<0&&"on"+f,t=t[Z.expando]?t:new Z.Event(f,"object"==typeof t&&t),t.isTrigger=s?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:Z.makeArray(i,[t]),d=Z.event.special[f]||{},s||!d.trigger||d.trigger.apply(n,i)!==!1)){if(!s&&!d.noBubble&&!Z.isWindow(n)){for(l=d.delegateType||f,Se.test(l+f)||(o=o.parentNode);o;o=o.parentNode)u.push(o),a=o;a===(n.ownerDocument||G)&&u.push(a.defaultView||a.parentWindow||e)}for(r=0;(o=u[r++])&&!t.isPropagationStopped();)t.type=r>1?l:d.bindType||f,c=(_e.get(o,"events")||{})[t.type]&&_e.get(o,"handle"),c&&c.apply(o,i),c=h&&o[h],c&&c.apply&&Z.acceptData(o)&&(t.result=c.apply(o,i),t.result===!1&&t.preventDefault());return t.type=f,s||t.isDefaultPrevented()||d._default&&d._default.apply(u.pop(),i)!==!1||!Z.acceptData(n)||h&&Z.isFunction(n[f])&&!Z.isWindow(n)&&(a=n[h],a&&(n[h]=null),Z.event.triggered=f,n[f](),Z.event.triggered=void 0,a&&(n[h]=a)),t.result}},dispatch:function(e){e=Z.event.fix(e);var t,i,n,s,r,o=[],a=$.call(arguments),l=(_e.get(this,"events")||{})[e.type]||[],h=Z.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!h.preDispatch||h.preDispatch.call(this,e)!==!1){for(o=Z.event.handlers.call(this,e,l),t=0;(s=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=s.elem,i=0;(r=s.handlers[i++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((Z.event.special[r.origType]||{}).handle||r.handler).apply(s.elem,a),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,s,r,o=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(n=[],i=0;a>i;i++)r=t[i],s=r.selector+" ",void 0===n[s]&&(n[s]=r.needsContext?Z(s,this).index(l)>=0:Z.find(s,this,null,[l]).length),n[s]&&n.push(r);n.length&&o.push({elem:l,handlers:n})}return a<t.length&&o.push({elem:this,handlers:t.slice(a)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,s,r=t.button;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||G,n=i.documentElement,s=i.body,e.pageX=t.clientX+(n&&n.scrollLeft||s&&s.scrollLeft||0)-(n&&n.clientLeft||s&&s.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||s&&s.scrollTop||0)-(n&&n.clientTop||s&&s.clientTop||0)),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,i,n,s=e.type,r=e,o=this.fixHooks[s];for(o||(this.fixHooks[s]=o=Te.test(s)?this.mouseHooks:Ie.test(s)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,e=new Z.Event(r),t=n.length;t--;)i=n[t],e[i]=r[i];return e.target||(e.target=G),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,r):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==d()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Z.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var s=Z.extend(new Z.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?Z.event.trigger(s,null,t):Z.event.dispatch.call(t,s),s.isDefaultPrevented()&&i.preventDefault()}},Z.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?h:c):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(e,t)},Z.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,s=e.relatedTarget,r=e.handleObj;return(!s||s!==n&&!Z.contains(n,s))&&(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),J.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){var n=this.ownerDocument||this,s=_e.access(n,t);s||n.addEventListener(e,i,!0),_e.access(n,t,(s||0)+1)},teardown:function(){var n=this.ownerDocument||this,s=_e.access(n,t)-1;s?_e.access(n,t,s):(n.removeEventListener(e,i,!0),_e.remove(n,t))}}}),Z.fn.extend({on:function(e,t,i,n,s){var r,o;if("object"==typeof e){"string"!=typeof t&&(i=i||t,t=void 0);for(o in e)this.on(o,t,i,e[o],s);return this}if(null==i&&null==n?(n=t,i=t=void 0):null==n&&("string"==typeof t?(n=i,i=void 0):(n=i,i=t,t=void 0)),n===!1)n=c;else if(!n)return this;return 1===s&&(r=n,n=function(e){return Z().off(e),r.apply(this,arguments)},n.guid=r.guid||(r.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,n,i,t)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,t,i){var n,s;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,Z(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(s in e)this.off(s,t,e[s]);return this}return(t===!1||"function"==typeof t)&&(i=t,t=void 0),i===!1&&(i=c),this.each(function(){Z.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?Z.event.trigger(e,t,i,!0):void 0}});var Ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ae=/<([\w:]+)/,Oe=/<|&#?\w+;/,qe=/<(?:script|style|link)/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,De=/^$|\/(?:java|ecma)script/i,Be=/^true\/(.*)/,Me=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,He={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};He.optgroup=He.option,He.tbody=He.tfoot=He.colgroup=He.caption=He.thead,He.th=He.td,Z.extend({clone:function(e,t,i){var n,s,r,o,a=e.cloneNode(!0),l=Z.contains(e.ownerDocument,e);if(!(J.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(o=_(a),r=_(e),n=0,s=r.length;s>n;n++)v(r[n],o[n]);if(t)if(i)for(r=r||_(e),o=o||_(a),n=0,s=r.length;s>n;n++)m(r[n],o[n]);else m(e,a);return o=_(a,"script"),o.length>0&&g(o,!l&&_(e,"script")),a},buildFragment:function(e,t,i,n){for(var s,r,o,a,l,h,c=t.createDocumentFragment(),d=[],u=0,f=e.length;f>u;u++)if(s=e[u],s||0===s)if("object"===Z.type(s))Z.merge(d,s.nodeType?[s]:s);else if(Oe.test(s)){for(r=r||c.appendChild(t.createElement("div")),o=(Ae.exec(s)||["",""])[1].toLowerCase(),a=He[o]||He._default,r.innerHTML=a[1]+s.replace(Ee,"<$1></$2>")+a[2],h=a[0];h--;)r=r.lastChild;Z.merge(d,r.childNodes),r=c.firstChild,r.textContent=""}else d.push(t.createTextNode(s));for(c.textContent="",u=0;s=d[u++];)if((!n||-1===Z.inArray(s,n))&&(l=Z.contains(s.ownerDocument,s),r=_(c.appendChild(s),"script"),l&&g(r),i))for(h=0;s=r[h++];)De.test(s.type||"")&&i.push(s);return c},cleanData:function(e){for(var t,i,n,s,r=Z.event.special,o=0;void 0!==(i=e[o]);o++){if(Z.acceptData(i)&&(s=i[_e.expando],s&&(t=_e.cache[s]))){if(t.events)for(n in t.events)r[n]?Z.event.remove(i,n):Z.removeEvent(i,n,t.handle);_e.cache[s]&&delete _e.cache[s]}delete ve.cache[i[ve.expando]]}}}),Z.fn.extend({text:function(e){return me(this,function(e){return void 0===e?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=u(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=u(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?Z.filter(e,this):this,s=0;null!=(i=n[s]);s++)t||1!==i.nodeType||Z.cleanData(_(i)),i.parentNode&&(t&&Z.contains(i.ownerDocument,i)&&g(_(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Z.cleanData(_(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return me(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!qe.test(e)&&!He[(Ae.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ee,"<$1></$2>");try{for(;n>i;i++)t=this[i]||{},1===t.nodeType&&(Z.cleanData(_(t,!1)),t.innerHTML=e);t=0}catch(s){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Z.cleanData(_(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=R.apply([],e);var i,n,s,r,o,a,l=0,h=this.length,c=this,d=h-1,u=e[0],g=Z.isFunction(u);if(g||h>1&&"string"==typeof u&&!J.checkClone&&Ne.test(u))return this.each(function(i){var n=c.eq(i);g&&(e[0]=u.call(this,i,n.html())),n.domManip(e,t)});if(h&&(i=Z.buildFragment(e,this[0].ownerDocument,!1,this),n=i.firstChild,1===i.childNodes.length&&(i=n),n)){for(s=Z.map(_(i,"script"),f),r=s.length;h>l;l++)o=i,l!==d&&(o=Z.clone(o,!0,!0),r&&Z.merge(s,_(o,"script"))),t.call(this[l],o,l);if(r)for(a=s[s.length-1].ownerDocument,Z.map(s,p),l=0;r>l;l++)o=s[l],De.test(o.type||"")&&!_e.access(o,"globalEval")&&Z.contains(a,o)&&(o.src?Z._evalUrl&&Z._evalUrl(o.src):Z.globalEval(o.textContent.replace(Me,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(e){for(var i,n=[],s=Z(e),r=s.length-1,o=0;r>=o;o++)i=o===r?this:this.clone(!0),Z(s[o])[t](i),U.apply(n,i.get());return this.pushStack(n)}});var Le,ze={},We=/^margin/,Fe=new RegExp("^("+be+")(?!px)[a-z%]+$","i"),$e=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",s.appendChild(r);var t=e.getComputedStyle(o,null);i="1%"!==t.top,n="4px"===t.width,s.removeChild(r)}var i,n,s=G.documentElement,r=G.createElement("div"),o=G.createElement("div");o.style&&(o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",J.clearCloneStyle="content-box"===o.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(o),e.getComputedStyle&&Z.extend(J,{pixelPosition:function(){return t(),i},boxSizingReliable:function(){return null==n&&t(),n},reliableMarginRight:function(){var t,i=o.appendChild(G.createElement("div"));return i.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",o.style.width="1px",s.appendChild(r),t=!parseFloat(e.getComputedStyle(i,null).marginRight),s.removeChild(r),o.removeChild(i),t}}))}(),Z.swap=function(e,t,i,n){var s,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];s=i.apply(e,n||[]);for(r in t)e.style[r]=o[r];return s};var Re=/^(none|table(?!-c[ea]).+)/,Ue=new RegExp("^("+be+")(.*)$","i"),Xe=new RegExp("^([+-])=("+be+")","i"),Ye={position:"absolute",visibility:"hidden",display:"block"},Ke={letterSpacing:"0",fontWeight:"400"},Ve=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=b(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,r,o,a=Z.camelCase(t),l=e.style;return t=Z.cssProps[a]||(Z.cssProps[a]=j(l,a)),o=Z.cssHooks[t]||Z.cssHooks[a],void 0===i?o&&"get"in o&&void 0!==(s=o.get(e,!1,n))?s:l[t]:(r=typeof i,"string"===r&&(s=Xe.exec(i))&&(i=(s[1]+1)*s[2]+parseFloat(Z.css(e,t)),r="number"),null!=i&&i===i&&("number"!==r||Z.cssNumber[a]||(i+="px"),J.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(i=o.set(e,i,n))||(l[t]=i)),void 0)}},css:function(e,t,i,n){var s,r,o,a=Z.camelCase(t);return t=Z.cssProps[a]||(Z.cssProps[a]=j(e.style,a)),o=Z.cssHooks[t]||Z.cssHooks[a],o&&"get"in o&&(s=o.get(e,!0,i)),void 0===s&&(s=b(e,t,n)),"normal"===s&&t in Ke&&(s=Ke[t]),""===i||i?(r=parseFloat(s),i===!0||Z.isNumeric(r)?r||0:s):s}}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,i,n){return i?Re.test(Z.css(e,"display"))&&0===e.offsetWidth?Z.swap(e,Ye,function(){return I(e,t,n)}):I(e,t,n):void 0},set:function(e,i,n){var s=n&&$e(e);return C(e,i,n?k(e,t,n,"border-box"===Z.css(e,"boxSizing",!1,s),s):0)}}}),Z.cssHooks.marginRight=w(J.reliableMarginRight,function(e,t){return t?Z.swap(e,{display:"inline-block"},b,[e,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(i){for(var n=0,s={},r="string"==typeof i?i.split(" "):[i];4>n;n++)s[e+we[n]+t]=r[n]||r[n-2]||r[0];return s}},We.test(e)||(Z.cssHooks[e+t].set=C)}),Z.fn.extend({css:function(e,t){return me(this,function(e,t,i){var n,s,r={},o=0;if(Z.isArray(t)){for(n=$e(e),s=t.length;s>o;o++)r[t[o]]=Z.css(e,t[o],!1,n);return r}return void 0!==i?Z.style(e,t,i):Z.css(e,t)},e,t,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){je(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=S,S.prototype={constructor:S,init:function(e,t,i,n,s,r){this.elem=e,this.prop=i,this.easing=s||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=r||(Z.cssNumber[i]?"":"px")},cur:function(){var e=S.propHooks[this.prop];return e&&e.get?e.get(this):S.propHooks._default.get(this)},run:function(e){var t,i=S.propHooks[this.prop];return this.pos=t=this.options.duration?Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):S.propHooks._default.set(this),this}},S.prototype.init.prototype=S.prototype,S.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},S.propHooks.scrollTop=S.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.fx=S.prototype.init,Z.fx.step={};var Je,Ge,Qe=/^(?:toggle|show|hide)$/,Ze=new RegExp("^(?:([+-])=|)("+be+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[O],it={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),s=Ze.exec(t),r=s&&s[3]||(Z.cssNumber[e]?"":"px"),o=(Z.cssNumber[e]||"px"!==r&&+n)&&Ze.exec(Z.css(i.elem,e)),a=1,l=20;if(o&&o[3]!==r){r=r||o[3],s=s||[],o=+n||1;do a=a||".5",o/=a,Z.style(i.elem,e,o+r);while(a!==(a=i.cur()/n)&&1!==a&&--l)}return s&&(o=i.start=+o||+n||0,i.unit=r,i.end=s[1]?o+(s[1]+1)*s[2]:+s[2]),i}]};Z.Animation=Z.extend(N,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,s=e.length;s>n;n++)i=e[n],it[i]=it[i]||[],it[i].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),Z.speed=function(e,t,i){var n=e&&"object"==typeof e?Z.extend({},e):{complete:i||!i&&t||Z.isFunction(e)&&e,duration:e,easing:i&&t||t&&!Z.isFunction(t)&&t};return n.duration=Z.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in Z.fx.speeds?Z.fx.speeds[n.duration]:Z.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){Z.isFunction(n.old)&&n.old.call(this),n.queue&&Z.dequeue(this,n.queue)},n},Z.fn.extend({fadeTo:function(e,t,i,n){return this.filter(je).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var s=Z.isEmptyObject(e),r=Z.speed(t,i,n),o=function(){var t=N(this,Z.extend({},e),r);(s||_e.get(this,"finish"))&&t.stop(!0)};return o.finish=o,s||r.queue===!1?this.each(o):this.queue(r.queue,o)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,s=null!=e&&e+"queueHooks",r=Z.timers,o=_e.get(this);if(s)o[s]&&o[s].stop&&n(o[s]);else for(s in o)o[s]&&o[s].stop&&et.test(s)&&n(o[s]);for(s=r.length;s--;)r[s].elem!==this||null!=e&&r[s].queue!==e||(r[s].anim.stop(i),t=!1,r.splice(s,1));(t||!i)&&Z.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=_e.get(this),n=i[e+"queue"],s=i[e+"queueHooks"],r=Z.timers,o=n?n.length:0;for(i.finish=!0,Z.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),
t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;o>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),Z.each(["toggle","show","hide"],function(e,t){var i=Z.fn[t];Z.fn[t]=function(e,n,s){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(E(t,!0),e,n,s)}}),Z.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),Z.timers=[],Z.fx.tick=function(){var e,t=0,i=Z.timers;for(Je=Z.now();t<i.length;t++)e=i[t],e()||i[t]!==e||i.splice(t--,1);i.length||Z.fx.stop(),Je=void 0},Z.fx.timer=function(e){Z.timers.push(e),e()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Ge||(Ge=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Ge),Ge=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},function(){var e=G.createElement("input"),t=G.createElement("select"),i=t.appendChild(G.createElement("option"));e.type="checkbox",J.checkOn=""!==e.value,J.optSelected=i.selected,t.disabled=!0,J.optDisabled=!i.disabled,e=G.createElement("input"),e.value="t",e.type="radio",J.radioValue="t"===e.value}();var nt,st,rt=Z.expr.attrHandle;Z.fn.extend({attr:function(e,t){return me(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})}}),Z.extend({attr:function(e,t,i){var n,s,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute===ke?Z.prop(e,t,i):(1===r&&Z.isXMLDoc(e)||(t=t.toLowerCase(),n=Z.attrHooks[t]||(Z.expr.match.bool.test(t)?st:nt)),void 0===i?n&&"get"in n&&null!==(s=n.get(e,t))?s:(s=Z.find.attr(e,t),null==s?void 0:s):null!==i?n&&"set"in n&&void 0!==(s=n.set(e,i,t))?s:(e.setAttribute(t,i+""),i):void Z.removeAttr(e,t))},removeAttr:function(e,t){var i,n,s=0,r=t&&t.match(fe);if(r&&1===e.nodeType)for(;i=r[s++];)n=Z.propFix[i]||i,Z.expr.match.bool.test(i)&&(e[n]=!1),e.removeAttribute(i)},attrHooks:{type:{set:function(e,t){if(!J.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),st={set:function(e,t,i){return t===!1?Z.removeAttr(e,i):e.setAttribute(i,i),i}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(e,t){var i=rt[t]||Z.find.attr;rt[t]=function(e,t,n){var s,r;return n||(r=rt[t],rt[t]=s,s=null!=i(e,t,n)?t.toLowerCase():null,rt[t]=r),s}});var ot=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(e,t){return me(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Z.propFix[e]||e]})}}),Z.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,i){var n,s,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return r=1!==o||!Z.isXMLDoc(e),r&&(t=Z.propFix[t]||t,s=Z.propHooks[t]),void 0!==i?s&&"set"in s&&void 0!==(n=s.set(e,i,t))?n:e[t]=i:s&&"get"in s&&null!==(n=s.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||ot.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),J.optSelected||(Z.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var at=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(e){var t,i,n,s,r,o,a="string"==typeof e&&e,l=0,h=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(fe)||[];h>l;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(at," "):" ")){for(r=0;s=t[r++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");o=Z.trim(n),i.className!==o&&(i.className=o)}return this},removeClass:function(e){var t,i,n,s,r,o,a=0===arguments.length||"string"==typeof e&&e,l=0,h=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(fe)||[];h>l;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(at," "):"")){for(r=0;s=t[r++];)for(;n.indexOf(" "+s+" ")>=0;)n=n.replace(" "+s+" "," ");o=e?Z.trim(n):"",i.className!==o&&(i.className=o)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):this.each(Z.isFunction(e)?function(i){Z(this).toggleClass(e.call(this,i,this.className,t),t)}:function(){if("string"===i)for(var t,n=0,s=Z(this),r=e.match(fe)||[];t=r[n++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else(i===ke||"boolean"===i)&&(this.className&&_e.set(this,"__className__",this.className),this.className=this.className||e===!1?"":_e.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(at," ").indexOf(t)>=0)return!0;return!1}});var lt=/\r/g;Z.fn.extend({val:function(e){var t,i,n,s=this[0];{if(arguments.length)return n=Z.isFunction(e),this.each(function(i){var s;1===this.nodeType&&(s=n?e.call(this,i,Z(this).val()):e,null==s?s="":"number"==typeof s?s+="":Z.isArray(s)&&(s=Z.map(s,function(e){return null==e?"":e+""})),t=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,s,"value")||(this.value=s))});if(s)return t=Z.valHooks[s.type]||Z.valHooks[s.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(s,"value"))?i:(i=s.value,"string"==typeof i?i.replace(lt,""):null==i?"":i)}}}),Z.extend({valHooks:{option:{get:function(e){var t=Z.find.attr(e,"value");return null!=t?t:Z.trim(Z.text(e))}},select:{get:function(e){for(var t,i,n=e.options,s=e.selectedIndex,r="select-one"===e.type||0>s,o=r?null:[],a=r?s+1:n.length,l=0>s?a:r?s:0;a>l;l++)if(i=n[l],!(!i.selected&&l!==s||(J.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&Z.nodeName(i.parentNode,"optgroup"))){if(t=Z(i).val(),r)return t;o.push(t)}return o},set:function(e,t){for(var i,n,s=e.options,r=Z.makeArray(t),o=s.length;o--;)n=s[o],(n.selected=Z.inArray(n.value,r)>=0)&&(i=!0);return i||(e.selectedIndex=-1),r}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(e,t){return Z.isArray(t)?e.checked=Z.inArray(Z(e).val(),t)>=0:void 0}},J.checkOn||(Z.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),Z.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var ht=Z.now(),ct=/\?/;Z.parseJSON=function(e){return JSON.parse(e+"")},Z.parseXML=function(e){var t,i;if(!e||"string"!=typeof e)return null;try{i=new DOMParser,t=i.parseFromString(e,"text/xml")}catch(n){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+e),t};var dt=/#.*$/,ut=/([?&])_=[^&]*/,ft=/^(.*?):[ \t]*([^\r\n]*)$/gm,pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,gt=/^(?:GET|HEAD)$/,mt=/^\/\//,_t=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,vt={},yt={},xt="*/".concat("*"),bt=e.location.href,wt=_t.exec(bt.toLowerCase())||[];Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt,type:"GET",isLocal:pt.test(wt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?M(M(e,Z.ajaxSettings),t):M(Z.ajaxSettings,e)},ajaxPrefilter:D(vt),ajaxTransport:D(yt),ajax:function(e,t){function i(e,t,i,o){var l,c,_,v,x,w=t;2!==y&&(y=2,a&&clearTimeout(a),n=void 0,r=o||"",b.readyState=e>0?4:0,l=e>=200&&300>e||304===e,i&&(v=H(d,b,i)),v=L(d,v,b,l),l?(d.ifModified&&(x=b.getResponseHeader("Last-Modified"),x&&(Z.lastModified[s]=x),x=b.getResponseHeader("etag"),x&&(Z.etag[s]=x)),204===e||"HEAD"===d.type?w="nocontent":304===e?w="notmodified":(w=v.state,c=v.data,_=v.error,l=!_)):(_=w,(e||!w)&&(w="error",0>e&&(e=0))),b.status=e,b.statusText=(t||w)+"",l?p.resolveWith(u,[c,w,b]):p.rejectWith(u,[b,w,_]),b.statusCode(m),m=void 0,h&&f.trigger(l?"ajaxSuccess":"ajaxError",[b,d,l?c:_]),g.fireWith(u,[b,w]),h&&(f.trigger("ajaxComplete",[b,d]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,s,r,o,a,l,h,c,d=Z.ajaxSetup({},t),u=d.context||d,f=d.context&&(u.nodeType||u.jquery)?Z(u):Z.event,p=Z.Deferred(),g=Z.Callbacks("once memory"),m=d.statusCode||{},_={},v={},y=0,x="canceled",b={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!o)for(o={};t=ft.exec(r);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?r:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return y||(e=v[i]=v[i]||e,_[e]=t),this},overrideMimeType:function(e){return y||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)m[t]=[m[t],e[t]];else b.always(e[b.status]);return this},abort:function(e){var t=e||x;return n&&n.abort(t),i(0,t),this}};if(p.promise(b).complete=g.add,b.success=b.done,b.error=b.fail,d.url=((e||d.url||bt)+"").replace(dt,"").replace(mt,wt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=Z.trim(d.dataType||"*").toLowerCase().match(fe)||[""],null==d.crossDomain&&(l=_t.exec(d.url.toLowerCase()),d.crossDomain=!(!l||l[1]===wt[1]&&l[2]===wt[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(wt[3]||("http:"===wt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=Z.param(d.data,d.traditional)),B(vt,d,t,b),2===y)return b;h=Z.event&&d.global,h&&0===Z.active++&&Z.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!gt.test(d.type),s=d.url,d.hasContent||(d.data&&(s=d.url+=(ct.test(s)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=ut.test(s)?s.replace(ut,"$1_="+ht++):s+(ct.test(s)?"&":"?")+"_="+ht++)),d.ifModified&&(Z.lastModified[s]&&b.setRequestHeader("If-Modified-Since",Z.lastModified[s]),Z.etag[s]&&b.setRequestHeader("If-None-Match",Z.etag[s])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&b.setRequestHeader("Content-Type",d.contentType),b.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+xt+"; q=0.01":""):d.accepts["*"]);for(c in d.headers)b.setRequestHeader(c,d.headers[c]);if(d.beforeSend&&(d.beforeSend.call(u,b,d)===!1||2===y))return b.abort();x="abort";for(c in{success:1,error:1,complete:1})b[c](d[c]);if(n=B(yt,d,t,b)){b.readyState=1,h&&f.trigger("ajaxSend",[b,d]),d.async&&d.timeout>0&&(a=setTimeout(function(){b.abort("timeout")},d.timeout));try{y=1,n.send(_,i)}catch(w){if(!(2>y))throw w;i(-1,w)}}else i(-1,"No Transport");return b},getJSON:function(e,t,i){return Z.get(e,t,i,"json")},getScript:function(e,t){return Z.get(e,void 0,t,"script")}}),Z.each(["get","post"],function(e,t){Z[t]=function(e,i,n,s){return Z.isFunction(i)&&(s=s||n,n=i,i=void 0),Z.ajax({url:e,type:t,dataType:s,data:i,success:n})}}),Z._evalUrl=function(e){return Z.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Z.fn.extend({wrapAll:function(e){var t;return Z.isFunction(e)?this.each(function(t){Z(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Z(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(Z.isFunction(e)?function(t){Z(this).wrapInner(e.call(this,t))}:function(){var t=Z(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(i){Z(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)};var jt=/%20/g,Ct=/\[\]$/,kt=/\r?\n/g,It=/^(?:submit|button|image|reset|file)$/i,Tt=/^(?:input|select|textarea|keygen)/i;Z.param=function(e,t){var i,n=[],s=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){s(this.name,this.value)});else for(i in e)z(i,e[i],t,s);return n.join("&").replace(jt,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Z.prop(this,"elements");return e?Z.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Z(this).is(":disabled")&&Tt.test(this.nodeName)&&!It.test(e)&&(this.checked||!Ce.test(e))}).map(function(e,t){var i=Z(this).val();return null==i?null:Z.isArray(i)?Z.map(i,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:i.replace(kt,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var St=0,Pt={},Et={0:200,1223:204},At=Z.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Pt)Pt[e]()}),J.cors=!!At&&"withCredentials"in At,J.ajax=At=!!At,Z.ajaxTransport(function(e){var t;return J.cors||At&&!e.crossDomain?{send:function(i,n){var s,r=e.xhr(),o=++St;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)r[s]=e.xhrFields[s];e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(s in i)r.setRequestHeader(s,i[s]);t=function(e){return function(){t&&(delete Pt[o],t=r.onload=r.onerror=null,"abort"===e?r.abort():"error"===e?n(r.status,r.statusText):n(Et[r.status]||r.status,r.statusText,"string"==typeof r.responseText?{text:r.responseText}:void 0,r.getAllResponseHeaders()))}},r.onload=t(),r.onerror=t("error"),t=Pt[o]=t("abort");try{r.send(e.hasContent&&e.data||null)}catch(a){if(t)throw a}},abort:function(){t&&t()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(n,s){t=Z("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&s("error"===e.type?404:200,e.type)}),G.head.appendChild(t[0])},abort:function(){i&&i()}}}});var Ot=[],qt=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ot.pop()||Z.expando+"_"+ht++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(t,i,n){var s,r,o,a=t.jsonp!==!1&&(qt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&qt.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(s=t.jsonpCallback=Z.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(qt,"$1"+s):t.jsonp!==!1&&(t.url+=(ct.test(t.url)?"&":"?")+t.jsonp+"="+s),t.converters["script json"]=function(){return o||Z.error(s+" was not called"),o[0]},t.dataTypes[0]="json",r=e[s],e[s]=function(){o=arguments},n.always(function(){e[s]=r,t[s]&&(t.jsonpCallback=i.jsonpCallback,Ot.push(s)),o&&Z.isFunction(r)&&r(o[0]),o=r=void 0}),"script"):void 0}),Z.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||G;var n=oe.exec(e),s=!i&&[];return n?[t.createElement(n[1])]:(n=Z.buildFragment([e],t,s),s&&s.length&&Z(s).remove(),Z.merge([],n.childNodes))};var Nt=Z.fn.load;Z.fn.load=function(e,t,i){if("string"!=typeof e&&Nt)return Nt.apply(this,arguments);var n,s,r,o=this,a=e.indexOf(" ");return a>=0&&(n=Z.trim(e.slice(a)),e=e.slice(0,a)),Z.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(s="POST"),o.length>0&&Z.ajax({url:e,type:s,dataType:"html",data:t}).done(function(e){r=arguments,o.html(n?Z("<div>").append(Z.parseHTML(e)).find(n):e)}).complete(i&&function(e,t){o.each(i,r||[e.responseText,t,e])}),this},Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length};var Dt=e.document.documentElement;Z.offset={setOffset:function(e,t,i){var n,s,r,o,a,l,h,c=Z.css(e,"position"),d=Z(e),u={};"static"===c&&(e.style.position="relative"),a=d.offset(),r=Z.css(e,"top"),l=Z.css(e,"left"),h=("absolute"===c||"fixed"===c)&&(r+l).indexOf("auto")>-1,h?(n=d.position(),o=n.top,s=n.left):(o=parseFloat(r)||0,s=parseFloat(l)||0),Z.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(u.top=t.top-a.top+o),null!=t.left&&(u.left=t.left-a.left+s),"using"in t?t.using.call(e,u):d.css(u)}},Z.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var t,i,n=this[0],s={top:0,left:0},r=n&&n.ownerDocument;if(r)return t=r.documentElement,Z.contains(t,n)?(typeof n.getBoundingClientRect!==ke&&(s=n.getBoundingClientRect()),i=W(r),{top:s.top+i.pageYOffset-t.clientTop,left:s.left+i.pageXOffset-t.clientLeft}):s},position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===Z.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Z.nodeName(e[0],"html")||(n=e.offset()),n.top+=Z.css(e[0],"borderTopWidth",!0),n.left+=Z.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-Z.css(i,"marginTop",!0),left:t.left-n.left-Z.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Dt;e&&!Z.nodeName(e,"html")&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||Dt})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var n="pageYOffset"===i;Z.fn[t]=function(s){return me(this,function(t,s,r){var o=W(t);return void 0===r?o?o[i]:t[s]:void(o?o.scrollTo(n?e.pageXOffset:r,n?r:e.pageYOffset):t[s]=r)},t,s,arguments.length,null)}}),Z.each(["top","left"],function(e,t){Z.cssHooks[t]=w(J.pixelPosition,function(e,i){return i?(i=b(e,t),Fe.test(i)?Z(e).position()[t]+"px":i):void 0})}),Z.each({Height:"height",Width:"width"},function(e,t){Z.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){Z.fn[n]=function(n,s){var r=arguments.length&&(i||"boolean"!=typeof n),o=i||(n===!0||s===!0?"margin":"border");return me(this,function(t,i,n){var s;return Z.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===n?Z.css(t,i,o):Z.style(t,i,n,o)},t,r?n:void 0,r,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var Bt=e.jQuery,Mt=e.$;return Z.noConflict=function(t){return e.$===Z&&(e.$=Mt),t&&e.jQuery===Z&&(e.jQuery=Bt),Z},typeof t===ke&&(e.jQuery=e.$=Z),Z}),function(){function e(e){function t(t,i,n,s,r,o){for(;r>=0&&o>r;r+=e){var a=s?s[r]:r;n=i(n,t[a],a,t)}return n}return function(i,n,s,r){n=y(n,r,4);var o=!I(i)&&v.keys(i),a=(o||i).length,l=e>0?0:a-1;return arguments.length<3&&(s=i[o?o[l]:l],l+=e),t(i,n,s,o,l,a)}}function t(e){return function(t,i,n){i=x(i,n);for(var s=k(t),r=e>0?0:s-1;r>=0&&s>r;r+=e)if(i(t[r],r,t))return r;return-1}}function i(e,t,i){return function(n,s,r){var o=0,a=k(n);if("number"==typeof r)e>0?o=r>=0?r:Math.max(r+a,o):a=r>=0?Math.min(r+1,a):r+a+1;else if(i&&r&&a)return r=i(n,s),n[r]===s?r:-1;if(s!==s)return r=t(c.call(n,o,a),v.isNaN),r>=0?r+o:-1;for(r=e>0?o:a-1;r>=0&&a>r;r+=e)if(n[r]===s)return r;return-1}}function n(e,t){var i=A.length,n=e.constructor,s=v.isFunction(n)&&n.prototype||a,r="constructor";for(v.has(e,r)&&!v.contains(t,r)&&t.push(r);i--;)r=A[i],r in e&&e[r]!==s[r]&&!v.contains(t,r)&&t.push(r)}var s=this,r=s._,o=Array.prototype,a=Object.prototype,l=Function.prototype,h=o.push,c=o.slice,d=a.toString,u=a.hasOwnProperty,f=Array.isArray,p=Object.keys,g=l.bind,m=Object.create,_=function(){},v=function(e){return e instanceof v?e:this instanceof v?void(this._wrapped=e):new v(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=v),exports._=v):s._=v,v.VERSION="1.8.3";var y=function(e,t,i){if(void 0===t)return e;switch(null==i?3:i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,s){return e.call(t,i,n,s)};case 4:return function(i,n,s,r){return e.call(t,i,n,s,r)}}return function(){return e.apply(t,arguments)}},x=function(e,t,i){return null==e?v.identity:v.isFunction(e)?y(e,t,i):v.isObject(e)?v.matcher(e):v.property(e)};v.iteratee=function(e,t){return x(e,t,1/0)};var b=function(e,t){return function(i){var n=arguments.length;if(2>n||null==i)return i;for(var s=1;n>s;s++)for(var r=arguments[s],o=e(r),a=o.length,l=0;a>l;l++){var h=o[l];t&&void 0!==i[h]||(i[h]=r[h])}return i}},w=function(e){if(!v.isObject(e))return{};if(m)return m(e);_.prototype=e;var t=new _;return _.prototype=null,t},j=function(e){return function(t){return null==t?void 0:t[e]}},C=Math.pow(2,53)-1,k=j("length"),I=function(e){var t=k(e);return"number"==typeof t&&t>=0&&C>=t};v.each=v.forEach=function(e,t,i){t=y(t,i);var n,s;if(I(e))for(n=0,s=e.length;s>n;n++)t(e[n],n,e);else{var r=v.keys(e);for(n=0,s=r.length;s>n;n++)t(e[r[n]],r[n],e)}return e},v.map=v.collect=function(e,t,i){t=x(t,i);for(var n=!I(e)&&v.keys(e),s=(n||e).length,r=Array(s),o=0;s>o;o++){var a=n?n[o]:o;r[o]=t(e[a],a,e)}return r},v.reduce=v.foldl=v.inject=e(1),v.reduceRight=v.foldr=e(-1),v.find=v.detect=function(e,t,i){var n;return n=I(e)?v.findIndex(e,t,i):v.findKey(e,t,i),void 0!==n&&-1!==n?e[n]:void 0},v.filter=v.select=function(e,t,i){var n=[];return t=x(t,i),v.each(e,function(e,i,s){t(e,i,s)&&n.push(e)}),n},v.reject=function(e,t,i){return v.filter(e,v.negate(x(t)),i)},v.every=v.all=function(e,t,i){t=x(t,i);for(var n=!I(e)&&v.keys(e),s=(n||e).length,r=0;s>r;r++){var o=n?n[r]:r;if(!t(e[o],o,e))return!1}return!0},v.some=v.any=function(e,t,i){t=x(t,i);for(var n=!I(e)&&v.keys(e),s=(n||e).length,r=0;s>r;r++){var o=n?n[r]:r;if(t(e[o],o,e))return!0}return!1},v.contains=v.includes=v.include=function(e,t,i,n){return I(e)||(e=v.values(e)),("number"!=typeof i||n)&&(i=0),v.indexOf(e,t,i)>=0},v.invoke=function(e,t){var i=c.call(arguments,2),n=v.isFunction(t);return v.map(e,function(e){var s=n?t:e[t];return null==s?s:s.apply(e,i)})},v.pluck=function(e,t){return v.map(e,v.property(t))},v.where=function(e,t){return v.filter(e,v.matcher(t))},v.findWhere=function(e,t){return v.find(e,v.matcher(t))},v.max=function(e,t,i){var n,s,r=-(1/0),o=-(1/0);if(null==t&&null!=e){e=I(e)?e:v.values(e);for(var a=0,l=e.length;l>a;a++)n=e[a],n>r&&(r=n)}else t=x(t,i),v.each(e,function(e,i,n){s=t(e,i,n),(s>o||s===-(1/0)&&r===-(1/0))&&(r=e,o=s)});return r},v.min=function(e,t,i){var n,s,r=1/0,o=1/0;if(null==t&&null!=e){e=I(e)?e:v.values(e);for(var a=0,l=e.length;l>a;a++)n=e[a],r>n&&(r=n)}else t=x(t,i),v.each(e,function(e,i,n){s=t(e,i,n),(o>s||s===1/0&&r===1/0)&&(r=e,o=s)});return r},v.shuffle=function(e){for(var t,i=I(e)?e:v.values(e),n=i.length,s=Array(n),r=0;n>r;r++)t=v.random(0,r),t!==r&&(s[r]=s[t]),s[t]=i[r];return s},v.sample=function(e,t,i){return null==t||i?(I(e)||(e=v.values(e)),e[v.random(e.length-1)]):v.shuffle(e).slice(0,Math.max(0,t))},v.sortBy=function(e,t,i){return t=x(t,i),v.pluck(v.map(e,function(e,i,n){return{value:e,index:i,criteria:t(e,i,n)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,i,n){var s={};return i=x(i,n),v.each(t,function(n,r){var o=i(n,r,t);e(s,n,o)}),s}};v.groupBy=T(function(e,t,i){v.has(e,i)?e[i].push(t):e[i]=[t]}),v.indexBy=T(function(e,t,i){e[i]=t}),v.countBy=T(function(e,t,i){v.has(e,i)?e[i]++:e[i]=1}),v.toArray=function(e){return e?v.isArray(e)?c.call(e):I(e)?v.map(e,v.identity):v.values(e):[]},v.size=function(e){return null==e?0:I(e)?e.length:v.keys(e).length},v.partition=function(e,t,i){t=x(t,i);var n=[],s=[];return v.each(e,function(e,i,r){(t(e,i,r)?n:s).push(e)}),[n,s]},v.first=v.head=v.take=function(e,t,i){return null==e?void 0:null==t||i?e[0]:v.initial(e,e.length-t)},v.initial=function(e,t,i){return c.call(e,0,Math.max(0,e.length-(null==t||i?1:t)))},v.last=function(e,t,i){return null==e?void 0:null==t||i?e[e.length-1]:v.rest(e,Math.max(0,e.length-t))},v.rest=v.tail=v.drop=function(e,t,i){return c.call(e,null==t||i?1:t)},v.compact=function(e){return v.filter(e,v.identity)};var S=function(e,t,i,n){for(var s=[],r=0,o=n||0,a=k(e);a>o;o++){var l=e[o];if(I(l)&&(v.isArray(l)||v.isArguments(l))){t||(l=S(l,t,i));var h=0,c=l.length;for(s.length+=c;c>h;)s[r++]=l[h++]}else i||(s[r++]=l)}return s};v.flatten=function(e,t){return S(e,t,!1)},v.without=function(e){return v.difference(e,c.call(arguments,1))},v.uniq=v.unique=function(e,t,i,n){v.isBoolean(t)||(n=i,i=t,t=!1),null!=i&&(i=x(i,n));for(var s=[],r=[],o=0,a=k(e);a>o;o++){var l=e[o],h=i?i(l,o,e):l;t?(o&&r===h||s.push(l),r=h):i?v.contains(r,h)||(r.push(h),s.push(l)):v.contains(s,l)||s.push(l)}return s},v.union=function(){return v.uniq(S(arguments,!0,!0))},v.intersection=function(e){for(var t=[],i=arguments.length,n=0,s=k(e);s>n;n++){var r=e[n];if(!v.contains(t,r)){for(var o=1;i>o&&v.contains(arguments[o],r);o++);o===i&&t.push(r)}}return t},v.difference=function(e){var t=S(arguments,!0,!0,1);return v.filter(e,function(e){return!v.contains(t,e)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(e){for(var t=e&&v.max(e,k).length||0,i=Array(t),n=0;t>n;n++)i[n]=v.pluck(e,n);return i},v.object=function(e,t){for(var i={},n=0,s=k(e);s>n;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},v.findIndex=t(1),v.findLastIndex=t(-1),v.sortedIndex=function(e,t,i,n){i=x(i,n,1);for(var s=i(t),r=0,o=k(e);o>r;){var a=Math.floor((r+o)/2);i(e[a])<s?r=a+1:o=a}return r},v.indexOf=i(1,v.findIndex,v.sortedIndex),v.lastIndexOf=i(-1,v.findLastIndex),v.range=function(e,t,i){null==t&&(t=e||0,e=0),i=i||1;for(var n=Math.max(Math.ceil((t-e)/i),0),s=Array(n),r=0;n>r;r++,e+=i)s[r]=e;return s};var P=function(e,t,i,n,s){if(!(n instanceof t))return e.apply(i,s);var r=w(e.prototype),o=e.apply(r,s);return v.isObject(o)?o:r};v.bind=function(e,t){if(g&&e.bind===g)return g.apply(e,c.call(arguments,1));if(!v.isFunction(e))throw new TypeError("Bind must be called on a function");var i=c.call(arguments,2),n=function(){return P(e,n,t,this,i.concat(c.call(arguments)))};return n},v.partial=function(e){var t=c.call(arguments,1),i=function(){for(var n=0,s=t.length,r=Array(s),o=0;s>o;o++)r[o]=t[o]===v?arguments[n++]:t[o];for(;n<arguments.length;)r.push(arguments[n++]);return P(e,i,this,this,r)};return i},v.bindAll=function(e){var t,i,n=arguments.length;if(1>=n)throw new Error("bindAll must be passed function names");for(t=1;n>t;t++)i=arguments[t],e[i]=v.bind(e[i],e);return e},v.memoize=function(e,t){var i=function(n){var s=i.cache,r=""+(t?t.apply(this,arguments):n);return v.has(s,r)||(s[r]=e.apply(this,arguments)),s[r]};return i.cache={},i},v.delay=function(e,t){var i=c.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},v.defer=v.partial(v.delay,v,1),v.throttle=function(e,t,i){var n,s,r,o=null,a=0;i||(i={});var l=function(){a=i.leading===!1?0:v.now(),o=null,r=e.apply(n,s),o||(n=s=null)};return function(){var h=v.now();a||i.leading!==!1||(a=h);var c=t-(h-a);return n=this,s=arguments,0>=c||c>t?(o&&(clearTimeout(o),o=null),a=h,r=e.apply(n,s),o||(n=s=null)):o||i.trailing===!1||(o=setTimeout(l,c)),r}},v.debounce=function(e,t,i){var n,s,r,o,a,l=function(){var h=v.now()-o;t>h&&h>=0?n=setTimeout(l,t-h):(n=null,i||(a=e.apply(r,s),n||(r=s=null)))};return function(){r=this,s=arguments,o=v.now();var h=i&&!n;return n||(n=setTimeout(l,t)),h&&(a=e.apply(r,s),r=s=null),a}},v.wrap=function(e,t){return v.partial(t,e)},v.negate=function(e){return function(){return!e.apply(this,arguments)}},v.compose=function(){var e=arguments,t=e.length-1;return function(){for(var i=t,n=e[t].apply(this,arguments);i--;)n=e[i].call(this,n);return n}},v.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},v.before=function(e,t){var i;return function(){return--e>0&&(i=t.apply(this,arguments)),1>=e&&(t=null),i}},v.once=v.partial(v.before,2);var E=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];v.keys=function(e){if(!v.isObject(e))return[];if(p)return p(e);var t=[];for(var i in e)v.has(e,i)&&t.push(i);return E&&n(e,t),t},v.allKeys=function(e){if(!v.isObject(e))return[];var t=[];for(var i in e)t.push(i);return E&&n(e,t),t},v.values=function(e){for(var t=v.keys(e),i=t.length,n=Array(i),s=0;i>s;s++)n[s]=e[t[s]];return n},v.mapObject=function(e,t,i){t=x(t,i);for(var n,s=v.keys(e),r=s.length,o={},a=0;r>a;a++)n=s[a],o[n]=t(e[n],n,e);return o},v.pairs=function(e){for(var t=v.keys(e),i=t.length,n=Array(i),s=0;i>s;s++)n[s]=[t[s],e[t[s]]];return n},v.invert=function(e){for(var t={},i=v.keys(e),n=0,s=i.length;s>n;n++)t[e[i[n]]]=i[n];return t},v.functions=v.methods=function(e){var t=[];for(var i in e)v.isFunction(e[i])&&t.push(i);return t.sort()},v.extend=b(v.allKeys),v.extendOwn=v.assign=b(v.keys),v.findKey=function(e,t,i){t=x(t,i);for(var n,s=v.keys(e),r=0,o=s.length;o>r;r++)if(n=s[r],t(e[n],n,e))return n},v.pick=function(e,t,i){var n,s,r={},o=e;if(null==o)return r;v.isFunction(t)?(s=v.allKeys(o),n=y(t,i)):(s=S(arguments,!1,!1,1),n=function(e,t,i){return t in i},o=Object(o));for(var a=0,l=s.length;l>a;a++){var h=s[a],c=o[h];n(c,h,o)&&(r[h]=c)}return r},v.omit=function(e,t,i){if(v.isFunction(t))t=v.negate(t);else{var n=v.map(S(arguments,!1,!1,1),String);t=function(e,t){return!v.contains(n,t)}}return v.pick(e,t,i)},v.defaults=b(v.allKeys,!0),v.create=function(e,t){var i=w(e);return t&&v.extendOwn(i,t),i},v.clone=function(e){return v.isObject(e)?v.isArray(e)?e.slice():v.extend({},e):e},v.tap=function(e,t){return t(e),e},v.isMatch=function(e,t){var i=v.keys(t),n=i.length;if(null==e)return!n;for(var s=Object(e),r=0;n>r;r++){var o=i[r];if(t[o]!==s[o]||!(o in s))return!1}return!0};var O=function(e,t,i,n){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof v&&(e=e._wrapped),t instanceof v&&(t=t._wrapped);var s=d.call(e);if(s!==d.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var r="[object Array]"===s;if(!r){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,a=t.constructor;if(o!==a&&!(v.isFunction(o)&&o instanceof o&&v.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1;

}i=i||[],n=n||[];for(var l=i.length;l--;)if(i[l]===e)return n[l]===t;if(i.push(e),n.push(t),r){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!O(e[l],t[l],i,n))return!1}else{var h,c=v.keys(e);if(l=c.length,v.keys(t).length!==l)return!1;for(;l--;)if(h=c[l],!v.has(t,h)||!O(e[h],t[h],i,n))return!1}return i.pop(),n.pop(),!0};v.isEqual=function(e,t){return O(e,t)},v.isEmpty=function(e){return null==e?!0:I(e)&&(v.isArray(e)||v.isString(e)||v.isArguments(e))?0===e.length:0===v.keys(e).length},v.isElement=function(e){return!(!e||1!==e.nodeType)},v.isArray=f||function(e){return"[object Array]"===d.call(e)},v.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){v["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),v.isArguments(arguments)||(v.isArguments=function(e){return v.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(e){return"function"==typeof e||!1}),v.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},v.isNaN=function(e){return v.isNumber(e)&&e!==+e},v.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===d.call(e)},v.isNull=function(e){return null===e},v.isUndefined=function(e){return void 0===e},v.has=function(e,t){return null!=e&&u.call(e,t)},v.noConflict=function(){return s._=r,this},v.identity=function(e){return e},v.constant=function(e){return function(){return e}},v.noop=function(){},v.property=j,v.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},v.matcher=v.matches=function(e){return e=v.extendOwn({},e),function(t){return v.isMatch(t,e)}},v.times=function(e,t,i){var n=Array(Math.max(0,e));t=y(t,i,1);for(var s=0;e>s;s++)n[s]=t(s);return n},v.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},v.now=Date.now||function(){return(new Date).getTime()};var q={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},N=v.invert(q),D=function(e){var t=function(t){return e[t]},i="(?:"+v.keys(e).join("|")+")",n=RegExp(i),s=RegExp(i,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(s,t):e}};v.escape=D(q),v.unescape=D(N),v.result=function(e,t,i){var n=null==e?void 0:e[t];return void 0===n&&(n=i),v.isFunction(n)?n.call(e):n};var B=0;v.uniqueId=function(e){var t=++B+"";return e?e+t:t},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var M=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\u2028|\u2029/g,z=function(e){return"\\"+H[e]};v.template=function(e,t,i){!t&&i&&(t=i),t=v.defaults({},t,v.templateSettings);var n=RegExp([(t.escape||M).source,(t.interpolate||M).source,(t.evaluate||M).source].join("|")+"|$","g"),s=0,r="__p+='";e.replace(n,function(t,i,n,o,a){return r+=e.slice(s,a).replace(L,z),s=a+t.length,i?r+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?r+="'+\n((__t=("+n+"))==null?'':__t)+\n'":o&&(r+="';\n"+o+"\n__p+='"),t}),r+="';\n",t.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var o=new Function(t.variable||"obj","_",r)}catch(a){throw a.source=r,a}var l=function(e){return o.call(this,e,v)},h=t.variable||"obj";return l.source="function("+h+"){\n"+r+"}",l},v.chain=function(e){var t=v(e);return t._chain=!0,t};var W=function(e,t){return e._chain?v(t).chain():t};v.mixin=function(e){v.each(v.functions(e),function(t){var i=v[t]=e[t];v.prototype[t]=function(){var e=[this._wrapped];return h.apply(e,arguments),W(this,i.apply(v,e))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=o[e];v.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!==e&&"splice"!==e||0!==i.length||delete i[0],W(this,i)}}),v.each(["concat","join","slice"],function(e){var t=o[e];v.prototype[e]=function(){return W(this,t.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return v})}.call(this),function(e,t){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(i,n,s){e.Backbone=t(e,s,i,n)});else if("undefined"!=typeof exports){var i=require("underscore");t(e,exports,i)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,i,n){{var s=e.Backbone,r=[],o=(r.push,r.slice);r.splice}t.VERSION="1.1.2",t.$=n,t.noConflict=function(){return e.Backbone=s,this},t.emulateHTTP=!1,t.emulateJSON=!1;var a=t.Events={on:function(e,t,i){if(!h(this,"on",e,[t,i])||!t)return this;this._events||(this._events={});var n=this._events[e]||(this._events[e]=[]);return n.push({callback:t,context:i,ctx:i||this}),this},once:function(e,t,n){if(!h(this,"once",e,[t,n])||!t)return this;var s=this,r=i.once(function(){s.off(e,r),t.apply(this,arguments)});return r._callback=t,this.on(e,r,n)},off:function(e,t,n){var s,r,o,a,l,c,d,u;if(!this._events||!h(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events=void 0,this;for(a=e?[e]:i.keys(this._events),l=0,c=a.length;c>l;l++)if(e=a[l],o=this._events[e]){if(this._events[e]=s=[],t||n)for(d=0,u=o.length;u>d;d++)r=o[d],(t&&t!==r.callback&&t!==r.callback._callback||n&&n!==r.context)&&s.push(r);s.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=o.call(arguments,1);if(!h(this,"trigger",e,t))return this;var i=this._events[e],n=this._events.all;return i&&c(i,t),n&&c(n,arguments),this},stopListening:function(e,t,n){var s=this._listeningTo;if(!s)return this;var r=!t&&!n;n||"object"!=typeof t||(n=this),e&&((s={})[e._listenId]=e);for(var o in s)e=s[o],e.off(t,n,this),(r||i.isEmpty(e._events))&&delete this._listeningTo[o];return this}},l=/\s+/,h=function(e,t,i,n){if(!i)return!0;if("object"==typeof i){for(var s in i)e[t].apply(e,[s,i[s]].concat(n));return!1}if(l.test(i)){for(var r=i.split(l),o=0,a=r.length;a>o;o++)e[t].apply(e,[r[o]].concat(n));return!1}return!0},c=function(e,t){var i,n=-1,s=e.length,r=t[0],o=t[1],a=t[2];switch(t.length){case 0:for(;++n<s;)(i=e[n]).callback.call(i.ctx);return;case 1:for(;++n<s;)(i=e[n]).callback.call(i.ctx,r);return;case 2:for(;++n<s;)(i=e[n]).callback.call(i.ctx,r,o);return;case 3:for(;++n<s;)(i=e[n]).callback.call(i.ctx,r,o,a);return;default:for(;++n<s;)(i=e[n]).callback.apply(i.ctx,t);return}},d={listenTo:"on",listenToOnce:"once"};i.each(d,function(e,t){a[t]=function(t,n,s){var r=this._listeningTo||(this._listeningTo={}),o=t._listenId||(t._listenId=i.uniqueId("l"));return r[o]=t,s||"object"!=typeof n||(s=this),t[e](n,s,this),this}}),a.bind=a.on,a.unbind=a.off,i.extend(t,a);var u=t.Model=function(e,t){var n=e||{};t||(t={}),this.cid=i.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(n=this.parse(n,t)||{}),n=i.defaults({},n,i.result(this,"defaults")),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)};i.extend(u.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return i.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return i.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var s,r,o,a,l,h,c,d;if(null==e)return this;if("object"==typeof e?(r=e,n=t):(r={})[e]=t,n||(n={}),!this._validate(r,n))return!1;o=n.unset,l=n.silent,a=[],h=this._changing,this._changing=!0,h||(this._previousAttributes=i.clone(this.attributes),this.changed={}),d=this.attributes,c=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(s in r)t=r[s],i.isEqual(d[s],t)||a.push(s),i.isEqual(c[s],t)?delete this.changed[s]:this.changed[s]=t,o?delete d[s]:d[s]=t;if(!l){a.length&&(this._pending=n);for(var u=0,f=a.length;f>u;u++)this.trigger("change:"+a[u],this,d[a[u]],n)}if(h)return this;if(!l)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,i.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,i.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!i.isEmpty(this.changed):i.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?i.clone(this.changed):!1;var t,n=!1,s=this._changing?this._previousAttributes:this.attributes;for(var r in e)i.isEqual(s[r],t=e[r])||((n||(n={}))[r]=t);return n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(e){e=e?i.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(i){return t.set(t.parse(i,e),e)?(n&&n(t,i,e),void t.trigger("sync",t,i,e)):!1},M(this,e),this.sync("read",this,e)},save:function(e,t,n){var s,r,o,a=this.attributes;if(null==e||"object"==typeof e?(s=e,n=t):(s={})[e]=t,n=i.extend({validate:!0},n),s&&!n.wait){if(!this.set(s,n))return!1}else if(!this._validate(s,n))return!1;s&&n.wait&&(this.attributes=i.extend({},a,s)),void 0===n.parse&&(n.parse=!0);var l=this,h=n.success;return n.success=function(e){l.attributes=a;var t=l.parse(e,n);return n.wait&&(t=i.extend(s||{},t)),i.isObject(t)&&!l.set(t,n)?!1:(h&&h(l,e,n),void l.trigger("sync",l,e,n))},M(this,n),r=this.isNew()?"create":n.patch?"patch":"update","patch"===r&&(n.attrs=s),o=this.sync(r,this,n),s&&n.wait&&(this.attributes=a),o},destroy:function(e){e=e?i.clone(e):{};var t=this,n=e.success,s=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(i){(e.wait||t.isNew())&&s(),n&&n(t,i,e),t.isNew()||t.trigger("sync",t,i,e)},this.isNew())return e.success(),!1;M(this,e);var r=this.sync("delete",this,e);return e.wait||s(),r},url:function(){var e=i.result(this,"urlRoot")||i.result(this.collection,"url")||B();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},i.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=i.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,i.extend(t,{validationError:n})),!1):!0}});var f=["keys","values","pairs","invert","pick","omit"];i.each(f,function(e){u.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.attributes),i[e].apply(i,t)}});var p=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,i.extend({silent:!0},t))},g={add:!0,remove:!0,merge:!0},m={add:!0,remove:!1};i.extend(p.prototype,a,{model:u,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,i.extend({merge:!1},t,m))},remove:function(e,t){var n=!i.isArray(e);e=n?[e]:i.clone(e),t||(t={});var s,r,o,a;for(s=0,r=e.length;r>s;s++)a=e[s]=this.get(e[s]),a&&(delete this._byId[a.id],delete this._byId[a.cid],o=this.indexOf(a),this.models.splice(o,1),this.length--,t.silent||(t.index=o,a.trigger("remove",a,this,t)),this._removeReference(a,t));return n?e[0]:e},set:function(e,t){t=i.defaults({},t,g),t.parse&&(e=this.parse(e,t));var n=!i.isArray(e);e=n?e?[e]:[]:i.clone(e);var s,r,o,a,l,h,c,d=t.at,f=this.model,p=this.comparator&&null==d&&t.sort!==!1,m=i.isString(this.comparator)?this.comparator:null,_=[],v=[],y={},x=t.add,b=t.merge,w=t.remove,j=!p&&x&&w?[]:!1;for(s=0,r=e.length;r>s;s++){if(l=e[s]||{},o=l instanceof u?a=l:l[f.prototype.idAttribute||"id"],h=this.get(o))w&&(y[h.cid]=!0),b&&(l=l===a?a.attributes:l,t.parse&&(l=h.parse(l,t)),h.set(l,t),p&&!c&&h.hasChanged(m)&&(c=!0)),e[s]=h;else if(x){if(a=e[s]=this._prepareModel(l,t),!a)continue;_.push(a),this._addReference(a,t)}a=h||a,!j||!a.isNew()&&y[a.id]||j.push(a),y[a.id]=!0}if(w){for(s=0,r=this.length;r>s;++s)y[(a=this.models[s]).cid]||v.push(a);v.length&&this.remove(v,t)}if(_.length||j&&j.length)if(p&&(c=!0),this.length+=_.length,null!=d)for(s=0,r=_.length;r>s;s++)this.models.splice(d+s,0,_[s]);else{j&&(this.models.length=0);var C=j||_;for(s=0,r=C.length;r>s;s++)this.models.push(C[s])}if(c&&this.sort({silent:!0}),!t.silent){for(s=0,r=_.length;r>s;s++)(a=_[s]).trigger("add",a,this,t);(c||j&&j.length)&&this.trigger("sort",this,t)}return n?e[0]:e},reset:function(e,t){t||(t={});for(var n=0,s=this.models.length;s>n;n++)this._removeReference(this.models[n],t);return t.previousModels=this.models,this._reset(),e=this.add(e,i.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,i.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,i.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return o.apply(this.models,arguments)},get:function(e){return null==e?void 0:this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return i.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var i in e)if(e[i]!==t.get(i))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),i.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(i.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return i.invoke(this.models,"get",e)},fetch:function(e){e=e?i.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,n=this;return e.success=function(i){var s=e.reset?"reset":"set";n[s](i,e),t&&t(n,i,e),n.trigger("sync",n,i,e)},M(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?i.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,s=t.success;return t.success=function(e,i){t.wait&&n.add(e,t),s&&s(e,i,t)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof u)return e;t=t?i.clone(t):{},t.collection=this;var n=new this.model(e,t);return n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n},_addReference:function(e,t){this._byId[e.cid]=e,null!=e.id&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,i,n){("add"!==e&&"remove"!==e||i===this)&&("destroy"===e&&this.remove(t,n),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var _=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];i.each(_,function(e){p.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.models),i[e].apply(i,t)}});var v=["groupBy","countBy","sortBy","indexBy"];i.each(v,function(e){p.prototype[e]=function(t,n){var s=i.isFunction(t)?t:function(e){return e.get(t)};return i[e](this.models,s,n)}});var y=t.View=function(e){this.cid=i.uniqueId("view"),e||(e={}),i.extend(this,i.pick(e,b)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},x=/^(\S+)\s*(.*)$/,b=["model","collection","el","id","attributes","className","tagName","events"];i.extend(y.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,i){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],i!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=i.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];if(i.isFunction(n)||(n=this[e[t]]),n){var s=t.match(x),r=s[1],o=s[2];n=i.bind(n,this),r+=".delegateEvents"+this.cid,""===o?this.$el.on(r,n):this.$el.on(r,o,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"),!1);else{var e=i.extend({},i.result(this,"attributes"));this.id&&(e.id=i.result(this,"id")),this.className&&(e["class"]=i.result(this,"className"));var n=t.$("<"+i.result(this,"tagName")+">").attr(e);this.setElement(n,!1)}}}),t.sync=function(e,n,s){var r=j[e];i.defaults(s||(s={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:r,dataType:"json"};if(s.url||(o.url=i.result(n,"url")||B()),null!=s.data||!n||"create"!==e&&"update"!==e&&"patch"!==e||(o.contentType="application/json",o.data=JSON.stringify(s.attrs||n.toJSON(s))),s.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),s.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){o.type="POST",s.emulateJSON&&(o.data._method=r);var a=s.beforeSend;s.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",r),a?a.apply(this,arguments):void 0}}"GET"===o.type||s.emulateJSON||(o.processData=!1),"PATCH"===o.type&&w&&(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=s.xhr=t.ajax(i.extend(o,s));return n.trigger("request",n,l,s),l};var w=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),j={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var C=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},k=/\((.*?)\)/g,I=/(\(\?)?:\w+/g,T=/\*\w+/g,S=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(C.prototype,a,{initialize:function(){},route:function(e,n,s){i.isRegExp(e)||(e=this._routeToRegExp(e)),i.isFunction(n)&&(s=n,n=""),s||(s=this[n]);var r=this;return t.history.route(e,function(i){var o=r._extractParameters(e,i);r.execute(s,o),r.trigger.apply(r,["route:"+n].concat(o)),r.trigger("route",n,o),t.history.trigger("route",r,n,o)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,i){return t.history.navigate(e,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var e,t=i.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(S,"\\$&").replace(k,"(?:$1)?").replace(I,function(e,t){return t?e:"([^/?]+)"}).replace(T,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return i.map(n,function(e,t){return t===n.length-1?e||null:e?decodeURIComponent(e):null})}});var P=t.History=function(){this.handlers=[],i.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},E=/^[#\/]|\s+$/g,A=/^\/+|\/+$/g,O=/msie [\w.]+/,q=/\/$/,N=/#.*$/;P.started=!1,i.extend(P.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var i=this.root.replace(q,"");e.indexOf(i)||(e=e.slice(i.length))}else e=this.getHash();return e.replace(E,"")},start:function(e){if(P.started)throw new Error("Backbone.history has already been started");P.started=!0,this.options=i.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),s=document.documentMode,r=O.exec(navigator.userAgent.toLowerCase())&&(!s||7>=s);if(this.root=("/"+this.root+"/").replace(A,"/"),r&&this._wantsHashChange){var o=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=o.hide().appendTo("body")[0].contentWindow,this.navigate(n)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(E,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),P.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(e){return e=this.fragment=this.getFragment(e),i.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(e,t){if(!P.started)return!1;t&&t!==!0||(t={trigger:!!t});var i=this.root+(e=this.getFragment(e||""));if(e=e.replace(N,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==i&&(i=i.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,i){if(i){var n=e.href.replace(/(javascript:|#).*$/,"");e.replace(n+"#"+t)}else e.hash="#"+t}}),t.history=new P;var D=function(e,t){var n,s=this;n=e&&i.has(e,"constructor")?e.constructor:function(){return s.apply(this,arguments)},i.extend(n,s,t);var r=function(){this.constructor=n};return r.prototype=s.prototype,n.prototype=new r,e&&i.extend(n.prototype,e),n.__super__=s.prototype,n};u.extend=p.extend=C.extend=y.extend=P.extend=D;var B=function(){throw new Error('A "url" property or function must be specified')},M=function(e,t){var i=t.error;t.error=function(n){i&&i(e,n,t),e.trigger("error",e,n,t)}};return t}),!function(e){var t={config:{},container:{},controls:{},errors:{},items:{},utils:{}};t.utils.F=function(){},t.utils.extend=function(e,i){e.prototype=t.utils.createObject(i.prototype),e.prototype.contructor=e},t.utils.createObject=function(e){return"function"==typeof Object.create?Object.create(e):(t.utils.F.prototype=e,new t.utils.F)},t.utils.objectKeys=function(e){var t,i;if("function"==typeof Object.keys)return Object.keys(e);t=[];for(i in e)t.push(i);return t},t.utils.getQueryStringParam=function(e){if(!window.location.search)return null;var t,i,n=window.location.search.substr(1).split("&"),s={};for(i=0;i<n.length;i++)t=n[i].split("="),s[t[0]]=t[1];return s[e]||null},t.utils.copy=function(e,t){for(var i in t)e[i]=t[i];return e},t.utils.animFrame=function(e){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)})(function(){e()})},t.utils.indexOf=function(e,t){if(!(t instanceof Array))throw new Error("Haystack is not an Array");if(t.indexOf)return t.indexOf(e);for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},t.utils.fnBind=function(e,t,i){if(void 0!==Function.prototype.bind)return Function.prototype.bind.apply(e,[t].concat(i||[]));var n=function(){var s=(i||[]).concat(Array.prototype.slice.call(arguments,0));return this instanceof n?void e.apply(this,s):e.apply(t,s)};return n.prototype=e.prototype,n},t.utils.removeFromArray=function(e,i){var n=t.utils.indexOf(e,i);if(-1===n)throw new Error("Can't remove item from array. Item is not in the array");i.splice(n,1)},t.utils.now=function(){return"function"==typeof Date.now?Date.now():(new Date).getTime()},t.utils.getUniqueId=function(){return(1e15*Math.random()).toString(36).replace(".","")},t.utils.filterXss=function(e,t){var i=e.replace(/javascript/gi,"j&#97;vascript").replace(/expression/gi,"expr&#101;ssion").replace(/onload/gi,"onlo&#97;d").replace(/script/gi,"&#115;cript").replace(/onerror/gi,"on&#101;rror");return t===!0?i:i.replace(/>/g,"&gt;").replace(/</g,"&lt;")},t.utils.stripTags=function(t){return e.trim(t.replace(/(<([^>]+)>)/gi,""))},t.utils.EventEmitter=function(){this._mSubscriptions={},this._mSubscriptions[t.utils.EventEmitter.ALL_EVENT]=[],this.on=function(e,t,i){this._mSubscriptions[e]||(this._mSubscriptions[e]=[]),this._mSubscriptions[e].push({fn:t,ctx:i})},this.emit=function(e){var i,n,s;if(s=Array.prototype.slice.call(arguments,1),this._mSubscriptions[e])for(i=0;i<this._mSubscriptions[e].length;i++)n=this._mSubscriptions[e][i].ctx||{},this._mSubscriptions[e][i].fn.apply(n,s);for(s.unshift(e),i=0;i<this._mSubscriptions[t.utils.EventEmitter.ALL_EVENT].length;i++)n=this._mSubscriptions[t.utils.EventEmitter.ALL_EVENT][i].ctx||{},this._mSubscriptions[t.utils.EventEmitter.ALL_EVENT][i].fn.apply(n,s)},this.unbind=function(e,t,i){if(!this._mSubscriptions[e])throw new Error("No subscribtions to unsubscribe for event "+e);var n,s=!1;for(n=0;n<this._mSubscriptions[e].length;n++)this._mSubscriptions[e][n].fn!==t||i&&i!==this._mSubscriptions[e][n].ctx||(this._mSubscriptions[e].splice(n,1),s=!0);if(s===!1)throw new Error("Nothing to unbind for "+e)},this.off=this.unbind,this.trigger=this.emit},t.utils.EventEmitter.ALL_EVENT="__all",t.utils.DragListener=function(i,n){t.utils.EventEmitter.call(this),this._eElement=e(i),this._oDocument=e(document),this._eBody=e(document.body),this._nButtonCode=n||0,this._nDelay=200,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._bDragging=!1,this._fMove=t.utils.fnBind(this.onMouseMove,this),this._fUp=t.utils.fnBind(this.onMouseUp,this),this._fDown=t.utils.fnBind(this.onMouseDown,this),this._eElement.on("mousedown touchstart",this._fDown)},t.utils.DragListener.timeout=null,t.utils.copy(t.utils.DragListener.prototype,{destroy:function(){this._eElement.unbind("mousedown touchstart",this._fDown)},onMouseDown:function(e){e.preventDefault();var i=this._getCoordinates(e);this._nOriginalX=i.x,this._nOriginalY=i.y,this._oDocument.on("mousemove touchmove",this._fMove),this._oDocument.one("mouseup touchend",this._fUp),this._timeout=setTimeout(t.utils.fnBind(this._startDrag,this),this._nDelay)},onMouseMove:function(e){e.preventDefault();var t=this._getCoordinates(e);this._nX=t.x-this._nOriginalX,this._nY=t.y-this._nOriginalY,this._bDragging===!1&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&(clearTimeout(this._timeout),this._startDrag()),this._bDragging&&this.emit("drag",this._nX,this._nY,e)},onMouseUp:function(e){clearTimeout(this._timeout),this._eBody.removeClass("lm_dragging"),this._oDocument.unbind("mousemove touchmove",this._fMove),this._bDragging===!0&&(this._bDragging=!1,this.emit("dragStop",e,this._nOriginalX+this._nX))},_startDrag:function(){this._bDragging=!0,this._eBody.addClass("lm_dragging"),this.emit("dragStart",this._nOriginalX,this._nOriginalY)},_getCoordinates:function(e){var t={};return"touch"===e.type.substr(0,5)?(t.x=e.originalEvent.targetTouches[0].pageX,t.y=e.originalEvent.targetTouches[0].pageY):(t.x=e.pageX,t.y=e.pageY),t}}),t.LayoutManager=function(i,n){if(!e||"function"!=typeof e.noConflict){var s="jQuery is missing as dependency for GoldenLayout. ";throw s+='Please either expose $ on GoldenLayout\'s scope (e.g. window) or add "jquery" to ',s+="your paths when using RequireJS/AMD",new Error(s)}t.utils.EventEmitter.call(this),this.isInitialised=!1,this._isFullPage=!1,this._resizeTimeoutId=null,this._components={},this._itemAreas=[],this._resizeFunction=t.utils.fnBind(this._onResize,this),this._maximisedItem=null,this._maximisePlaceholder=e('<div class="lm_maximise_place"></div>'),this._creationTimeoutPassed=!1,this._subWindowsCreated=!1,this.width=null,this.height=null,this.root=null,this.openPopouts=[],this.selectedItem=null,this.isSubWindow=!1,this.eventHub=new t.utils.EventHub(this),this.config=this._createConfig(i),this.container=n,this.dropTargetIndicator=null,this.transitionIndicator=null,this.tabDropPlaceholder=e('<div class="lm_drop_tab_placeholder"></div>'),this.isSubWindow===!0&&e("body").css("visibility","hidden"),e(window).on("unload beforeunload",t.utils.fnBind(this._onUnload,this)),this._typeToItem={column:t.utils.fnBind(t.items.RowOrColumn,this,[!0]),row:t.utils.fnBind(t.items.RowOrColumn,this,[!1]),stack:t.items.Stack,component:t.items.Component}},t.LayoutManager.__lm=t,t.LayoutManager.minifyConfig=function(e){return(new t.utils.ConfigMinifier).minifyConfig(e)},t.LayoutManager.unminifyConfig=function(e){return(new t.utils.ConfigMinifier).unminifyConfig(e)},t.utils.copy(t.LayoutManager.prototype,{registerComponent:function(e,t){if("function"!=typeof t)throw new Error("Please register a constructor function");if(void 0!==this._components[e])throw new Error("Component "+e+" is already registered");this._components[e]=t},toConfig:function(e){var i,n,s;if(this.isInitialised===!1)throw new Error("Can't create config, layout not yet initialised");if(e&&!(e instanceof t.items.AbstractContentItem))throw new Error("Root must be a ContentItem");for(i={settings:t.utils.copy({},this.config.settings),dimensions:t.utils.copy({},this.config.dimensions),labels:t.utils.copy({},this.config.labels)},i.content=[],n=function(e,t){var i,s;for(i in t.config)"content"!==i&&(e[i]=t.config[i]);if(t.contentItems.length)for(e.content=[],s=0;s<t.contentItems.length;s++)e.content[s]={},n(e.content[s],t.contentItems[s])},e?n(i,{contentItems:[e]}):n(i,this.root),this._$reconcilePopoutWindows(),i.openPopouts=[],s=0;s<this.openPopouts.length;s++)i.openPopouts.push(this.openPopouts[s].toConfig());return i.maximisedItemId=this._maximisedItem?"__glMaximised":null,i},getComponent:function(e){if(void 0===this._components[e])throw new t.errors.ConfigurationError('Unknown component "'+e+'"');return this._components[e]},init:function(){return this._subWindowsCreated===!1&&(this._createSubWindows(),this._subWindowsCreated=!0),"loading"===document.readyState||null===document.body?void e(document).ready(t.utils.fnBind(this.init,this)):this.isSubWindow===!0&&this._creationTimeoutPassed===!1?(setTimeout(t.utils.fnBind(this.init,this),7),void(this._creationTimeoutPassed=!0)):(this.isSubWindow===!0&&this._adjustToWindowMode(),this._setContainer(),this.dropTargetIndicator=new t.controls.DropTargetIndicator(this.container),this.transitionIndicator=new t.controls.TransitionIndicator,this.updateSize(),this._create(this.config),this._bindEvents(),
this.isInitialised=!0,void this.emit("initialised"))},updateSize:function(e,t){2===arguments.length?(this.width=e,this.height=t):(this.width=this.container.width(),this.height=this.container.height()),this.isInitialised===!0&&(this.root.callDownwards("setSize"),this._maximisedItem&&(this._maximisedItem.element.width(this.container.width()),this._maximisedItem.element.height(this.container.height()),this._maximisedItem.callDownwards("setSize")))},destroy:function(){this.isInitialised!==!1&&(this._onUnload(),e(window).off("resize",this._resizeFunction),this.root.callDownwards("_$destroy",[],!0),this.root.contentItems=[],this.tabDropPlaceholder.remove(),this.dropTargetIndicator.destroy(),this.transitionIndicator.destroy())},createContentItem:function(e,i){var n,s;if("string"!=typeof e.type)throw new t.errors.ConfigurationError("Missing parameter 'type'",e);if(!this._typeToItem[e.type])throw n="Unknown type '"+e.type+"'. Valid types are "+t.utils.objectKeys(this._typeToItem).join(","),new t.errors.ConfigurationError(n);return"component"!==e.type||i instanceof t.items.Stack||!i||this.isSubWindow===!0&&i instanceof t.items.Root||(e={type:"stack",isClosable:e.isClosable,width:e.width,height:e.height,content:[e]}),s=new this._typeToItem[e.type](this,e,i)},createPopout:function(e,i,n,s){var r,o,a,l,h,c,d=e,u=e instanceof t.items.AbstractContentItem,f=this;if(n=n||null,u){for(d=this.toConfig(e).content,n=t.utils.getUniqueId(),l=e.parent,h=e;1===l.contentItems.length&&!l.isRoot;)l=l.parent,h=h.parent;l.addId(n),isNaN(s)&&(s=t.utils.indexOf(h,l.contentItems))}else d instanceof Array||(d=[d]);return!i&&u&&(r=window.screenX||window.screenLeft,o=window.screenY||window.screenTop,a=e.element.offset(),i={left:r+a.left,top:o+a.top,width:e.element.width(),height:e.element.height()}),i||u||(i={left:window.screenX||window.screenLeft+20,top:window.screenY||window.screenTop+20,width:500,height:309}),u&&e.remove(),c=new t.controls.BrowserPopout(d,i,n,s,this),c.on("initialised",function(){f.emit("windowOpened",c)}),c.on("closed",function(){f._$reconcilePopoutWindows()}),this.openPopouts.push(c),c},createDragSource:function(i,n){this.config.settings.constrainDragToContainer=!1,new t.controls.DragSource(e(i),n,this)},selectItem:function(e,t){if(this.config.settings.selectionEnabled!==!0)throw new Error("Please set selectionEnabled to true to use this feature");e!==this.selectedItem&&(null!==this.selectedItem&&this.selectedItem.deselect(),e&&t!==!0&&e.select(),this.selectedItem=e,this.emit("selectionChanged",e))},_$maximiseItem:function(e){null!==this._maximisedItem&&this._$minimiseItem(this._maximisedItem),this._maximisedItem=e,this._maximisedItem.addId("__glMaximised"),e.element.addClass("lm_maximised"),e.element.after(this._maximisePlaceholder),this.root.element.prepend(e.element),e.element.width(this.container.width()),e.element.height(this.container.height()),e.callDownwards("setSize"),this._maximisedItem.emit("maximised"),this.emit("stateChanged")},_$minimiseItem:function(e){e.element.removeClass("lm_maximised"),e.removeId("__glMaximised"),this._maximisePlaceholder.after(e.element),this._maximisePlaceholder.remove(),e.parent.callDownwards("setSize"),this._maximisedItem=null,e.emit("minimised"),this.emit("stateChanged")},_$closeWindow:function(){window.setTimeout(function(){window.close()},1)},_$getArea:function(e,t){var i,n,s=1/0,r=null;for(i=0;i<this._itemAreas.length;i++)n=this._itemAreas[i],e>n.x1&&e<n.x2&&t>n.y1&&t<n.y2&&s>n.surface&&(s=n.surface,r=n);return r},_$calculateItemAreas:function(){var e,t,i=this._getAllContentItems();if(this._itemAreas=[],1===i.length)return void this._itemAreas.push(this.root._$getArea());for(e=0;e<i.length;e++)i[e].isStack&&(t=i[e]._$getArea(),null!==t&&(t instanceof Array?this._itemAreas=this._itemAreas.concat(t):this._itemAreas.push(t)))},_$normalizeContentItem:function(i,n){if(!i)throw new Error("No content item defined");if(i instanceof t.items.AbstractContentItem)return i;if(e.isPlainObject(i)&&i.type){var s=this.createContentItem(i,n);return s.callDownwards("_$init"),s}throw new Error("Invalid contentItem")},_$reconcilePopoutWindows:function(){var e,t=[];for(e=0;e<this.openPopouts.length;e++)this.openPopouts[e].getWindow().closed===!1?t.push(this.openPopouts[e]):this.emit("windowClosed",this.openPopouts[e]);this.openPopouts.length!==t.length&&(this.emit("stateChanged"),this.openPopouts=t)},_getAllContentItems:function(){var e=[],t=function(i){if(e.push(i),i.contentItems instanceof Array)for(var n=0;n<i.contentItems.length;n++)t(i.contentItems[n])};return t(this.root),e},_bindEvents:function(){this._isFullPage&&e(window).resize(this._resizeFunction)},_onResize:function(){clearTimeout(this._resizeTimeoutId),this._resizeTimeoutId=setTimeout(t.utils.fnBind(this.updateSize,this),100)},_createConfig:function(i){var n=t.utils.getQueryStringParam("gl-window");return n&&(this.isSubWindow=!0,i=localStorage.getItem(n),i=JSON.parse(i),i=(new t.utils.ConfigMinifier).unminifyConfig(i),localStorage.removeItem(n)),i=e.extend(!0,{},t.config.defaultConfig,i),i.settings.hasHeaders===!1&&(i.dimensions.headerHeight=0),i},_adjustToWindowMode:function(){var i=e('<div class="lm_popin" title="'+this.config.labels.popin+'"><div class="lm_icon"></div><div class="lm_bg"></div></div>');i.click(t.utils.fnBind(function(){this.emit("popIn")},this)),document.title=t.utils.stripTags(this.config.content[0].title),e("head").append(e("body link, body style, template, .gl_keep")),this.container=e("body").html("").css("visibility","visible").append(i),document.body.offsetHeight,window.__glInstance=this},_createSubWindows:function(){var e,t;for(e=0;e<this.config.openPopouts.length;e++)t=this.config.openPopouts[e],this.createPopout(t.content,t.dimensions,t.parentId,t.indexInParent)},_setContainer:function(){var t=e(this.container||"body");if(0===t.length)throw new Error("GoldenLayout container not found");if(t.length>1)throw new Error("GoldenLayout more than one container element specified");t[0]===document.body&&(this._isFullPage=!0,e("html, body").css({height:"100%",margin:0,padding:0,overflow:"hidden"})),this.container=t},_create:function(e){var i;if(!(e.content instanceof Array))throw i=void 0===e.content?"Missing setting 'content' on top level of configuration":"Configuration parameter 'content' must be an array",new t.errors.ConfigurationError(i,e);if(e.content.length>1)throw i="Top level content can't contain more then one element.",new t.errors.ConfigurationError(i,e);this.root=new t.items.Root(this,{content:e.content},this.container),this.root.callDownwards("_$init"),"__glMaximised"===e.maximisedItemId&&this.root.getItemsById(e.maximisedItemId)[0].toggleMaximise()},_onUnload:function(){if(this.config.settings.closePopoutsOnUnload===!0)for(var e=0;e<this.openPopouts.length;e++)this.openPopouts[e].close()}}),function(){"function"==typeof define&&define.amd?define(["jquery"],function(i){return e=i,t.LayoutManager}):"object"==typeof exports?module.exports=t.LayoutManager:window.GoldenLayout=t.LayoutManager}(),t.config.itemDefaultConfig={isClosable:!0,reorderEnabled:!0,title:""},t.config.defaultConfig={openPopouts:[],settings:{hasHeaders:!0,constrainDragToContainer:!0,reorderEnabled:!0,selectionEnabled:!1,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,showPopoutIcon:!0,showMaximiseIcon:!0,showCloseIcon:!0},dimensions:{borderWidth:5,minItemHeight:10,minItemWidth:10,headerHeight:20,dragProxyWidth:300,dragProxyHeight:200},labels:{close:"close",maximise:"maximise",minimise:"minimise",popout:"open in new window",popin:"pop in"}},t.container.ItemContainer=function(i,n,s){t.utils.EventEmitter.call(this),this.width=null,this.height=null,this.title=i.componentName,this.parent=n,this.layoutManager=s,this.isHidden=!1,this._config=i,this._element=e(['<div class="lm_item_container">','<div class="lm_content"></div>',"</div>"].join("")),this._contentElement=this._element.find(".lm_content")},t.utils.copy(t.container.ItemContainer.prototype,{getElement:function(){return this._contentElement},hide:function(){this.emit("hide"),this.isHidden=!0,this._element.hide()},show:function(){this.emit("show"),this.isHidden=!1,this._element.show()},setSize:function(e,t){for(var i,n,s,r,o,a,l=this.parent,h=this;!l.isColumn&&!l.isRow;)if(h=l,l=l.parent,l.isRoot)return!1;for(s=l.isColumn?"height":"width",r="height"===s?t:e,i=this[s]*(1/(h.config[s]/100)),n=r/i*100,o=(h.config[s]-n)/l.contentItems.length,a=0;a<l.contentItems.length;a++)l.contentItems[a]===h?l.contentItems[a].config[s]=n:l.contentItems[a].config[s]+=o;return l.callDownwards("setSize"),!0},close:function(){this._config.isClosable&&(this.emit("close"),this.parent.close())},getState:function(){return this._config.componentState},extendState:function(t){this.setState(e.extend(!0,this.getState(),t))},setState:function(e){this._config.componentState=e,this.parent.emitBubblingEvent("stateChanged")},setTitle:function(e){this.parent.setTitle(e)},_$setSize:function(e,t){(e!==this.width||t!==this.height)&&(this.width=e,this.height=t,this._contentElement.width(this.width).height(this.height),this.emit("resize"))}}),t.controls.BrowserPopout=function(e,i,n,s,r){t.utils.EventEmitter.call(this),this.isInitialised=!1,this._config=e,this._dimensions=i,this._parentId=n,this._indexInParent=s,this._layoutManager=r,this._popoutWindow=null,this._id=null,this._createWindow()},t.utils.copy(t.controls.BrowserPopout.prototype,{toConfig:function(){return{dimensions:{width:this.getGlInstance().width,height:this.getGlInstance().height,left:this._popoutWindow.screenX||this._popoutWindow.screenLeft,top:this._popoutWindow.screenY||this._popoutWindow.screenTop},content:this.getGlInstance().toConfig().content,parentId:this._parentId,indexInParent:this._indexInParent}},getGlInstance:function(){return this._popoutWindow.__glInstance},getWindow:function(){return this._popoutWindow},close:function(){if(this.getGlInstance())this.getGlInstance()._$closeWindow();else try{this.getWindow().close()}catch(e){}},popIn:function(){var t,i,n=this._indexInParent;this._parentId&&(t=e.extend(!0,{},this.getGlInstance().toConfig()).content[0],i=this._layoutManager.root.getItemsById(this._parentId)[0],i||(i=this._layoutManager.root.contentItems.length>0?this._layoutManager.root.contentItems[0]:this._layoutManager.root,n=0)),i.addChild(t,this._indexInParent),this.close()},_createWindow:function(){var i,n=this._createUrl(),s=Math.floor(1e6*Math.random()).toString(36),r=this._serializeWindowOptions({width:this._dimensions.width,height:this._dimensions.height,innerWidth:this._dimensions.width,innerHeight:this._dimensions.height,menubar:"no",toolbar:"no",location:"no",personalbar:"no",resizable:"yes",scrollbars:"no",status:"no"});if(this._popoutWindow=window.open(n,s,r),this._popoutWindow)e(this._popoutWindow).on("load",t.utils.fnBind(this._positionWindow,this)).on("unload beforeunload",t.utils.fnBind(this._onClose,this)),i=setInterval(t.utils.fnBind(function(){this._popoutWindow.__glInstance&&this._popoutWindow.__glInstance.isInitialised&&(this._onInitialised(),clearInterval(i))},this),10);else if(this._layoutManager.config.settings.blockedPopoutsThrowError===!0){var o=new Error("Popout blocked");throw o.type="popoutBlocked",o}},_serializeWindowOptions:function(e){var t,i=[];for(t in e)i.push(t+"="+e[t]);return i.join(",")},_createUrl:function(){var e,i={content:this._config},n="gl-window-config-"+t.utils.getUniqueId();i=(new t.utils.ConfigMinifier).minifyConfig(i);try{localStorage.setItem(n,JSON.stringify(i))}catch(s){throw new Error("Error while writing to localStorage "+s.toString())}return e=document.location.href.split("?"),1===e.length?e[0]+"?gl-window="+n:document.location.href+"&gl-window="+n},_positionWindow:function(){this._popoutWindow.moveTo(this._dimensions.left,this._dimensions.top),this._popoutWindow.focus()},_onInitialised:function(){this.isInitialised=!0,this.getGlInstance().on("popIn",this.popIn,this),this.emit("initialised")},_onClose:function(){setTimeout(t.utils.fnBind(this.emit,this,["closed"]),50)}}),t.controls.DragProxy=function(i,n,s,r,o,a){t.utils.EventEmitter.call(this),this._dragListener=s,this._layoutManager=r,this._contentItem=o,this._originalParent=a,this._area=null,this._lastValidArea=null,this._dragListener.on("drag",this._onDrag,this),this._dragListener.on("dragStop",this._onDrop,this),this.element=e(t.controls.DragProxy._template),this.element.css({left:i,top:n}),this.element.find(".lm_title").html(this._contentItem.config.title),this.childElementContainer=this.element.find(".lm_content"),this.childElementContainer.append(o.element),this._updateTree(),this._layoutManager._$calculateItemAreas(),this._setDimensions(),e(document.body).append(this.element);var l=this._layoutManager.container.offset();this._minX=l.left,this._minY=l.top,this._maxX=this._layoutManager.container.width()+this._minX,this._maxY=this._layoutManager.container.height()+this._minY,this._width=this.element.width(),this._height=this.element.height()},t.controls.DragProxy._template='<div class="lm_dragProxy"><div class="lm_header"><ul class="lm_tabs"><li class="lm_tab lm_active"><i class="lm_left"></i><span class="lm_title"></span><i class="lm_right"></i></li></ul></div><div class="lm_content"></div></div>',t.utils.copy(t.controls.DragProxy.prototype,{_onDrag:function(e,t,i){var n=i.pageX,s=i.pageY,r=n>this._minX&&n<this._maxX&&s>this._minY&&s<this._maxY;(r||this._layoutManager.config.settings.constrainDragToContainer!==!0)&&(this.element.css({left:n,top:s}),this._area=this._layoutManager._$getArea(n,s),null!==this._area&&(this._lastValidArea=this._area,this._area.contentItem._$highlightDropZone(n,s,this._area)))},_onDrop:function(){this._layoutManager.dropTargetIndicator.hide(),null!==this._area?this._area.contentItem._$onDrop(this._contentItem):null!==this._lastValidArea?this._lastValidArea.contentItem._$onDrop(this._contentItem):this._originalParent&&this._originalParent.addChild(this._contentItem),this.element.remove()},_updateTree:function(){this._contentItem.parent&&this._contentItem.parent.removeChild(this._contentItem,!0),this._contentItem._$setParent(this)},_setDimensions:function(){var e=this._layoutManager.config.dimensions,t=e.dragProxyWidth,i=e.dragProxyHeight-e.headerHeight;this.childElementContainer.width(t),this.childElementContainer.height(i),this._contentItem.element.width(t),this._contentItem.element.height(i),this._contentItem.callDownwards("_$show"),this._contentItem.callDownwards("setSize")}}),t.controls.DragSource=function(e,t,i){this._element=e,this._itemConfig=t,this._layoutManager=i,this._dragListener=null,this._createDragListener()},t.utils.copy(t.controls.DragSource.prototype,{_createDragListener:function(){null!==this._dragListener&&this._dragListener.destroy(),this._dragListener=new t.utils.DragListener(this._element),this._dragListener.on("dragStart",this._onDragStart,this),this._dragListener.on("dragStop",this._createDragListener,this)},_onDragStart:function(e,i){var n=this._layoutManager._$normalizeContentItem(this._itemConfig),s=new t.controls.DragProxy(e,i,this._dragListener,this._layoutManager,n,null);this._layoutManager.transitionIndicator.transitionElements(this._element,s.element)}}),t.controls.DropTargetIndicator=function(){this.element=e(t.controls.DropTargetIndicator._template),e(document.body).append(this.element)},t.controls.DropTargetIndicator._template='<div class="lm_dropTargetIndicator"><div class="lm_inner"></div></div>',t.utils.copy(t.controls.DropTargetIndicator.prototype,{destroy:function(){this.element.remove()},highlight:function(e,t,i,n){this.highlightArea({x1:e,y1:t,x2:i,y2:n})},highlightArea:function(e){this.element.css({left:e.x1,top:e.y1,width:e.x2-e.x1,height:e.y2-e.y1}).show()},hide:function(){this.element.hide()}}),t.controls.Header=function(i,n){t.utils.EventEmitter.call(this),this.layoutManager=i,this.element=e(t.controls.Header._template),this.layoutManager.config.settings.selectionEnabled===!0&&(this.element.addClass("lm_selectable"),this.element.click(t.utils.fnBind(this._onHeaderClick,this))),this.element.height(i.config.dimensions.headerHeight),this.tabsContainer=this.element.find(".lm_tabs"),this.controlsContainer=this.element.find(".lm_controls"),this.parent=n,this.parent.on("resize",this._updateTabSizes,this),this.tabs=[],this.activeContentItem=null,this._createControls()},t.controls.Header._template=['<div class="lm_header">','<ul class="lm_tabs"></ul>','<ul class="lm_controls"></ul>',"</div>"].join(""),t.utils.copy(t.controls.Header.prototype,{createTab:function(e,i){var n,s;for(s=0;s<this.tabs.length;s++)if(this.tabs[s].contentItem===e)return;return n=new t.controls.Tab(this,e),0===this.tabs.length?(this.tabs.push(n),void this.tabsContainer.append(n.element)):(void 0===i&&(i=this.tabs.length),i>0?this.tabs[i-1].element.after(n.element):this.tabs[0].element.before(n.element),this.tabs.splice(i,0,n),void this._updateTabSizes())},removeTab:function(e){for(var t=0;t<this.tabs.length;t++)if(this.tabs[t].contentItem===e)return this.tabs[t]._$destroy(),void this.tabs.splice(t,1);throw new Error("contentItem is not controlled by this header")},setActiveContentItem:function(e){var t,i;for(t=0;t<this.tabs.length;t++)i=this.tabs[t].contentItem===e,this.tabs[t].setActive(i),i===!0&&(this.activeContentItem=e,this.parent.config.activeItemIndex=t);this._updateTabSizes(),this.parent.emitBubblingEvent("stateChanged")},_$destroy:function(){this.emit("destroy");for(var e=0;e<this.tabs.length;e++)this.tabs[e]._$destroy();this.element.remove()},_createControls:function(){var e,i,n,s,r,o,a;this.layoutManager.config.settings.showPopoutIcon&&(i=t.utils.fnBind(this._onPopoutClick,this),n=this.layoutManager.config.labels.popout,new t.controls.HeaderButton(this,n,"lm_popout",i)),this.layoutManager.config.settings.showMaximiseIcon&&(o=t.utils.fnBind(this.parent.toggleMaximise,this.parent),s=this.layoutManager.config.labels.maximise,r=this.layoutManager.config.labels.minimise,a=new t.controls.HeaderButton(this,s,"lm_maximise",o),this.parent.on("maximised",function(){a.element.attr("title",r)}),this.parent.on("minimised",function(){a.element.attr("title",s)})),this.parent.config.isClosable&&this.layoutManager.config.settings.showCloseIcon&&(e=t.utils.fnBind(this.parent.remove,this.parent),n=this.layoutManager.config.labels.close,new t.controls.HeaderButton(this,n,"lm_close",e))},_onPopoutClick:function(){this.layoutManager.config.settings.popoutWholeStack===!0?this.parent.popout():this.activeContentItem.popout()},_onHeaderClick:function(e){e.target===this.element[0]&&this.parent.select()},_updateTabSizes:function(){if(0!==this.tabs.length){var e,t,i,n,s=this.element.outerWidth()-this.controlsContainer.outerWidth(),r=0;for(t=0;t<this.tabs.length;t++)e=this.tabs[t].element,e.css("z-index",this.tabs.length-t),r+=e.outerWidth()+parseInt(e.css("margin-right"),10);for(n=(r-s)/(this.tabs.length-1),t=0;t<this.tabs.length;t++)i=!this.tabs[t].isActive&&n>0?"-"+Math.floor(n)+"px":"",this.tabs[t].element.css("margin-left",i);r>s?this.element.css("overflow","hidden"):this.element.css("overflow","visible")}}}),t.controls.HeaderButton=function(t,i,n,s){this._header=t,this.element=e('<li class="'+n+'" title="'+i+'"></li>'),this._header.on("destroy",this._$destroy,this),this._action=s,this.element.click(this._action),this._header.controlsContainer.append(this.element)},t.utils.copy(t.controls.HeaderButton.prototype,{_$destroy:function(){this.element.off(this._action),this.element.remove()}}),t.controls.Splitter=function(e,i){this._isVertical=e,this._size=i,this.element=this._createElement(),this._dragListener=new t.utils.DragListener(this.element)},t.utils.copy(t.controls.Splitter.prototype,{on:function(e,t,i){this._dragListener.on(e,t,i)},_$destroy:function(){this.element.remove()},_createElement:function(){var t=e('<div class="lm_splitter"><div class="lm_drag_handle"></div></div>');return t.addClass("lm_"+(this._isVertical?"vertical":"horizontal")),t[this._isVertical?"height":"width"](this._size),t}}),t.controls.Tab=function(i,n){this.header=i,this.contentItem=n,this.element=e(t.controls.Tab._template),this.titleElement=this.element.find(".lm_title"),this.closeElement=this.element.find(".lm_close_tab"),this.closeElement[n.config.isClosable?"show":"hide"](),this.isActive=!1,this.setTitle(n.config.title),this.contentItem.on("titleChanged",this.setTitle,this),this._layoutManager=this.contentItem.layoutManager,this._layoutManager.config.settings.reorderEnabled===!0&&n.config.reorderEnabled===!0&&(this._dragListener=new t.utils.DragListener(this.element),this._dragListener.on("dragStart",this._onDragStart,this)),this._onTabClickFn=t.utils.fnBind(this._onTabClick,this),this._onCloseClickFn=t.utils.fnBind(this._onCloseClick,this),this.element.click(this._onTabClickFn),this._layoutManager.config.settings.showCloseIcon===!0?this.closeElement.click(this._onCloseClickFn):this.closeElement.remove(),this.contentItem.tab=this,this.contentItem.emit("tab",this),this.contentItem.layoutManager.emit("tabCreated",this),this.contentItem.isComponent&&(this.contentItem.container.tab=this,this.contentItem.container.emit("tab",this))},t.controls.Tab._template='<li class="lm_tab"><i class="lm_left"></i><span class="lm_title"></span><div class="lm_close_tab"></div><i class="lm_right"></i></li>',t.utils.copy(t.controls.Tab.prototype,{setTitle:function(e){this.element.attr("title",t.utils.stripTags(e)),this.titleElement.html(e)},setActive:function(e){e!==this.isActive&&(this.isActive=e,e?this.element.addClass("lm_active"):this.element.removeClass("lm_active"))},_$destroy:function(){this.element.off("click",this._onTabClickFn),this.closeElement.off("click",this._onCloseClickFn),this.element.remove()},_onDragStart:function(e,i){this.contentItem.parent.isMaximised===!0&&this.contentItem.parent.toggleMaximise(),new t.controls.DragProxy(e,i,this._dragListener,this._layoutManager,this.contentItem,this.header.parent)},_onTabClick:function(e){0===e.button?this.header.parent.setActiveContentItem(this.contentItem):1===e.button&&this.contentItem.config.isClosable&&this._onCloseClick(e)},_onCloseClick:function(e){e.stopPropagation(),this.header.parent.removeChild(this.contentItem)}}),t.controls.TransitionIndicator=function(){this._element=e('<div class="lm_transition_indicator"></div>'),e(document.body).append(this._element),this._toElement=null,this._fromDimensions=null,this._totalAnimationDuration=200,this._animationStartTime=null},t.utils.copy(t.controls.TransitionIndicator.prototype,{destroy:function(){this._element.remove()},transitionElements:function(e,t){},_nextAnimationFrame:function(){var e,i=this._measure(this._toElement),n=(t.utils.now()-this._animationStartTime)/this._totalAnimationDuration,s={};if(n>=1)return void this._element.hide();i.opacity=0;for(e in this._fromDimensions)s[e]=this._fromDimensions[e]+(i[e]-this._fromDimensions[e])*n;this._element.css(s),t.utils.animFrame(t.utils.fnBind(this._nextAnimationFrame,this))},_measure:function(e){var t=e.offset();return{left:t.left,top:t.top,width:e.outerWidth(),height:e.outerHeight()}}}),t.errors.ConfigurationError=function(e,t){Error.call(this),this.name="Configuration Error",this.message=e,this.node=t},t.errors.ConfigurationError.prototype=new Error,t.items.AbstractContentItem=function(e,i,n){t.utils.EventEmitter.call(this),this.config=this._extendItemNode(i),this.type=i.type,this.contentItems=[],this.parent=n,this.isInitialised=!1,this.isMaximised=!1,this.isRoot=!1,this.isRow=!1,this.isColumn=!1,this.isStack=!1,this.isComponent=!1,this.layoutManager=e,this._pendingEventPropagations={},this._throttledEvents=["stateChanged"],this.on(t.utils.EventEmitter.ALL_EVENT,this._propagateEvent,this),i.content&&this._createContentItems(i)},t.utils.copy(t.items.AbstractContentItem.prototype,{setSize:function(){throw new Error("Abstract Method")},callDownwards:function(e,t,i,n){var s;for(i!==!0&&n!==!0&&this[e].apply(this,t||[]),s=0;s<this.contentItems.length;s++)this.contentItems[s].callDownwards(e,t,i);i===!0&&n!==!0&&this[e].apply(this,t||[])},removeChild:function(e,i){var n=t.utils.indexOf(e,this.contentItems);if(-1===n)throw new Error("Can't remove child item. Unknown content item");i!==!0&&this.contentItems[n]._$destroy(),this.contentItems.splice(n,1),this.config.content.splice(n,1),this.contentItems.length>0?this.callDownwards("setSize"):this instanceof t.items.Root||this.config.isClosable!==!0||this.parent.removeChild(this)},addChild:function(e,t){void 0===t&&(t=this.contentItems.length),this.contentItems.splice(t,0,e),void 0===this.config.content&&(this.config.content=[]),this.config.content.splice(t,0,e.config),e.parent=this,e.parent.isInitialised===!0&&e.isInitialised===!1&&e._$init()},replaceChild:function(e,i,n){i=this.layoutManager._$normalizeContentItem(i);var s=t.utils.indexOf(e,this.contentItems),r=e.element[0].parentNode;if(-1===s)throw new Error("Can't replace child. oldChild is not child of this");r.replaceChild(i.element[0],e.element[0]),n===!0&&(e.parent=null,e._$destroy()),this.contentItems[s]=i,i.parent=this,i.parent.isInitialised===!0&&i.isInitialised===!1&&i._$init(),this.callDownwards("setSize")},remove:function(){this.parent.removeChild(this)},popout:function(){var e=this.layoutManager.createPopout(this);return this.emitBubblingEvent("stateChanged"),e},toggleMaximise:function(){this.isMaximised===!0?this.layoutManager._$minimiseItem(this):this.layoutManager._$maximiseItem(this),this.isMaximised=!this.isMaximised,this.emitBubblingEvent("stateChanged")},select:function(){this.layoutManager.selectedItem!==this&&(this.layoutManager.selectItem(this,!0),this.element.addClass("lm_selected"))},deselect:function(){this.layoutManager.selectedItem===this&&(this.layoutManager.selectedItem=null,this.element.removeClass("lm_selected"))},setTitle:function(e){this.config.title=e,this.emit("titleChanged",e),this.emit("stateChanged")},hasId:function(e){return this.config.id?"string"==typeof this.config.id?this.config.id===e:this.config.id instanceof Array?-1!==t.utils.indexOf(e,this.config.id):void 0:!1},addId:function(e){this.hasId(e)||(this.config.id?"string"==typeof this.config.id?this.config.id=[this.config.id,e]:this.config.id instanceof Array&&this.config.id.push(e):this.config.id=e)},removeId:function(e){if(!this.hasId(e))throw new Error("Id not found");if("string"==typeof this.config.id)delete this.config.id;else if(this.config.id instanceof Array){var i=t.utils.indexOf(e,this.config.id);this.config.id.splice(i,1)}},getItemsByFilter:function(e){var t=[],i=function(n){for(var s=0;s<n.contentItems.length;s++)e(n.contentItems[s])===!0&&t.push(n.contentItems[s]),i(n.contentItems[s])};return i(this),t},getItemsById:function(e){return this.getItemsByFilter(function(i){return i.config.id instanceof Array?-1!==t.utils.indexOf(e,i.config.id):i.config.id===e})},getItemsByType:function(e){return this._$getItemsByProperty("type",e)},getComponentsByName:function(e){var t,i=this._$getItemsByProperty("componentName",e),n=[];for(t=0;t<i.length;t++)n.push(i[t].instance);return n},_$getItemsByProperty:function(e,t){return this.getItemsByFilter(function(i){return i[e]===t})},_$setParent:function(e){this.parent=e},_$highlightDropZone:function(e,t,i){this.layoutManager.dropTargetIndicator.highlightArea(i)},_$onDrop:function(e){this.addChild(e)},_$hide:function(){this.callDownwards("_$hide",[],!0,!0),this.element.hide()},_$show:function(){this.callDownwards("_$show",[],!0,!0),this.element.show()},_$destroy:function(){this.callDownwards("_$destroy",[],!0,!0),this.element.remove(),this.emitBubblingEvent("itemDestroyed")},_$getArea:function(e){e=e||this.element;var t=e.offset(),i=e.width(),n=e.height();return{x1:t.left,y1:t.top,x2:t.left+i,y2:t.top+n,surface:i*n,contentItem:this}},_$init:function(){var e;for(this.setSize(),e=0;e<this.contentItems.length;e++)this.childElementContainer.append(this.contentItems[e].element);this.isInitialised=!0,this.emitBubblingEvent("itemCreated"),this.emitBubblingEvent(this.type+"Created")},emitBubblingEvent:function(e){var i=new t.utils.BubblingEvent(e,this);this.emit(e,i)},_createContentItems:function(e){var i,n;if(!(e.content instanceof Array))throw new t.errors.ConfigurationError("content must be an Array",e);for(n=0;n<e.content.length;n++)i=this.layoutManager.createContentItem(e.content[n],this),this.contentItems.push(i)},_extendItemNode:function(e){for(var i in t.config.itemDefaultConfig)void 0===e[i]&&(e[i]=t.config.itemDefaultConfig[i]);return e},_propagateEvent:function(e,i){i instanceof t.utils.BubblingEvent&&i.isPropagationStopped===!1&&this.isInitialised===!0&&(this.isRoot===!1&&this.parent?this.parent.emit.apply(this.parent,Array.prototype.slice.call(arguments,0)):this._scheduleEventPropagationToLayoutManager(e,i))},_scheduleEventPropagationToLayoutManager:function(e,i){-1===t.utils.indexOf(e,this._throttledEvents)?this.layoutManager.emit(e,i.origin):this._pendingEventPropagations[e]!==!0&&(this._pendingEventPropagations[e]=!0,t.utils.animFrame(t.utils.fnBind(this._propagateEventToLayoutManager,this,[e,i])))},_propagateEventToLayoutManager:function(e,t){this._pendingEventPropagations[e]=!1,this.layoutManager.emit(e,t)}}),t.items.Component=function(i,n,s){t.items.AbstractContentItem.call(this,i,n,s);var r=i.getComponent(this.config.componentName),o=e.extend(!0,{},this.config.componentState||{});o.componentName=this.config.componentName,this.componentName=this.config.componentName,""===this.config.title&&(this.config.title=this.config.componentName),this.isComponent=!0,this.container=new t.container.ItemContainer(this.config,this,i),this.instance=new r(this.container,o),this.element=this.container._element},t.utils.extend(t.items.Component,t.items.AbstractContentItem),t.utils.copy(t.items.Component.prototype,{close:function(){this.parent.removeChild(this)},setSize:function(){this.container._$setSize(this.element.width(),this.element.height())},_$init:function(){t.items.AbstractContentItem.prototype._$init.call(this),this.container.emit("open")},_$hide:function(){this.container.hide(),t.items.AbstractContentItem.prototype._$hide.call(this)},_$show:function(){this.container.show(),t.items.AbstractContentItem.prototype._$show.call(this)},_$destroy:function(){this.container.emit("destroy"),t.items.AbstractContentItem.prototype._$destroy.call(this)},_$getArea:function(){return null}}),t.items.Root=function(i,n,s){t.items.AbstractContentItem.call(this,i,n,null),this.isRoot=!0,this.type="root",this.element=e('<div class="lm_goldenlayout lm_item lm_root"></div>'),this.childElementContainer=this.element,this._containerElement=s,this._containerElement.append(this.element)},t.utils.extend(t.items.Root,t.items.AbstractContentItem),t.utils.copy(t.items.Root.prototype,{addChild:function(e){if(this.contentItems.length>0)throw new Error("Root node can only have a single child");e=this.layoutManager._$normalizeContentItem(e,this),this.childElementContainer.append(e.element),t.items.AbstractContentItem.prototype.addChild.call(this,e),this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged")},setSize:function(){var e=this._containerElement.width(),t=this._containerElement.height();this.element.width(e),this.element.height(t),this.contentItems[0]&&(this.contentItems[0].element.width(e),this.contentItems[0].element.height(t))},_$onDrop:function(e){var t;e.isComponent===!0?(t=this.layoutManager.createContentItem({type:"stack"},this),t.addChild(e),this.addChild(t)):this.addChild(e)}}),t.items.RowOrColumn=function(i,n,s,r){t.items.AbstractContentItem.call(this,n,s,r),this.isRow=!i,this.isColumn=i,this.element=e('<div class="lm_item lm_'+(i?"column":"row")+'"></div>'),this.childElementContainer=this.element,this._splitterSize=n.config.dimensions.borderWidth,this._isColumn=i,this._dimension=i?"height":"width",this._splitter=[],this._splitterPosition=null,this._splitterMinPosition=null,this._splitterMaxPosition=null},t.utils.extend(t.items.RowOrColumn,t.items.AbstractContentItem),t.utils.copy(t.items.RowOrColumn.prototype,{addChild:function(e,i,n){
var s,r,o,a;if(e=this.layoutManager._$normalizeContentItem(e,this),void 0===i&&(i=this.contentItems.length),this.contentItems.length>0?(a=this._createSplitter(Math.max(0,i-1)).element,i>0?(this.contentItems[i-1].element.after(a),a.after(e.element)):(this.contentItems[0].element.before(a),a.before(e.element))):this.childElementContainer.append(e.element),t.items.AbstractContentItem.prototype.addChild.call(this,e,i),s=1/this.contentItems.length*100,n===!0)return void this.emitBubblingEvent("stateChanged");for(o=0;o<this.contentItems.length;o++)this.contentItems[o]===e?e.config[this._dimension]=s:(r=this.contentItems[o].config[this._dimension]*=(100-s)/100,this.contentItems[o].config[this._dimension]=r);this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged")},removeChild:function(e,i){var n,s,r=e.config[this._dimension],o=t.utils.indexOf(e,this.contentItems),a=Math.max(o-1,0);if(-1===o)throw new Error("Can't remove child. ContentItem is not child of this Row or Column");for(this._splitter[a]&&(this._splitter[a]._$destroy(),this._splitter.splice(a,1)),n=0;n<this.contentItems.length;n++)this.contentItems[n]!==e&&(this.contentItems[n].config[this._dimension]+=r/(this.contentItems.length-1));t.items.AbstractContentItem.prototype.removeChild.call(this,e,i),1===this.contentItems.length&&this.config.isClosable===!0?(s=this.contentItems[0],this.contentItems=[],this.parent.replaceChild(this,s,!0)):(this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged"))},replaceChild:function(e,i){var n=e.config[this._dimension];t.items.AbstractContentItem.prototype.replaceChild.call(this,e,i),i.config[this._dimension]=n,this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged")},setSize:function(){this.contentItems.length>0&&(this._calculateRelativeSizes(),this._setAbsoluteSizes()),this.emitBubblingEvent("stateChanged"),this.emit("resize")},_$init:function(){if(this.isInitialised!==!0){var e;for(t.items.AbstractContentItem.prototype._$init.call(this),e=0;e<this.contentItems.length-1;e++)this.contentItems[e].element.after(this._createSplitter(e).element)}},_setAbsoluteSizes:function(){var e,t,i,n=(this.contentItems.length-1)*this._splitterSize,s=this.element.width(),r=this.element.height(),o=0,a=[];for(this._isColumn?r-=n:s-=n,e=0;e<this.contentItems.length;e++)i=Math.floor(this._isColumn?r*(this.contentItems[e].config.height/100):s*(this.contentItems[e].config.width/100)),o+=i,a.push(i);for(t=(this._isColumn?r:s)-o,e=0;e<this.contentItems.length;e++)t-e>0&&a[e]++,this._isColumn?(this.contentItems[e].element.width(s),this.contentItems[e].element.height(a[e])):(this.contentItems[e].element.width(a[e]),this.contentItems[e].element.height(r))},_calculateRelativeSizes:function(){var e,t=0,i=[],n=this._isColumn?"height":"width";for(e=0;e<this.contentItems.length;e++)void 0!==this.contentItems[e].config[n]?t+=this.contentItems[e].config[n]:i.push(this.contentItems[e]);if(100!==Math.round(t))if(Math.round(t)<100&&i.length>0)for(e=0;e<i.length;e++)i[e].config[n]=(100-t)/i.length;else{if(Math.round(t)>100)for(e=0;e<i.length;e++)i[e].config[n]=50,t+=50;for(e=0;e<this.contentItems.length;e++)this.contentItems[e].config[n]=this.contentItems[e].config[n]/t*100}},_createSplitter:function(e){var i;return i=new t.controls.Splitter(this._isColumn,this._splitterSize),i.on("drag",t.utils.fnBind(this._onSplitterDrag,this,[i]),this),i.on("dragStop",t.utils.fnBind(this._onSplitterDragStop,this,[i]),this),i.on("dragStart",t.utils.fnBind(this._onSplitterDragStart,this,[i]),this),this._splitter.splice(e,0,i),i},_getItemsForSplitter:function(e){var i=t.utils.indexOf(e,this._splitter);return{before:this.contentItems[i],after:this.contentItems[i+1]}},_onSplitterDragStart:function(e){var t=this._getItemsForSplitter(e),i=this.layoutManager.config.dimensions[this._isColumn?"minItemHeight":"minItemWidth"];this._splitterPosition=0,this._splitterMinPosition=-1*(t.before.element[this._dimension]()-i),this._splitterMaxPosition=t.after.element[this._dimension]()-i},_onSplitterDrag:function(e,t,i){var n=this._isColumn?i:t;n>this._splitterMinPosition&&n<this._splitterMaxPosition&&(this._splitterPosition=n,e.element.css(this._isColumn?"top":"left",n))},_onSplitterDragStop:function(e){var i=this._getItemsForSplitter(e),n=i.before.element[this._dimension](),s=i.after.element[this._dimension](),r=(this._splitterPosition+n)/(n+s),o=i.before.config[this._dimension]+i.after.config[this._dimension];i.before.config[this._dimension]=r*o,i.after.config[this._dimension]=(1-r)*o,e.element.css({top:0,left:0}),t.utils.animFrame(t.utils.fnBind(this.callDownwards,this,["setSize"]))}}),t.items.Stack=function(i,n,s){t.items.AbstractContentItem.call(this,i,n,s),this.element=e('<div class="lm_item lm_stack"></div>'),this._activeContentItem=null,this._dropZones={},this._dropSegment=null,this._contentAreaDimensions=null,this._dropIndex=null,this.isStack=!0,this.childElementContainer=e('<div class="lm_items"></div>'),this.header=new t.controls.Header(i,this),i.config.settings.hasHeaders===!0&&this.element.append(this.header.element),this.element.append(this.childElementContainer)},t.utils.extend(t.items.Stack,t.items.AbstractContentItem),t.utils.copy(t.items.Stack.prototype,{setSize:function(){var e,t=this.element.width(),i=this.element.height()-this.layoutManager.config.dimensions.headerHeight;for(this.childElementContainer.width(t),this.childElementContainer.height(i),e=0;e<this.contentItems.length;e++)this.contentItems[e].element.width(t).height(i);this.emit("resize"),this.emitBubblingEvent("stateChanged")},_$init:function(){var e,i;if(this.isInitialised!==!0){for(t.items.AbstractContentItem.prototype._$init.call(this),e=0;e<this.contentItems.length;e++)this.header.createTab(this.contentItems[e]),this.contentItems[e]._$hide();if(this.contentItems.length>0){if(i=this.contentItems[this.config.activeItemIndex||0],!i)throw new Error("Configured activeItemIndex out of bounds");this.setActiveContentItem(i)}}},setActiveContentItem:function(e){if(-1===t.utils.indexOf(e,this.contentItems))throw new Error("contentItem is not a child of this stack");null!==this._activeContentItem&&this._activeContentItem._$hide(),this._activeContentItem=e,this.header.setActiveContentItem(e),e._$show(),this.emit("activeContentItemChanged",e),this.emitBubblingEvent("stateChanged")},getActiveContentItem:function(){return this.header.activeContentItem},addChild:function(e,i){e=this.layoutManager._$normalizeContentItem(e,this),t.items.AbstractContentItem.prototype.addChild.call(this,e,i),this.childElementContainer.append(e.element),this.header.createTab(e,i),this.setActiveContentItem(e),this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged")},removeChild:function(e,i){var n=t.utils.indexOf(e,this.contentItems);t.items.AbstractContentItem.prototype.removeChild.call(this,e,i),this.header.removeTab(e),this.contentItems.length>0?this.setActiveContentItem(this.contentItems[Math.max(n-1,0)]):this._activeContentItem=null,this.emitBubblingEvent("stateChanged")},_$destroy:function(){t.items.AbstractContentItem.prototype._$destroy.call(this),this.header._$destroy()},_$onDrop:function(e){if("header"===this._dropSegment)return this._resetHeaderDropZone(),void this.addChild(e,this._dropIndex);if("body"===this._dropSegment)return void this.addChild(e);var i,n,s,r="top"===this._dropSegment||"bottom"===this._dropSegment,o="left"===this._dropSegment||"right"===this._dropSegment,a="top"===this._dropSegment||"left"===this._dropSegment,l=r&&this.parent.isColumn||o&&this.parent.isRow,h=r?"column":"row",c=r?"height":"width";e.isComponent&&(n=this.layoutManager.createContentItem({type:"stack"},this),n._$init(),n.addChild(e),e=n),l?(i=t.utils.indexOf(this,this.parent.contentItems),this.parent.addChild(e,a?i:i+1,!0),this.config[c]*=.5,e.config[c]=this.config[c],this.parent.callDownwards("setSize")):(h=r?"column":"row",s=this.layoutManager.createContentItem({type:h},this),this.parent.replaceChild(this,s),s.addChild(e,a?0:void 0,!0),s.addChild(this,a?void 0:0,!0),this.config[c]=50,e.config[c]=50,s.callDownwards("setSize"))},_$highlightDropZone:function(e,t){var i,n;for(i in this._contentAreaDimensions)if(n=this._contentAreaDimensions[i].hoverArea,n.x1<e&&n.x2>e&&n.y1<t&&n.y2>t)return void("header"===i?(this._dropSegment="header",this._highlightHeaderDropZone(e)):(this._resetHeaderDropZone(),this._highlightBodyDropZone(i)))},_$getArea:function(){var e=t.items.AbstractContentItem.prototype._$getArea,i=e.call(this,this.header.element),n=e.call(this,this.childElementContainer),s=n.x2-n.x1,r=n.y2-n.y1;return this._contentAreaDimensions={header:{hoverArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}}},this._activeContentItem&&this._activeContentItem.isComponent===!1?i:0===this.contentItems.length?(this._contentAreaDimensions.body={hoverArea:{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2},highlightArea:{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2}},e.call(this,this.element)):(this._contentAreaDimensions.left={hoverArea:{x1:n.x1,y1:n.y1,x2:n.x1+.25*s,y2:n.y2},highlightArea:{x1:n.x1,y1:n.y1,x2:n.x1+.5*s,y2:n.y2}},this._contentAreaDimensions.top={hoverArea:{x1:n.x1+.25*s,y1:n.y1,x2:n.x1+.75*s,y2:n.y1+.5*r},highlightArea:{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y1+.5*r}},this._contentAreaDimensions.right={hoverArea:{x1:n.x1+.75*s,y1:n.y1,x2:n.x2,y2:n.y2},highlightArea:{x1:n.x1+.5*s,y1:n.y1,x2:n.x2,y2:n.y2}},this._contentAreaDimensions.bottom={hoverArea:{x1:n.x1+.25*s,y1:n.y1+.5*r,x2:n.x1+.75*s,y2:n.y2},highlightArea:{x1:n.x1,y1:n.y1+.5*r,x2:n.x2,y2:n.y2}},e.call(this,this.element))},_highlightHeaderDropZone:function(e){var t,i,n,s,r,o,a,l,h,c=this.header.tabs.length,d=!1;if(0===c)return a=this.header.element.offset(),void this.layoutManager.dropTargetIndicator.highlightArea({x1:a.left,x2:a.left+100,y1:a.top+this.header.element.height()-20,y2:a.top+this.header.element.height()});for(t=0;c>t;t++)if(i=this.header.tabs[t].element,r=i.offset(),s=r.left,n=r.top,l=i.width(),e>s&&s+l>e){d=!0;break}d===!1&&s>e||(h=s+l/2,h>e?(this._dropIndex=t,i.before(this.layoutManager.tabDropPlaceholder)):(this._dropIndex=Math.min(t+1,c),i.after(this.layoutManager.tabDropPlaceholder)),o=this.layoutManager.tabDropPlaceholder.offset().left,this.layoutManager.dropTargetIndicator.highlightArea({x1:o,x2:o+this.layoutManager.tabDropPlaceholder.width(),y1:n,y2:n+i.innerHeight()}))},_resetHeaderDropZone:function(){this.layoutManager.tabDropPlaceholder.remove()},_highlightBodyDropZone:function(e){var t=this._contentAreaDimensions[e].highlightArea;this.layoutManager.dropTargetIndicator.highlightArea(t),this._dropSegment=e}}),t.utils.BubblingEvent=function(e,t){this.name=e,this.origin=t,this.isPropagationStopped=!1},t.utils.BubblingEvent.prototype.stopPropagation=function(){this.isPropagationStopped=!0},t.utils.ConfigMinifier=function(){this._keys=["settings","hasHeaders","constrainDragToContainer","selectionEnabled","dimensions","borderWidth","minItemHeight","minItemWidth","headerHeight","dragProxyWidth","dragProxyHeight","labels","close","maximise","minimise","popout","content","componentName","componentState","id","width","type","height","isClosable","title","popoutWholeStack","openPopouts","parentId","activeItemIndex","reorderEnabled"],this._values=[!0,!1,"row","column","stack","component","close","maximise","minimise","open in new window"]},t.utils.copy(t.utils.ConfigMinifier.prototype,{minifyConfig:function(e){var t={};return this._nextLevel(e,t,"_min"),t},unminifyConfig:function(e){var t={};return this._nextLevel(e,t,"_max"),t},_nextLevel:function(e,t,i){var n,s;for(n in e)e instanceof Array&&(n=parseInt(n,10)),e.hasOwnProperty(n)&&(s=this[i](n,this._keys),"object"==typeof e[n]?(t[s]=e[n]instanceof Array?[]:{},this._nextLevel(e[n],t[s],i)):t[s]=this[i](e[n],this._values))},_min:function(e,i){if("string"==typeof e&&1===e.length)return"___"+e;var n=t.utils.indexOf(e,i);return-1===n?e:n.toString(36)},_max:function(e,t){return"string"==typeof e&&1===e.length?t[parseInt(e,36)]:"string"==typeof e&&"___"===e.substr(0,3)?e[3]:e}}),t.utils.EventHub=function(i){t.utils.EventEmitter.call(this),this._layoutManager=i,this._dontPropagateToParent=null,this._childEventSource=null,this.on(t.utils.EventEmitter.ALL_EVENT,t.utils.fnBind(this._onEventFromThis,this)),e(window).on("gl_child_event",t.utils.fnBind(this._onEventFromChild,this))},t.utils.EventHub.prototype._onEventFromThis=function(){var e=Array.prototype.slice.call(arguments);this._layoutManager.isSubWindow&&e[0]!==this._dontPropagateToParent&&this._propagateToParent(e),this._propagateToChildren(e),this._dontPropagateToParent=null,this._childEventSource=null},t.utils.EventHub.prototype._$onEventFromParent=function(e){this._dontPropagateToParent=e[0],this.emit.apply(this,e)},t.utils.EventHub.prototype._onEventFromChild=function(e){this._childEventSource=e.originalEvent.__gl,this.emit.apply(this,e.originalEvent.__glArgs)},t.utils.EventHub.prototype._propagateToParent=function(e){var t,i="gl_child_event";document.createEvent?(t=window.opener.document.createEvent("HTMLEvents"),t.initEvent(i,!0,!0)):(t=window.opener.document.createEventObject(),t.eventType=i),t.eventName=i,t.__glArgs=e,t.__gl=this._layoutManager,document.createEvent?window.opener.dispatchEvent(t):window.opener.fireEvent("on"+t.eventType,t)},t.utils.EventHub.prototype._propagateToChildren=function(e){var t,i;for(i=0;i<this._layoutManager.openPopouts.length;i++)t=this._layoutManager.openPopouts[i].getGlInstance(),t!==this._childEventSource&&t.eventHub._$onEventFromParent(e)}}(window.$);var jqxBaseFramework=window.minQuery||window.jQuery;!function(e){e.jqx=e.jqx||{},e.jqx.define=function(e,t,i){e[t]=function(){this.baseType&&(this.base=new e[this.baseType],this.base.defineInstance()),this.defineInstance()},e[t].prototype.defineInstance=function(){},e[t].prototype.base=null,e[t].prototype.baseType=void 0,i&&e[i]&&(e[t].prototype.baseType=i)},e.jqx.invoke=function(t,i){if(0!=i.length){for(var n=typeof i==Array||i.length>0?i[0]:i,s=typeof i==Array||i.length>1?Array.prototype.slice.call(i,1):e({}).toArray();void 0==t[n]&&null!=t.base;){if(void 0!=t[n]&&e.isFunction(t[n]))return t[n].apply(t,s);if("string"==typeof n){var r=n.toLowerCase();if(void 0!=t[r]&&e.isFunction(t[r]))return t[r].apply(t,s)}t=t.base}if(void 0!=t[n]&&e.isFunction(t[n]))return t[n].apply(t,s);if("string"==typeof n){var r=n.toLowerCase();if(void 0!=t[r]&&e.isFunction(t[r]))return t[r].apply(t,s)}}},e.jqx.hasProperty=function(e,t){if("object"==typeof t)for(var i in t){for(var n=e;n;){if(n.hasOwnProperty(i))return!0;if(n.hasOwnProperty(i.toLowerCase()))return!0;n=n.base}return!1}else for(;e;){if(e.hasOwnProperty(t))return!0;if(e.hasOwnProperty(t.toLowerCase()))return!0;e=e.base}return!1},e.jqx.hasFunction=function(t,i){if(0==i.length)return!1;if(void 0==t)return!1;var n=typeof i==Array||i.length>0?i[0]:i;for(typeof i==Array||i.length>1?Array.prototype.slice.call(i,1):{};void 0==t[n]&&null!=t.base;){if(t[n]&&e.isFunction(t[n]))return!0;if("string"==typeof n){var s=n.toLowerCase();if(t[s]&&e.isFunction(t[s]))return!0}t=t.base}if(t[n]&&e.isFunction(t[n]))return!0;if("string"==typeof n){var s=n.toLowerCase();if(t[s]&&e.isFunction(t[s]))return!0}return!1},e.jqx.isPropertySetter=function(t,i){return 1==i.length&&"object"==typeof i[0]?!0:2!=i.length||"string"!=typeof i[0]||e.jqx.hasFunction(t,i)?!1:!0},e.jqx.validatePropertySetter=function(t,i,n){if(!e.jqx.propertySetterValidation)return!0;if(1==i.length&&"object"==typeof i[0]){for(var s in i[0]){for(var r=t;!r.hasOwnProperty(s)&&r.base;)r=r.base;if(!r||!r.hasOwnProperty(s)){if(!n){var o=r.hasOwnProperty(s.toString().toLowerCase());if(o)return!0;throw"Invalid property: "+s}return!1}}return!0}if(2!=i.length){if(!n)throw"Invalid property: "+i.length>=0?i[0]:"";return!1}for(;!t.hasOwnProperty(i[0])&&t.base;)t=t.base;if(!t||!t.hasOwnProperty(i[0])){if(!n)throw"Invalid property: "+i[0];return!1}return!0},e.jqx.set=function(t,i){var n=0;if(1==i.length&&"object"==typeof i[0]){if(t.isInitialized&&Object.keys&&Object.keys(i[0]).length>1){var s=t.base?t.base.element:t.element,r=e.data(s,t.widgetName).initArgs;if(JSON&&JSON.stringify&&i[0]&&r[0])try{if(JSON.stringify(i[0])==JSON.stringify(r[0]))return}catch(o){}t.batchUpdate=i[0];var a={},l={};e.each(i[0],function(e,i){for(var s=t;!s.hasOwnProperty(e)&&null!=s.base;)s=s.base;s.hasOwnProperty(e)?t[e]!=i&&(a[e]=t[e],l[e]=i,n++):s.hasOwnProperty(e.toLowerCase())&&t[e.toLowerCase()]!=i&&(a[e.toLowerCase()]=t[e.toLowerCase()],l[e.toLowerCase()]=i,n++)}),2>n&&(t.batchUpdate=null)}e.each(i[0],function(i,n){for(var s=t;!s.hasOwnProperty(i)&&null!=s.base;)s=s.base;if(s.hasOwnProperty(i))e.jqx.setvalueraiseevent(s,i,n);else if(s.hasOwnProperty(i.toLowerCase()))e.jqx.setvalueraiseevent(s,i.toLowerCase(),n);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i+"'"}),null!=t.batchUpdate&&(t.batchUpdate=null,t.propertiesChangedHandler&&n>1&&t.propertiesChangedHandler(t,a,l))}else if(2==i.length){for(;!t.hasOwnProperty(i[0])&&t.base;)t=t.base;if(t.hasOwnProperty(i[0]))e.jqx.setvalueraiseevent(t,i[0],i[1]);else if(t.hasOwnProperty(i[0].toLowerCase()))e.jqx.setvalueraiseevent(t,i[0].toLowerCase(),i[1]);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i[0]+"'"}},e.jqx.setvalueraiseevent=function(e,t,i){var n=e[t];e[t]=i,e.isInitialized&&(void 0!=e.propertyChangedHandler&&e.propertyChangedHandler(e,t,n,i),void 0!=e.propertyChangeMap&&void 0!=e.propertyChangeMap[t]&&e.propertyChangeMap[t](e,t,n,i))},e.jqx.get=function(e,t){if(void 0==t||null==t)return void 0;if(e.propertyMap){var i=e.propertyMap(t);if(null!=i)return i}if(e.hasOwnProperty(t))return e[t];if(e.hasOwnProperty(t.toLowerCase()))return e[t.toLowerCase()];var n=void 0;if(typeof t==Array){if(1!=t.length)return void 0;n=t[0]}else"string"==typeof t&&(n=t);for(;!e.hasOwnProperty(n)&&e.base;)e=e.base;return e?e[n]:void 0},e.jqx.serialize=function(t){var i="";if(e.isArray(t)){i="[";for(var n=0;n<t.length;n++)n>0&&(i+=", "),i+=e.jqx.serialize(t[n]);i+="]"}else if("object"==typeof t){i="{";var s=0;for(var n in t)s++>0&&(i+=", "),i+=n+": "+e.jqx.serialize(t[n]);i+="}"}else i=t.toString();return i},e.jqx.propertySetterValidation=!0,e.jqx.jqxWidgetProxy=function(t,i,n){var s=(e(i),e.data(i,t));if(void 0==s)return void 0;var r=s.instance;if(e.jqx.hasFunction(r,n))return e.jqx.invoke(r,n);if(e.jqx.isPropertySetter(r,n)){if(e.jqx.validatePropertySetter(r,n))return void e.jqx.set(r,n)}else{if("object"==typeof n&&0==n.length)return;if("object"==typeof n&&1==n.length&&e.jqx.hasProperty(r,n[0]))return e.jqx.get(r,n[0]);if("string"==typeof n&&e.jqx.hasProperty(r,n[0]))return e.jqx.get(r,n)}throw"jqxCore: Invalid parameter '"+e.jqx.serialize(n)+"' does not exist."},e.jqx.applyWidget=function(t,i,n,s){var r=!1;try{r=void 0!=window.MSApp}catch(o){}var a=e(t);s?(s.host=a,s.element=t):s=new e.jqx["_"+i],""==t.id&&(t.id=e.jqx.utilities.createId());var l={host:a,element:t,instance:s,initArgs:n};s.widgetName=i,e.data(t,i,l),e.data(t,"jqxWidget",l.instance);for(var h=new Array,s=l.instance;s;)s.isInitialized=!1,h.push(s),s=s.base;h.reverse(),h[0].theme=e.jqx.theme||"",e.jqx.jqxWidgetProxy(i,t,n);for(var c in h)s=h[c],0==c&&(s.host=a,s.element=t,s.WinJS=r),void 0!=s&&(s.definedInstance&&s.definedInstance(),null!=s.createInstance&&(r?MSApp.execUnsafeLocalFunction(function(){s.createInstance(n)}):s.createInstance(n)));for(var c in h)void 0!=h[c]&&(h[c].isInitialized=!0);r?MSApp.execUnsafeLocalFunction(function(){l.instance.refresh(!0)}):l.instance.refresh(!0)},e.jqx.jqxWidget=function(t,i,n){var s=!1;try{jqxArgs=Array.prototype.slice.call(n,0)}catch(r){jqxArgs=""}try{s=void 0!=window.MSApp}catch(r){}var o=t,a="";i&&(a="_"+i),e.jqx.define(e.jqx,"_"+o,a);var l=new Array;if(!window[o]){var h=function(t){if(null==t)return"";var i=e.type(t);switch(i){case"string":case"number":case"date":case"boolean":case"bool":return null===t?"":t.toString()}var n="";return e.each(t,function(t){var i=this;t>0&&(n+=", "),n+="[";var s=0;if("object"==e.type(i))for(var r in i)s>0&&(n+=", "),n+="{"+r+":"+i[r]+"}",s++;else s>0&&(n+=", "),n+="{"+t+":"+i+"}",s++;n+="]"}),n};window[o]=function(t,i){var n=[];i||(i={}),n.push(i);var s=t;if("object"===e.type(s)&&t[0]&&(s=t[0].id,""===s&&(s=t[0].id=e.jqx.utilities.createId())),window.jqxWidgets&&window.jqxWidgets[s]){if(i&&e.each(window.jqxWidgets[s],function(t){var n=e(this.element).data();n&&n.jqxWidget&&e(this.element)[o](i)}),1==window.jqxWidgets[s].length){var r=e(window.jqxWidgets[s][0].widgetInstance.element).data();if(r&&r.jqxWidget)return window.jqxWidgets[s][0]}var r=e(window.jqxWidgets[s][0].widgetInstance.element).data();if(r&&r.jqxWidget)return window.jqxWidgets[s]}var a=e(t);if(0===a.length)throw new Error("Invalid Selector - "+t+"! Please, check whether the used ID or CSS Class name is correct.");var c=[];return e.each(a,function(t){var i=a[t],r=null;if(!l[o]){var d=i.id;i.id="",r=e(i).clone(),i.id=d}if(e.jqx.applyWidget(i,o,n,void 0),!l[o]){var u=e.data(i,"jqxWidget"),f=r[o]().data().jqxWidget.defineInstance(),p=function(t){var i=e.data(t,"jqxWidget");this.widgetInstance=i;var n=e.extend(this,i);return n.on=function(e,t){n.addHandler(n.host,e,t)},n.off=function(e){n.removeHandler(n.host,e)},n};l[o]=p,e.each(f,function(e,t){Object.defineProperty(p.prototype,e,{get:function(){return this.widgetInstance?this.widgetInstance[e]:t},set:function(t){if(this.widgetInstance&&this.widgetInstance[e]!=t&&this.widgetInstance[e]!=t&&h(this.widgetInstance[e])!=h(t)){var i={};i[e]=t,this.widgetInstance.host[o](i),this.widgetInstance[e]=t}}})})}var u=new l[o](i);c.push(u),window.jqxWidgets||(window.jqxWidgets=new Array),window.jqxWidgets[s]||(window.jqxWidgets[s]=new Array),window.jqxWidgets[s].push(u)}),1===c.length?c[0]:c}}e.fn[o]=function(){var t=Array.prototype.slice.call(arguments,0);if(0==t.length||1==t.length&&"object"==typeof t[0]){if(0==this.length)throw new Error(this.selector?"Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct.":"Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");return this.each(function(){var i=(e(this),this),n=e.data(i,o);null==n?e.jqx.applyWidget(i,o,t,void 0):e.jqx.jqxWidgetProxy(o,this,t)})}if(0==this.length)throw new Error(this.selector?"Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct.":"Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");var i=null,n=0;return this.each(function(){var s=e.jqx.jqxWidgetProxy(o,this,t);if(0==n)i=s,n++;else{if(1==n){var r=[];r.push(i),i=r}i.push(s)}}),i};try{e.extend(e.jqx["_"+o].prototype,Array.prototype.slice.call(n,0)[0])}catch(r){}e.extend(e.jqx["_"+o].prototype,{toThemeProperty:function(t,i){return e.jqx.toThemeProperty(this,t,i)}}),e.jqx["_"+o].prototype.refresh=function(){this.base&&this.base.refresh(!0)},e.jqx["_"+o].prototype.createInstance=function(){},e.jqx["_"+o].prototype.applyTo=function(t,i){if(!(i instanceof Array)){var n=[];n.push(i),i=n}e.jqx.applyWidget(t,o,i,this)},e.jqx["_"+o].prototype.getInstance=function(){return this},e.jqx["_"+o].prototype.propertyChangeMap={},e.jqx["_"+o].prototype.addHandler=function(t,i,n,s){e.jqx.addHandler(t,i,n,s)},e.jqx["_"+o].prototype.removeHandler=function(t,i,n){e.jqx.removeHandler(t,i,n)}},e.jqx.toThemeProperty=function(e,t,i){if(""==e.theme)return t;for(var n=t.split(" "),s="",r=0;r<n.length;r++){r>0&&(s+=" ");var o=n[r];s+=null!=i&&i?o+"-"+e.theme:o+" "+o+"-"+e.theme}return s},e.jqx.addHandler=function(t,i,n,s){for(var r=i.split(" "),o=0;o<r.length;o++){var a=r[o];if(window.addEventListener)switch(a){case"mousewheel":e.jqx.browser.mozilla?t[0].addEventListener("DOMMouseScroll",n,!1):t[0].addEventListener("mousewheel",n,!1);continue;case"mousemove":if(!s){t[0].addEventListener("mousemove",n,!1);continue}}void 0==s||null==s?t.on?t.on(a,n):t.bind(a,n):t.on?t.on(a,s,n):t.bind(a,s,n)}},e.jqx.removeHandler=function(t,i,n){if(i)for(var s=i.split(" "),r=0;r<s.length;r++){var o=s[r];if(window.removeEventListener)switch(o){case"mousewheel":e.jqx.browser.mozilla?t[0].removeEventListener("DOMMouseScroll",n,!1):t[0].removeEventListener("mousewheel",n,!1);continue;case"mousemove":if(n){t[0].removeEventListener("mousemove",n,!1);continue}}void 0!=o?void 0==n?t.off?t.off(o):t.unbind(o):t.off?t.off(o,n):t.unbind(o,n):t.off?t.off():t.unbind()}},e.jqx.theme=e.jqx.theme||"",e.jqx.resizeDelay=e.jqx.resizeDelay||10,e.jqx.ready=function(){e(window).trigger("jqxReady")},e.jqx.init=function(){e.each(arguments[0],function(t,i){"theme"==t&&(e.jqx.theme=i),"scrollBarSize"==t&&(e.jqx.utilities.scrollBarSize=i),"touchScrollBarSize"==t&&(e.jqx.utilities.touchScrollBarSize=i),"scrollBarButtonsVisibility"==t&&(e.jqx.utilities.scrollBarButtonsVisibility=i)})},e.jqx.utilities=e.jqx.utilities||{},e.extend(e.jqx.utilities,{scrollBarSize:15,touchScrollBarSize:10,scrollBarButtonsVisibility:"visible",createId:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"jqxWidget"+e()+e()},setTheme:function(t,i,n){if("undefined"!=typeof n){for(var s=n[0].className.split(" "),r=[],o=[],a=n.children(),l=0;l<s.length;l+=1)s[l].indexOf(t)>=0&&(t.length>0?(r.push(s[l]),o.push(s[l].replace(t,i))):o.push(s[l].replace("-"+i,"")+"-"+i));this._removeOldClasses(r,n),this._addNewClasses(o,n);for(var l=0;l<a.length;l+=1)this.setTheme(t,i,e(a[l]))}},_removeOldClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.removeClass(e[i])},_addNewClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.addClass(e[i])},getOffset:function(t){var i=e.jqx.mobile.getLeftPos(t[0]),n=e.jqx.mobile.getTopPos(t[0]);return{top:n,left:i}},resize:function(t,i,n,s){void 0===s&&(s=!0);var r=-1,o=this,a=function(e){if(!o.hiddenWidgets)return-1;for(var t=-1,i=0;i<o.hiddenWidgets.length;i++)if(e.id){if(o.hiddenWidgets[i].id==e.id){t=i;break}}else if(o.hiddenWidgets[i].id==e[0].id){t=i;break}return t};if(this.resizeHandlers){for(var l=0;l<this.resizeHandlers.length;l++)if(t.id){if(this.resizeHandlers[l].id==t.id){r=l;break}}else if(this.resizeHandlers[l].id==t[0].id){r=l;break}if(n===!0){if(-1!=r&&this.resizeHandlers.splice(r,1),0==this.resizeHandlers.length){var h=e(window);h.off?(h.off("resize.jqx"),h.off("orientationchange.jqx"),h.off("orientationchanged.jqx")):(h.unbind("resize.jqx"),h.unbind("orientationchange.jqx"),h.unbind("orientationchanged.jqx")),this.resizeHandlers=null}var c=a(t);return void(-1!=c&&this.hiddenWidgets&&this.hiddenWidgets.splice(c,1))}}else if(n===!0){var c=a(t);return void(-1!=c&&this.hiddenWidgets&&this.hiddenWidgets.splice(c,1))}var o=this,d=function(t,i){if(o.resizeHandlers){var n=function(e){for(var t=-1,i=e.parentNode;i;)t++,i=i.parentNode;return t},s=function(e,t){if(!e.widget||!t.widget)return 0;var i=n(e.widget[0]),s=n(t.widget[0]);try{if(s>i)return-1;if(i>s)return 1}catch(r){}return 0},r=function(t){if(o.hiddenWidgets.length>0){o.hiddenWidgets.sort(s);var n=function(){for(var t=!1,n=new Array,s=0;s<o.hiddenWidgets.length;s++){var r=o.hiddenWidgets[s];e.jqx.isHidden(r.widget)?(t=!0,n.push(r)):r.callback&&r.callback(i)}o.hiddenWidgets=n,t||clearInterval(o.__resizeInterval)};if(0==t)return n(),void(o.__resizeInterval&&clearInterval(o.__resizeInterval));o.__resizeInterval&&clearInterval(o.__resizeInterval),o.__resizeInterval=setInterval(function(){n()},100)}};o.hiddenWidgets&&o.hiddenWidgets.length>0&&r(!1),o.hiddenWidgets=new Array,o.resizeHandlers.sort(s);for(var l=0;l<o.resizeHandlers.length;l++){var h=o.resizeHandlers[l],c=h.widget,d=h.data;if(d&&d.jqxWidget){var u=d.jqxWidget.width,f=d.jqxWidget.height;d.jqxWidget.base&&(void 0==u&&(u=d.jqxWidget.base.width),void 0==f&&(f=d.jqxWidget.base.height)),void 0===u&&void 0===f&&(u=d.jqxWidget.element.style.width,f=d.jqxWidget.element.style.height);var p=!1;if(null!=u&&-1!=u.toString().indexOf("%")&&(p=!0),null!=f&&-1!=f.toString().indexOf("%")&&(p=!0),e.jqx.isHidden(c))-1===a(c)&&(p||t===!0)&&h.data.nestedWidget!==!0&&o.hiddenWidgets.push(h);else if((void 0===t||t!==!0)&&(p&&(h.callback(i),o.hiddenWidgets.indexOf(h)>=0&&o.hiddenWidgets.splice(o.hiddenWidgets.indexOf(h),1)),d.jqxWidget.element)){var g=d.jqxWidget.element.className;if((g.indexOf("dropdownlist")>=0||g.indexOf("datetimeinput")>=0||g.indexOf("combobox")>=0||g.indexOf("menu")>=0)&&d.jqxWidget.isOpened){var m=d.jqxWidget.isOpened();m&&d.jqxWidget.close()}}}}r()}};if(!this.resizeHandlers){this.resizeHandlers=new Array;var h=e(window);h.on?(this._resizeTimer=null,h.on("resize.jqx",function(t){void 0!=o._resizeTimer&&clearTimeout(o._resizeTimer),o._resizeTimer=setTimeout(function(){d(null,"resize")},e.jqx.resizeDelay)}),h.on("orientationchange.jqx",function(e){d(null,"orientationchange")}),h.on("orientationchanged.jqx",function(e){d(null,"orientationchange")})):(h.bind("resize.jqx",function(e){d(null,"orientationchange")}),h.bind("orientationchange.jqx",function(e){d(null,"orientationchange")}),h.bind("orientationchanged.jqx",function(e){d(null,"orientationchange")}))}s&&-1===r&&this.resizeHandlers.push({id:t[0].id,widget:t,callback:i,data:t.data()}),e.jqx.isHidden(t)&&s===!0&&d(!0),e.jqx.resize=function(){d(null,"resize")}},html:function(t,i){if(!e(t).on)return e(t).html(i);try{return e.access(t,function(i){var n=t[0]||{},s=0,r=t.length;if(void 0===i)return 1===n.nodeType?n.innerHTML.replace(rinlinejQuery,""):void 0;var o=/<(?:script|style|link)/i,a="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",l=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,h=/<([\w:]+)/,c=new RegExp("<(?:"+a+")[\\s/>]","i"),d=/^\s+/,u={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};if(!("string"!=typeof i||o.test(i)||!e.support.htmlSerialize&&c.test(i)||!e.support.leadingWhitespace&&d.test(i)||u[(h.exec(i)||["",""])[1].toLowerCase()])){i=i.replace(l,"<$1></$2>");try{for(;r>s;s++)n=this[s]||{},1===n.nodeType&&(e.cleanData(n.getElementsByTagName("*")),n.innerHTML=i);n=0}catch(f){}}n&&t.empty().append(i)},null,i,arguments.length)}catch(n){return e(t).html(i)}},hasTransform:function(t){var i="";if(i=t.css("transform"),""==i||"none"==i){if(i=t.parents().css("transform"),""!=i&&"none"!=i)return""!=i&&"none"!=i;var n=e.jqx.utilities.getBrowser();"msie"==n.browser?(i=t.css("-ms-transform"),(""==i||"none"==i)&&(i=t.parents().css("-ms-transform"))):"chrome"==n.browser?(i=t.css("-webkit-transform"),(""==i||"none"==i)&&(i=t.parents().css("-webkit-transform"))):"opera"==n.browser?(i=t.css("-o-transform"),(""==i||"none"==i)&&(i=t.parents().css("-o-transform"))):"mozilla"==n.browser&&(i=t.css("-moz-transform"),(""==i||"none"==i)&&(i=t.parents().css("-moz-transform")))}return(""==i||"none"==i)&&(i=e(document.body).css("transform")),""!=i&&"none"!=i&&null!=i},getBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],i={browser:t[1]||"",version:t[2]||"0"};return e.indexOf("rv:11.0")>=0&&e.indexOf(".net4.0c")>=0&&(i.browser="msie",i.version="11",t[1]="msie"),i[t[1]]=t[1],i}}),e.jqx.browser=e.jqx.utilities.getBrowser(),e.jqx.isHidden=function(e){try{var t=e[0].offsetWidth,i=e[0].offsetHeight;return 0===t||0===i?!0:!1}catch(n){return!1}},e.jqx.ariaEnabled=!0,e.jqx.aria=function(t,i,n){if(e.jqx.ariaEnabled)if(void 0==i)e.each(t.aria,function(i,n){var s=t.base?t.base.host.attr(i):t.host.attr(i);if(void 0==s||e.isFunction(s)){var s=t[n.name];e.isFunction(s)&&(s=t[n.name]()),void 0==s&&(s="");try{t.base?t.base.host.attr(i,s.toString()):t.host.attr(i,s.toString());

}catch(r){}}else{var o=s;switch(n.type){case"number":o=new Number(s),isNaN(o)&&(o=s);break;case"boolean":o="true"==s?!0:!1;break;case"date":o=new Date(s),("Invalid Date"==o||isNaN(o))&&(o=s)}t[n.name]=o}});else try{t.host?t.base?t.base.host?t.base.host.attr(i,n.toString()):t.attr(i,n.toString()):t.host?t.element.setAttribute?t.element.setAttribute(i,n.toString()):t.host.attr(i,n.toString()):t.attr(i,n.toString()):t.setAttribute&&t.setAttribute(i,n.toString())}catch(s){}},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,i=Number(arguments[1])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=t);t>i;i++)if(i in this&&this[i]===e)return i;return-1}),e.jqx.mobile=e.jqx.mobile||{},e.jqx.position=function(t){var i=parseInt(t.pageX),n=parseInt(t.pageY);if(e.jqx.mobile.isTouchDevice()){var s=e.jqx.mobile.getTouches(t),r=s[0];i=parseInt(r.pageX),n=parseInt(r.pageY)}return{left:i,top:n}},e.extend(e.jqx.mobile,{_touchListener:function(e,t){var i=function(e,t){var i=document.createEvent("MouseEvents");return i.initMouseEvent(e,t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),i._pageX=t.pageX,i._pageY=t.pageY,i},n={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},s=i(n[e.type],e);e.target.dispatchEvent(s);var r=e.target["on"+n[e.type]];"function"==typeof r&&r(e)},setMobileSimulator:function(t,i){if(!this.isTouchDevice()){this.simulatetouches=!0,0==i&&(this.simulatetouches=!1);var n={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},s=this;if(window.addEventListener){var r=function(){for(var e in n)t.addEventListener&&(t.removeEventListener(e,s._touchListener),t.addEventListener(e,s._touchListener,!1))};e.jqx.browser.msie,r()}}},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var e="Browser CodeName: "+navigator.appCodeName;if(e+="Browser Name: "+navigator.appName,e+="Browser Version: "+navigator.appVersion,e+="Platform: "+navigator.platform,e+="User-agent header: "+navigator.userAgent,-1!=e.indexOf("Android"))return!0;if(-1!=e.indexOf("IEMobile"))return!0;if(-1!=e.indexOf("Windows Phone"))return!0;if(-1!=e.indexOf("WPDesktop"))return!0;if(-1!=e.indexOf("ZuneWP7"))return!0;if(-1!=e.indexOf("BlackBerry")&&-1!=e.indexOf("Mobile Safari"))return!0;if(-1!=e.indexOf("ipod"))return!0;if(-1!=e.indexOf("nokia")||-1!=e.indexOf("Nokia"))return!0;if(-1!=e.indexOf("Chrome/17"))return!1;if(-1!=e.indexOf("CrOS"))return!1;if(-1!=e.indexOf("Opera")&&-1==e.indexOf("Mobi")&&-1==e.indexOf("Mini")&&-1!=e.indexOf("Platform: Win"))return!1;if(-1!=e.indexOf("Opera")&&-1!=e.indexOf("Mobi")&&-1!=e.indexOf("Opera Mobi"))return!0;var t={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(void 0!=this.touchDevice)return this.touchDevice;this.touchDevice=!1;for(i in t)if(t.hasOwnProperty(i)&&(prefix=t[i],match=e.match(new RegExp("(?:"+prefix+")([^\\s;]+)")),match))return"blackberry"==i.toString()?(this.touchDevice=!1,!1):(this.touchDevice=!0,!0);var n=navigator.userAgent;if(-1!=navigator.platform.toLowerCase().indexOf("win")){if(n.indexOf("Windows Phone")>=0||n.indexOf("WPDesktop")>=0||n.indexOf("IEMobile")>=0||n.indexOf("ZuneWP7")>=0)return this.touchDevice=!0,!0;if(n.indexOf("Touch")>=0){var s="MSPointerDown"in window||"pointerdown"in window;return s?(this.touchDevice=!0,!0):n.indexOf("ARM")>=0?(this.touchDevice=!0,!0):(this.touchDevice=!1,!1)}}return-1!=navigator.platform.toLowerCase().indexOf("win")?(this.touchDevice=!1,!1):(("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(this.touchDevice=!0),this.touchDevice)}catch(r){return this.touchDevice=!1,!1}},getLeftPos:function(e){for(var t=e.offsetLeft;null!=(e=e.offsetParent);)"HTML"!=e.tagName&&(t+=e.offsetLeft,document.all&&(t+=e.clientLeft));return t},getTopPos:function(t){for(var i=t.offsetTop,n=e(t).coord();null!=(t=t.offsetParent);)"HTML"!=t.tagName&&(i+=t.offsetTop-t.scrollTop,document.all&&(i+=t.clientTop));var s=navigator.userAgent.toLowerCase(),r=(-1!=s.indexOf("windows phone")||-1!=s.indexOf("WPDesktop")||-1!=s.indexOf("ZuneWP7")||-1!=s.indexOf("msie 9")||-1!=s.indexOf("msie 11")||-1!=s.indexOf("msie 10"))&&-1!=s.indexOf("touch");return r?n.top:this.isSafariMobileBrowser()?this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser()?i:-1!=s.indexOf("version/7")?n.top:((-1!=s.indexOf("version/6")||-1!=s.indexOf("version/5"))&&(i+=e(window).scrollTop()),n.top):i},isChromeMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("android");return t},isOperaMiniMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("opera mini")||-1!=e.indexOf("opera mobi");return t},isOperaMiniBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("opera mini");return t},isNewSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/5")},isSafari4MobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/4")},isWindowsPhone:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("windows phone")||-1!=e.indexOf("WPDesktop")||-1!=e.indexOf("ZuneWP7")||-1!=e.indexOf("msie 9")||-1!=e.indexOf("msie 11")||-1!=e.indexOf("msie 10")&&-1!=e.indexOf("touch");return t},isSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t},isIPadSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad");return t},isMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("android");return t},getTouches:function(e){if(e.originalEvent){if(e.originalEvent.touches&&e.originalEvent.touches.length)return e.originalEvent.touches;if(e.originalEvent.changedTouches&&e.originalEvent.changedTouches.length)return e.originalEvent.changedTouches}return e.touches||(e.touches=new Array,e.touches[0]=void 0!=e.originalEvent?e.originalEvent:e,void 0!=e.originalEvent&&e.pageX&&(e.touches[0]=e),"mousemove"==e.type&&(e.touches[0]=e)),e.touches},getTouchEventName:function(e){if(!this.isWindowsPhone())return e;var t=navigator.userAgent.toLowerCase();if(-1!=t.indexOf("windows phone 8.1")){if(-1!=e.toLowerCase().indexOf("start"))return"pointerdown";if(-1!=e.toLowerCase().indexOf("move"))return"pointermove";if(-1!=e.toLowerCase().indexOf("end"))return"pointerup"}return-1!=e.toLowerCase().indexOf("start")?"MSPointerDown":-1!=e.toLowerCase().indexOf("move")?"MSPointerMove":-1!=e.toLowerCase().indexOf("end")?"MSPointerUp":void 0},dispatchMouseEvent:function(e,t,i){if(!this.simulatetouches){var n=document.createEvent("MouseEvent");n.initMouseEvent(e,!0,!0,t.view,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),null!=i&&i.dispatchEvent(n)}},getRootNode:function(e){for(;1!==e.nodeType;)e=e.parentNode;return e},setTouchScroll:function(e,t){this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[t]=e},touchScroll:function(t,i,n,s,r,o){if(null!=t){var a=this,l=0,h=0,c=0,d=0,u=0,f=0;this.scrolling||(this.scrolling=[]),this.scrolling[s]=!1;var p=!1,g=e(t),m=["select","input","textarea"],_=0,v=0;this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[s]=!0;var s=s,y=this.getTouchEventName("touchstart")+".touchScroll",x=this.getTouchEventName("touchend")+".touchScroll",b=this.getTouchEventName("touchmove")+".touchScroll",_=function(t){if(!a.enableScrolling[s])return!0;if(-1===e.inArray(t.target.tagName.toLowerCase(),m)){var i=a.getTouches(t),n=i[0];return 1==i.length&&a.dispatchMouseEvent("mousedown",n,a.getRootNode(n.target)),p=!1,h=n.pageY,u=n.pageX,a.simulatetouches&&void 0!=n._pageY&&(h=n._pageY,u=n._pageX),a.scrolling[s]=!0,l=0,d=0,!0}};g.on?g.on(y,_):g.bind(y,_);var w=function(e){if(!a.enableScrolling[s])return!0;if(!a.scrolling[s])return!0;var t=a.getTouches(e);if(t.length>1)return!0;var i=t[0].pageY,g=t[0].pageX;a.simulatetouches&&void 0!=t[0]._pageY&&(i=t[0]._pageY,g=t[0]._pageX);var m=i-h,_=g-u;v=i,touchHorizontalEnd=g,c=m-l,f=_-d,p=!0,l=m,d=_;var y=null!=r?"hidden"!=r[0].style.visibility:!0,x=null!=o?"hidden"!=o[0].style.visibility:!0;return(y||x)&&(0!==f&&y||0!==c&&x)?(n(1*-f,1*-c,_,m,e),e.preventDefault(),e.stopPropagation(),e.preventManipulation&&e.preventManipulation(),!1):void 0};if(g.on?g.on(b,w):g.bind(b,w),this.simulatetouches){var j=(void 0!=e(window).on||e(window).bind,function(e){a.scrolling[s]=!1});if(void 0!=e(window).on?e(document).on("mouseup.touchScroll",j):e(document).bind("mouseup.touchScroll",j),window.frameElement&&null!=window.top){var C=function(e){a.scrolling[s]=!1};window.top.document&&(e(window.top.document).on?e(window.top.document).on("mouseup",C):e(window.top.document).bind("mouseup",C))}var k=(void 0!=e(document).on||e(document).bind,function(e){if(!a.scrolling[s])return!0;a.scrolling[s]=!1;var t=a.getTouches(e)[0],i=a.getRootNode(t.target);a.dispatchMouseEvent("mouseup",t,i),a.dispatchMouseEvent("click",t,i)});void 0!=e(document).on?e(document).on("touchend",k):e(document).bind("touchend",k)}var I=function(e){if(!a.enableScrolling[s])return!0;var t=a.getTouches(e)[0];if(!a.scrolling[s])return!0;if(a.scrolling[s]=!1,!p){var t=a.getTouches(e)[0],i=a.getRootNode(t.target);return a.dispatchMouseEvent("mouseup",t,i),a.dispatchMouseEvent("click",t,i),!0}a.dispatchMouseEvent("mouseup",t,i)};g.on&&(g.on("dragstart",function(e){e.preventDefault()}),g.on("selectstart",function(e){e.preventDefault()})),g.on?g.on(x+" touchcancel.touchScroll",I):g.bind(x+" touchcancel.touchScroll",I)}}}),e.jqx.cookie=e.jqx.cookie||{},e.extend(e.jqx.cookie,{cookie:function(t,i,n){if(arguments.length>1&&"[object Object]"!==String(i)){if(n=e.extend({},n),(null===i||void 0===i)&&(n.expires=-1),"number"==typeof n.expires){var s=n.expires,r=n.expires=new Date;r.setDate(r.getDate()+s)}return i=String(i),document.cookie=[encodeURIComponent(t),"=",n.raw?i:encodeURIComponent(i),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}n=i||{};var o,a=n.raw?function(e){return e}:decodeURIComponent;return(o=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?a(o[1]):null}}),e.jqx.string=e.jqx.string||{},e.extend(e.jqx.string,{replace:function(e,t,i){if(t===i)return this;for(var n=e,s=n.indexOf(t);-1!=s;)n=n.replace(t,i),s=n.indexOf(t);return n},contains:function(e,t){return null==e||null==t?!1:-1!=e.indexOf(t)},containsIgnoreCase:function(e,t){return null==e||null==t?!1:-1!=e.toString().toUpperCase().indexOf(t.toString().toUpperCase())},equals:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),t.length==e.length?e.slice(0,t.length)==t:!1)},equalsIgnoreCase:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),t.length==e.length?e.toUpperCase().slice(0,t.length)==t.toUpperCase():!1)},startsWith:function(e,t){return null==e||null==t?!1:e.slice(0,t.length)==t},startsWithIgnoreCase:function(e,t){return null==e||null==t?!1:e.toUpperCase().slice(0,t.length)==t.toUpperCase()},normalize:function(e){return 65279==e.charCodeAt(e.length-1)&&(e=e.substring(0,e.length-1)),e},endsWith:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),e.slice(-t.length)==t)},endsWithIgnoreCase:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),e.toUpperCase().slice(-t.length)==t.toUpperCase())}}),e.extend(e.easing,{easeOutBack:function(e,t,i,n,s,r){return void 0==r&&(r=1.70158),n*((t=t/s-1)*t*((r+1)*t+r)+1)+i},easeInQuad:function(e,t,i,n,s){return n*(t/=s)*t+i},easeInOutCirc:function(e,t,i,n,s){return(t/=s/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+i:n/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInOutSine:function(e,t,i,n,s){return-n/2*(Math.cos(Math.PI*t/s)-1)+i},easeInCubic:function(e,t,i,n,s){return n*(t/=s)*t*t+i},easeOutCubic:function(e,t,i,n,s){return n*((t=t/s-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t*t+i:n/2*((t-=2)*t*t+2)+i},easeInSine:function(e,t,i,n,s){return-n*Math.cos(t/s*(Math.PI/2))+n+i},easeOutSine:function(e,t,i,n,s){return n*Math.sin(t/s*(Math.PI/2))+i},easeInOutSine:function(e,t,i,n,s){return-n/2*(Math.cos(Math.PI*t/s)-1)+i}})}(jqxBaseFramework),function(e){e.extend(e.event.special,{close:{noBubble:!0},open:{noBubble:!0},cellclick:{noBubble:!0},rowclick:{noBubble:!0},tabclick:{noBubble:!0},selected:{noBubble:!0},expanded:{noBubble:!0},collapsed:{noBubble:!0},valuechanged:{noBubble:!0},expandedItem:{noBubble:!0},collapsedItem:{noBubble:!0},expandingItem:{noBubble:!0},collapsingItem:{noBubble:!0}}),e.fn.extend({ischildof:function(t){for(var i=e(this).parents().get(),n=0;n<i.length;n++)if("string"!=typeof t){var s=i[n];if(void 0!==t&&s==t[0])return!0}else if(void 0!==t&&e(i[n]).is(t))return!0;return!1}}),e.fn.jqxProxy=function(){var t=e(this).data().jqxWidget,i=Array.prototype.slice.call(arguments,0),n=t.element;return n||(n=t.base.element),e.jqx.jqxWidgetProxy(t.widgetName,n,i)};var t=this.originalVal=e.fn.val;e.fn.val=function(i){if("undefined"==typeof i){if(e(this).hasClass("jqx-widget")){var n=e(this).data().jqxWidget;if(n&&n.val)return n.val()}return t.call(this)}if(e(this).hasClass("jqx-widget")){var n=e(this).data().jqxWidget;if(n&&n.val)return 2!=arguments.length?n.val(i):n.val(i,arguments[1])}return t.call(this,i)},e.fn.modal&&(e.fn.modal.Constructor.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(t){if(this.$element[0]!==t.target&&!this.$element.has(t.target).length){if(e(t.target).parents().hasClass("jqx-popup"))return!0;this.$element.trigger("focus")}},this))}),e.fn.coord=function(t){var i,n,s={top:0,left:0},r=this[0],o=r&&r.ownerDocument;if(o){if(i=o.documentElement,!e.contains(i,r))return s;void 0!==typeof r.getBoundingClientRect&&(s=r.getBoundingClientRect());var a=function(t){return e.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1};n=a(o);var l=0,h=0,c=navigator.userAgent.toLowerCase(),d=-1!=c.indexOf("ipad")||-1!=c.indexOf("iphone");if(d&&(l=2),1==t&&"static"!=e(document.body).css("position")){var u=e(document.body).coord();l=-u.left,h=-u.top}return{top:h+s.top+(n.pageYOffset||i.scrollTop)-(i.clientTop||0),left:l+s.left+(n.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}}}}(jqxBaseFramework),function(e){e.jqx.cssroundedcorners=function(e){var t={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-bl"};for(prop in t)if(t.hasOwnProperty(prop)&&e==prop)return t[prop]},e.jqx.jqxWidget("jqxButton","",{}),e.extend(e.jqx._jqxButton.prototype,{defineInstance:function(){var t={cursor:"arrow",roundedCorners:"all",disabled:!1,height:null,width:null,overrideTheme:!1,enableHover:!0,enableDefault:!0,enablePressed:!0,rtl:!1,_ariaDisabled:!1,_scrollAreaButton:!1,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return e.extend(!0,this,t),t},createInstance:function(t){var i=this;i._setSize(),i._ariaDisabled||i.host.attr("role","button"),i.overrideTheme||(i.host.addClass(i.toThemeProperty(e.jqx.cssroundedcorners(i.roundedCorners))),i.enableDefault&&i.host.addClass(i.toThemeProperty("jqx-button")),i.host.addClass(i.toThemeProperty("jqx-widget"))),i.isTouchDevice=e.jqx.mobile.isTouchDevice(),i._ariaDisabled||e.jqx.aria(this),"arrow"!=i.cursor&&i.host.css(i.disabled?{cursor:"arrow"}:{cursor:i.cursor});var n="mouseenter mouseleave mousedown focus blur";if(i._scrollAreaButton)var n="mousedown";i.isTouchDevice&&(i.addHandler(i.host,e.jqx.mobile.getTouchEventName("touchstart"),function(e){i.isPressed=!0,i.refresh()}),i.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+i.element.id,function(e){i.isPressed=!1,i.refresh()})),i.addHandler(i.host,n,function(e){switch(e.type){case"mouseenter":i.isTouchDevice||!i.disabled&&i.enableHover&&(i.isMouseOver=!0,i.refresh());break;case"mouseleave":i.isTouchDevice||!i.disabled&&i.enableHover&&(i.isMouseOver=!1,i.refresh());break;case"mousedown":i.disabled||(i.isPressed=!0,i.refresh());break;case"focus":i.disabled||(i.isFocused=!0,i.refresh());break;case"blur":i.disabled||(i.isFocused=!1,i.refresh())}}),i.mouseupfunc=function(e){i.disabled||(i.isPressed||i.isMouseOver)&&(i.isPressed=!1,i.refresh())},i.addHandler(e(document),"mouseup.button"+i.element.id,i.mouseupfunc);try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var s="";if(window.parent&&document.referrer&&(s=document.referrer),-1!=s.indexOf(document.location.host)){var r=function(e){i.isPressed=!1,i.refresh()};window.top.document&&i.addHandler(e(window.top.document),"mouseup",r)}}}catch(o){}i.propertyChangeMap.roundedCorners=function(t,i,n,s){t.host.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(n))),t.host.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(s)))},i.propertyChangeMap.width=function(e,t,i,n){e._setSize(),e.refresh()},i.propertyChangeMap.height=function(e,t,i,n){e._setSize(),e.refresh()},i.propertyChangeMap.disabled=function(t,i,n,s){n!=s&&(t.host[0].disabled=s,t.host.attr("disabled",s),t.refresh(),t.host.css(s?{cursor:"default"}:{cursor:t.cursor}),e.jqx.aria(t,"aria-disabled",t.disabled))},i.propertyChangeMap.rtl=function(e,t,i,n){i!=n&&e.refresh()},i.propertyChangeMap.template=function(e,t,i,n){i!=n&&(e.host.removeClass("jqx-"+i),e.refresh())},i.propertyChangeMap.theme=function(t,i,n,s){t.host.removeClass(),t.enableDefault&&t.host.addClass(t.toThemeProperty("jqx-button")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.overrideTheme||t.host.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(t.roundedCorners))),t._oldCSSCurrent=null,t.refresh()},i.disabled&&(i.element.disabled=!0,i.host.attr("disabled",!0))},resize:function(e,t){this.width=e,this.height=t,this._setSize()},val:function(){var t=this,i=t.host.find("input");return i.length>0?0==arguments.length||"object"==typeof value?i.val():(i.val(value),t.refresh(),i.val()):0==arguments.length||"object"==typeof value?"button"==t.element.nodeName.toLowerCase()?e(t.element).text():t.element.value:(t.element.value=arguments[0],"button"==t.element.nodeName.toLowerCase()&&e(t.element).text(arguments[0]),void t.refresh())},_setSize:function(){var e=this;null==e.width||-1==e.width.toString().indexOf("px")&&-1==e.width.toString().indexOf("%")?void 0==e.width||isNaN(e.width)||e.host.css("width",e.width):e.host.css("width",e.width),null==e.height||-1==e.height.toString().indexOf("px")&&-1==e.height.toString().indexOf("%")?void 0==e.height||isNaN(e.height)||e.host.css("height",parseInt(e.height)):e.host.css("height",e.height)},_removeHandlers:function(){var t=this;t.removeHandler(t.host,"selectstart"),t.removeHandler(t.host,"click"),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave"),t.removeHandler(t.host,"mousedown"),t.removeHandler(e(document),"mouseup.button"+t.element.id,t.mouseupfunc),t.isTouchDevice&&(t.removeHandler(t.host,e.jqx.mobile.getTouchEventName("touchstart")),t.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+t.element.id)),t.mouseupfunc=null,delete t.mouseupfunc},focus:function(){this.host.focus()},destroy:function(){var t=this;t._removeHandlers();var i=e.data(t.element,"jqxButton");i&&delete i.instance,t.host.removeClass(),t.host.removeData(),t.host.remove(),delete t.set,delete t.get,delete t.call,delete t.element,delete t.host},render:function(){this.refresh()},refresh:function(){var e=this;if(!e.overrideTheme){var t=e.toThemeProperty("jqx-fill-state-focus"),i=e.toThemeProperty("jqx-fill-state-disabled"),n=e.toThemeProperty("jqx-fill-state-normal");e.enableDefault||(n="");var s=e.toThemeProperty("jqx-fill-state-hover"),r=e.toThemeProperty("jqx-fill-state-pressed"),o=e.toThemeProperty("jqx-fill-state-pressed");e.enablePressed||(r="");var a="";if(e.host){if(e.host[0].disabled=e.disabled,e.disabled)return a=n+" "+i,"default"!==e.template&&""!==e.template&&(a+=" jqx-"+e.template),e.host.addClass(a),void(e._oldCSSCurrent=a);a=e.isMouseOver&&!e.isTouchDevice?e.isPressed?o:s:e.isPressed?r:n,e.isFocused&&(a+=" "+t),"default"!==e.template&&""!==e.template&&(a+=" jqx-"+e.template),a!=e._oldCSSCurrent&&(e._oldCSSCurrent&&e.host.removeClass(e._oldCSSCurrent),e.host.addClass(a),e._oldCSSCurrent=a),e.rtl&&(e.host.addClass(e.toThemeProperty("jqx-rtl")),e.host.css("direction","rtl"))}}}}),e.jqx.jqxWidget("jqxLinkButton","",{}),e.extend(e.jqx._jqxLinkButton.prototype,{defineInstance:function(){this.disabled=!1,this.height=null,this.width=null,this.rtl=!1,this.href=null},createInstance:function(e){var t=this;this.host.onselectstart=function(){return!1},this.host.attr("role","button");var i=this.height||this.host.height(),n=this.width||this.host.width();this.href=this.host.attr("href"),this.target=this.host.attr("target"),this.content=this.host.text(),this.element.innerHTML="",this.host.append("<input type='button' class='jqx-wrapper'/>");var s=this.host.find("input");s.addClass(this.toThemeProperty("jqx-reset")),s.width(n),s.height(i),s.val(this.content),this.host.find("tr").addClass(this.toThemeProperty("jqx-reset")),this.host.find("td").addClass(this.toThemeProperty("jqx-reset")),this.host.find("tbody").addClass(this.toThemeProperty("jqx-reset")),this.host.css("color","inherit"),this.host.addClass(this.toThemeProperty("jqx-link")),s.css({width:n}),s.css({height:i});var r=void 0==e?{}:e[0]||{};s.jqxButton(r),this.disabled&&(this.host[0].disabled=!0),this.propertyChangeMap.disabled=function(e,t,i,n){e.host[0].disabled=n,e.host.find("input").jqxButton({disabled:n})},this.addHandler(s,"click",function(e){return this.disabled||t.onclick(e),!1})},onclick:function(e){null!=this.target?window.open(this.href,this.target):window.location=this.href}}),e.jqx.jqxWidget("jqxRepeatButton","jqxButton",{}),e.extend(e.jqx._jqxRepeatButton.prototype,{defineInstance:function(){this.delay=50},createInstance:function(t){var i=this,n=e.jqx.mobile.isTouchDevice(),s=n?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,r=n?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.addHandler(e(document),s,function(e){null!=i.timeout&&(clearTimeout(i.timeout),i.timeout=null,i.refresh()),void 0!=i.timer&&(clearInterval(i.timer),i.timer=null,i.refresh())}),this.addHandler(this.base.host,r,function(e){null!=i.timer&&clearInterval(i.timer),i.timeout=setTimeout(function(){clearInterval(i.timer),i.timer=setInterval(function(e){i.ontimer(e)},i.delay)},150)}),this.mousemovefunc=function(e){n||0==e.which&&null!=i.timer&&(clearInterval(i.timer),i.timer=null)},this.addHandler(this.base.host,"mousemove",this.mousemovefunc)},destroy:function(){var t=e.jqx.mobile.isTouchDevice(),i=t?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,n=t?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.removeHandler(this.base.host,"mousemove",this.mousemovefunc),this.removeHandler(this.base.host,n),this.removeHandler(e(document),i),this.timer=null,delete this.mousemovefunc,delete this.timer;var s=e.data(this.base.element,"jqxRepeatButton");s&&delete s.instance,e(this.base.element).removeData(),this.base.destroy(),delete this.base},stop:function(){clearInterval(this.timer),this.timer=null},ontimer:function(t){var t=new e.Event("click");null!=this.base&&null!=this.base.host&&this.base.host.trigger(t)}}),e.jqx.jqxWidget("jqxToggleButton","jqxButton",{}),e.extend(e.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=!1,this.uiToggle=!0,this.aria={"aria-checked":{name:"toggled",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(t){var i=this;i.base.overrideTheme=!0,i.isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(this),i.propertyChangeMap.roundedCorners=function(t,i,n,s){t.base.host.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(n))),t.base.host.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(s)))},i.propertyChangeMap.toggled=function(e,t,i,n){e.refresh()},i.propertyChangeMap.disabled=function(e,t,i,n){e.base.disabled=n,e.refresh()},i.addHandler(i.base.host,"click",function(e){!i.base.disabled&&i.uiToggle&&i.toggle()}),i.isTouchDevice||(i.addHandler(i.base.host,"mouseenter",function(e){i.base.disabled||i.refresh()}),i.addHandler(i.base.host,"mouseleave",function(e){i.base.disabled||i.refresh()})),i.addHandler(i.base.host,"mousedown",function(e){i.base.disabled||i.refresh()}),i.addHandler(e(document),"mouseup.togglebutton"+i.base.element.id,function(e){i.base.disabled||i.refresh()})},destroy:function(){this._removeHandlers(),this.base.destroy()},_removeHandlers:function(){this.removeHandler(this.base.host,"click"),this.removeHandler(this.base.host,"mouseenter"),this.removeHandler(this.base.host,"mouseleave"),this.removeHandler(this.base.host,"mousedown"),this.removeHandler(e(document),"mouseup.togglebutton"+this.base.element.id)},toggle:function(){this.toggled=!this.toggled,this.refresh(),e.jqx.aria(this,"aria-checked",this.toggled)},unCheck:function(){this.toggled=!1,this.refresh()},check:function(){this.toggled=!0,this.refresh()},refresh:function(){var e=this,t=e.base.toThemeProperty("jqx-fill-state-disabled"),i=e.base.toThemeProperty("jqx-fill-state-normal");e.base.enableDefault||(i="");var n=e.base.toThemeProperty("jqx-fill-state-hover"),s=e.base.toThemeProperty("jqx-fill-state-pressed"),r=e.base.toThemeProperty("jqx-fill-state-pressed"),o="";return e.base.host[0].disabled=e.base.disabled,e.base.disabled?(o=i+" "+t,void e.base.host.addClass(o)):(o=e.base.isMouseOver&&!e.isTouchDevice?e.base.isPressed||e.toggled?r:n:e.base.isPressed||e.toggled?s:i,"default"!==e.base.template&&""!==e.base.template&&(o+=" jqx-"+e.base.template),e.base.host.hasClass(t)&&t!=o&&e.base.host.removeClass(t),e.base.host.hasClass(i)&&i!=o&&e.base.host.removeClass(i),e.base.host.hasClass(n)&&n!=o&&e.base.host.removeClass(n),e.base.host.hasClass(s)&&s!=o&&e.base.host.removeClass(s),e.base.host.hasClass(r)&&r!=o&&e.base.host.removeClass(r),void(e.base.host.hasClass(o)||e.base.host.addClass(o)))}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxSplitter","",{}),e.extend(e.jqx._jqxSplitter.prototype,{defineInstance:function(){var t={width:300,height:300,panels:[],orientation:"vertical",disabled:!1,splitBarSize:5,touchSplitBarSize:15,panel1:null,panel2:null,_eventsMap:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_isTouchDevice:!1,_isNested:!1,resizable:!0,touchMode:"auto",showSplitBar:!0,initContent:null,_events:["resize","expanded","collapsed","resizeStart","layout"]};return e.extend(!0,this,t),t},createInstance:function(){this.render()},_initOverlay:function(t){if(this.overlay||"undefined"==t)this.overlay.remove(),this.overlay=null;else if(1==t){this.overlay=e("<div style='z-index: 100; background: #fff;'></div>"),this.overlay.css("opacity",.01),this.overlay.css("position","absolute"),this.overlay.appendTo(e(document.body));{this.host.coord()}this.overlay.css("left","0px"),this.overlay.css("top","0px"),this.overlay.width(e(window).width()),this.overlay.height(e(window).height()),this.overlay.addClass("jqx-disableselect"),"horizontal"==this.orientation?this.overlay.css("cursor","row-resize"):this.overlay.css("cursor","col-resize")}},_startDrag:function(t){return t.target==this.splitBarButton[0]||this.disabled?!0:this.panels[0].collapsed||this.panels[1].collapsed||!this.resizable?!0:null==this.overlay?(this._dragging=!0,this._initOverlay(!0),this._dragStart=e.jqx.position(t),!1):!0},_drag:function(t){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled)return!0;if(!this._dragging)return!0;var i="horizontal"==this.orientation?"top":"left",n="vertical"==this.orientation?"width":"height";if(this._position=e.jqx.position(t),this.overlay&&!this._splitBarClone&&Math.abs(this._position[i]-this._dragStart[i])>=3){var s=this.splitBar.coord();return this._cloneStart={left:s.left,top:s.top},this._splitBarClone=this._createSplitBarClone(),void this._raiseEvent(3,{panels:this.panels})}if(this._splitBarClone){var r,o,a=this.host[n](),l=a/100,h=0,c=this._splitBarClone[n]()+2,d=parseInt(this.host.coord()[i]),u=this._position[i]-this._dragStart[i]+this._cloneStart[i]-d;return h>u&&(u=h),u>a+h-c&&(u=a+h-c),r=this.panels[0].min,o=this.panels[1].min,-1!=o.toString().indexOf("%")&&(o=parseFloat(o)*l),-1!=r.toString().indexOf("%")&&(r=parseFloat(r)*l),this._splitBarClone.removeClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),r>u&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),u=r),u>a+h-c-o&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),u=a+h-c-o),this._splitBarClone.css(i,u),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1}return!0},resize:function(e,t){this.width=e,this.height=t,this._arrange()},_resize:function(){var e="horizontal"==this.orientation?"height":"width",t="horizontal"==this.orientation?"top":"left",i=this._splitBarClone.css(t),n=this.host[e](),s=n/100,r=1/s,o=this.panels[0].size;this.panels[0].size=-1!=o.toString().indexOf("%")?parseFloat(i)*r+"%":parseFloat(i),this._layoutPanels(),this._raiseEvent(0,{panels:this.panels})},_stopDrag:function(){if(this._dragging&&this._initOverlay(),this._dragging=!1,this._splitBarClone){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled)return!0;this._resize(),this._splitBarClone.remove(),this._splitBarClone=null}},_createSplitBarClone:function(){var e=this.splitBar.clone();return e.fadeTo(0,.7),e.css("z-index",99999),"vertical"==this.orientation?e.css("cursor","col-resize"):e.css("cursor","row-resize"),this.host.append(e),e},_eventName:function(e){return this._isTouchDevice?this._eventsMap[e]:e},_addHandlers:function(){var t=this;if(e.jqx.utilities.resize(this.host,function(){t._layoutPanels()}),this.addHandler(this.splitBar,"dragstart."+this.element.id,function(e){return!1}),this.splitBarButton&&(this.addHandler(this.splitBarButton,"click."+this.element.id,function(){var e=function(e){e.collapsed?t.expand():t.collapse()};t.panels[0].collapsible?e(t.panels[0]):t.panels[1].collapsible&&e(t.panels[1])}),this.addHandler(this.splitBarButton,this._eventName("mouseenter"),function(){t.splitBarButton.addClass(t.toThemeProperty("jqx-splitter-collapse-button-hover")),t.splitBarButton.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this.splitBarButton,this._eventName("mouseleave"),function(){t.splitBarButton.removeClass(t.toThemeProperty("jqx-splitter-collapse-button-hover")),t.splitBarButton.removeClass(t.toThemeProperty("jqx-fill-state-hover"))})),this.addHandler(e(document),this._eventName("mousemove")+"."+this.element.id,function(e){return t._drag(e)}),this.addHandler(e(document),this._eventName("mouseup")+"."+this.element.id,function(){return t._stopDrag()}),this.addHandler(this.splitBar,this._eventName("mousedown"),function(e){return t._startDrag(e)}),this.addHandler(this.splitBar,this._eventName("mouseenter"),function(){t.resizable&&!t.disabled&&(t.splitBar.addClass(t.toThemeProperty("jqx-splitter-splitbar-hover")),t.splitBar.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.splitBar,this._eventName("mouseleave"),function(){t.resizable&&!t.disabled&&(t.splitBar.removeClass(t.toThemeProperty("jqx-splitter-splitbar-hover")),t.splitBar.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}),(""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){
var i=null;if(window.parent&&document.referrer&&(i=document.referrer),i&&-1!=i.indexOf(document.location.host)){var n=function(e){t._stopDrag()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",n,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",n)}}},_removeHandlers:function(){this.removeHandler(e(window),"resize."+this.element.id),this.splitBarButton&&(this.removeHandler(this.splitBarButton,"click."+this.element.id),this.removeHandler(this.splitBarButton,this._eventName("mouseenter")),this.removeHandler(this.splitBarButton,this._eventName("mouseleave"))),this.removeHandler(e(document),this._eventName("mousemove")+"."+this.element.id),this.removeHandler(e(document),this._eventName("mouseup")+"."+this.element.id),this.splitBar&&(this.removeHandler(this.splitBar,"dragstart."+this.element.id),this.removeHandler(this.splitBar,this._eventName("mousedown")),this.removeHandler(this.splitBar,this._eventName("mouseenter")),this.removeHandler(this.splitBar,this._eventName("mouseleave")))},render:function(){this.splitBar&&this.splitBar.remove();var t=this.host.children();if(2!=t.length)throw"Invalid HTML Structure! jqxSplitter requires 1 container DIV tag and 2 nested DIV tags.";if(2==t.length){var i=t[0].className.split(" "),n=t[1].className.split(" ");if(-1!=i.indexOf("jqx-reset")&&-1!=i.indexOf("jqx-splitter")&&-1!=i.indexOf("jqx-widget"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";if(-1!=n.indexOf("jqx-reset")&&-1!=n.indexOf("jqx-splitter")&&-1!=n.indexOf("jqx-widget"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!"}if(this.host.parent().length>0&&-1!=this.host.parent()[0].className.indexOf("jqx-splitter")){if(-1!=this.element.className.indexOf("jqx-splitter-panel"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";this._isNested=!0,300==this.width&&(this.width="100%"),300==this.height&&(this.height="100%"),"100%"==this.width&&"100%"==this.height&&(this.host.addClass("jqx-splitter-nested"),-1!=this.host.parent()[0].className.indexOf("jqx-splitter-panel")&&this.host.parent().addClass("jqx-splitter-panel-nested"))}this._hasBorder=0==this.host.hasClass("jqx-hideborder")||""!=this.element.style.borderTopWidth,this._removeHandlers(),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._validate(),this.panel1.css("left","0px"),this.panel1.css("top","0px"),this.panel2.css("left","0px"),this.panel2.css("top","0px"),this.splitBar=e("<div><div></div></div>"),this.resizable||this.splitBar.css("cursor","default"),this.splitBarButton=this.splitBar.find("div:last"),this._setTheme(),this.splitBar.insertAfter(this.panel1),this._arrange(),0==this.panels[0].collapsible&&0==this.panels[1].collapsible&&this.splitBarButton.hide();this._addHandlers(),this.initContent&&this.initContent(),this.disabled&&this.disable()},_hiddenParent:function(){return e.jqx.isHidden(this.host)},_setTheme:function(){this.panel1.addClass(this.toThemeProperty("jqx-widget-content")),this.panel2.addClass(this.toThemeProperty("jqx-widget-content")),this.panel1.addClass(this.toThemeProperty("jqx-splitter-panel")),this.panel2.addClass(this.toThemeProperty("jqx-splitter-panel")),this.panel1.addClass(this.toThemeProperty("jqx-reset")),this.panel2.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-splitter")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-"+this.orientation)),this.splitBar.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-collapse-button-"+this.orientation)),this.splitBarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_validate:function(){var t=this.host.children();if(2!=t.length)throw"Invalid HTML Structure! jqxSplitter requires two nested DIV tags!";this.panels&&!this.panels[1]?this.panels[0]?this.panels[1]={}:this.panels=[{size:"50%"},{size:"50%"}]:void 0==this.panels&&(this.panels=[{size:"50%"},{size:"50%"}]);var t=this.host.children();this.panel1=this.panels[0].element=e(t[0]),this.panel2=this.panels[1].element=e(t[1]),this.panel1[0].style.minWidth="",this.panel1[0].style.maxWidth="",this.panel2[0].style.minWidth="",this.panel2[0].style.maxWidth="",e.each(this.panels,function(){void 0==this.min&&(this.min=0),void 0==this.size&&(this.size=0),this.size<0&&(this.size=0),this.min<0&&(this.min=0),void 0==this.collapsible&&(this.collapsible=!0),void 0==this.collapsed&&(this.collapsed=!1),0!=this.size&&(-1!=this.size.toString().indexOf("px")&&(this.size=parseInt(this.size)),-1==this.size.toString().indexOf("%")?parseInt(this.min)>parseInt(this.size)&&(this.min=this.size):-1!=this.min.toString().indexOf("%")&&parseInt(this.min)>parseInt(this.size)&&(this.min=this.size))})},_arrange:function(){if(null!=this.width){var e=this.width;"string"!=typeof e&&(e=parseInt(this.width)+"px"),this.host.css("width",e)}if(null!=this.height){var t=this.height;"string"!=typeof t&&(t=parseInt(this.height)+"px"),this.host.css("height",t)}this._splitBarSize=this._isTouchDevice?this.touchSplitBarSize:this.splitBarSize,this.showSplitBar||(this._splitBarSize=0,this.splitBar.hide());var i="horizontal"==this.orientation?"width":"height";this.splitBar.css(i,"100%"),this.panel1.css(i,"100%"),this.panel2.css(i,"100%"),"horizontal"==this.orientation?this.splitBar.height(this._splitBarSize):this.splitBar.width(this._splitBarSize),"vertical"===this.orientation?(this.splitBarButton.width(this._splitBarSize),this.splitBarButton.height(45)):(this.splitBarButton.height(this._splitBarSize),this.splitBarButton.width(45)),this.splitBarButton.css("position","relative"),"vertical"===this.orientation?(this.splitBarButton.css("top","50%"),this.splitBarButton.css("left","0"),this.splitBarButton.css("margin-top","-23px"),this.splitBarButton.css("margin-left","-0px")):(this.splitBarButton.css("left","50%"),this.splitBarButton.css("top","0"),this.splitBarButton.css("margin-left","-23px"),this.splitBarButton.css("margin-top","-0px")),this._layoutPanels()},collapse:function(){if(!this.disabled){var e=-1;this.panels[0].collapsed=this.panels[1].collapsed=!1,this.panels[0].element[0].style.visibility="inherit",this.panels[1].element[0].style.visibility="inherit",this.panels[0].collapsible?e=0:this.panels[1].collapsible&&(e=1),-1!=e&&(this.panels[e].collapsed=!0,this.panels[e].element[0].style.visibility="hidden",this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(2,{index:e,panels:this.panels}),this._raiseEvent(0,{panels:this.panels}))}},expand:function(){if(!this.disabled){var e=-1;this.panels[0].collapsed=this.panels[1].collapsed=!1,this.panels[0].element[0].style.visibility="inherit",this.panels[1].element[0].style.visibility="inherit",this.panels[0].collapsible?e=0:this.panels[1].collapsible&&(e=1),-1!=e&&(this.panels[e].collapsed=!1,this.panels[e].element[0].style.visibility="inherit",this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(1,{index:e,panels:this.panels}),this._raiseEvent(0,{panels:this.panels}))}},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this.splitBarButton.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},refresh:function(e){1!=e&&this._arrange()},propertyChangedHandler:function(t,i,n,s){return"panels"===i||"orientation"===i||"showSplitBar"===i?void t.render():("touchMode"===i&&(t._isTouchDevice=s),void("disabled"===i?s?t.disable():t.enable():"theme"===i?e.jqx.utilities.setTheme(n,s,t.host):t.refresh()))},_layoutPanels:function(){var e,t,i,n,s=this,r="horizontal"==this.orientation?"height":"width",o="horizontal"==this.orientation?"top":"left",a=parseInt(this._splitBarSize)+2;this.showSplitBar||(a=0);var l=this.host[r](),h=l/100,c=1/h,d=c*a,u=this.panel1,f=this.panel2,p=this.panels[0].size;this.panels[0].collapsed&&(i=!0),this.panels[1].collapsed&&(n=!0),e=this.panels[0].min,t=this.panels[1].min,-1!=t.toString().indexOf("%")&&(t=parseFloat(t)*h),-1!=e.toString().indexOf("%")&&(e=parseFloat(e)*h),this._isNested&&this._isTouchDevice&&("horizontal"==this.orientation?(u.width(this.host.width()),f.width(this.host.width())):(u.height(this.host.height()),f.height(this.host.height())));var g=function(){var e=s.panel1[r]();if(s.splitBar[0].style[o]!=e+"px"){var t=e;"vertical"==s.orientation?(s.splitBar[0].style.borderLeftColor="",s.splitBar[0].style.borderRightColor="",s.splitBarButton[0].style.width=parseInt(s._splitBarSize)+"px",s.splitBarButton[0].style.left="0px"):(s.splitBar[0].style.borderTopColor="",s.splitBar[0].style.borderBottomColor="",s.splitBarButton[0].style.height=parseInt(s._splitBarSize)+"px",s.splitBarButton[0].style.top="0px"),s._hasBorder&&(l-a==e?"vertical"==s.orientation?(s.splitBar[0].style.borderRightColor="transparent",s.splitBarButton[0].style.width=parseInt(s._splitBarSize+1)+"px"):(s.splitBar[0].style.borderBottomColor="transparent",s.splitBarButton[0].style.height=parseInt(s._splitBarSize+1)+"px"):0==e&&("vertical"==s.orientation?(s.splitBar[0].style.borderLeftColor="transparent",s.splitBarButton[0].style.width=parseInt(s._splitBarSize+1)+"px",s.splitBarButton[0].style.left="-1px"):(s.splitBar[0].style.borderTopColor="transparent",s.splitBarButton[0].style.height=parseInt(s._splitBarSize+1)+"px",s.splitBarButton[0].style.top="-1px"))),s.splitBar[0].style[o]=t+"px"}s.panel2[0].style[o]!=e+a+"px"&&(s.panel2[0].style[o]=e+a+"px")};if(i){var m=Math.max(t,l-a);u[r](0),f[r](m)}else if(n){var m=Math.max(e,l-a);f[r](0),u[r](m)}else if(-1!=p.toString().indexOf("%")){var _=100-parseFloat(p);u.css(r,parseFloat(p)+"%"),_-=d,f.css(r,_+"%");var v=f[r]();if(t>v){var m=v-t,y=m*c;p=parseFloat(p)+parseFloat(y);var _=100-parseFloat(p);u.css(r,parseFloat(p)+"%"),_-=d,f.css(r,_+"%")}var x=u[r]();if(e>x){var y=e*c;u.css(r,parseFloat(y)+"%")}}else{var v=l-p-a;u[0].style[r]!=p+"px"&&u[r](p),f[0].style[r]!=v+"px"&&f[r](v),t>v&&(p+=v-t,f[r](t),u[r](p)),e>p&&u[r](e)}g(),this._raiseEvent(4,{panels:this.panels})},destroy:function(){this._removeHandlers(),e.jqx.utilities.resize(this.host,null,!0),this.host.remove()},_raiseEvent:function(t,i){var n=new e.Event(this._events[t]);n.owner=this,n.args=i;var s=("vertical"==this.orientation?"width":"height",new Array);return s[0]={},s[1]={},s[0].size="vertical"==this.orientation?this.panel1[0].offsetWidth:this.panel1[0].offsetHeight,s[1].size="vertical"==this.orientation?this.panel2[0].offsetWidth:this.panel2[0].offsetHeight,s[0].min=this.panels[0].min,s[1].min=this.panels[1].min,s[0].collapsible=this.panels[0].collapsible,s[1].collapsible=this.panels[1].collapsible,s[0].collapsed=this.panels[0].collapsed,s[1].collapsed=this.panels[1].collapsed,n.args.panels=s,this.host.trigger(n)}})}(jqxBaseFramework),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e,t){"use strict";if(!e.jstree){var i,n,s=0,r=!1,o=!1,a=!1,l=[],h=e("script:last").attr("src"),c=window.document,d=c.createElement("LI");d.setAttribute("role","treeitem"),i=c.createElement("I"),i.className="jstree-icon jstree-ocl",i.setAttribute("role","presentation"),d.appendChild(i),i=c.createElement("A"),i.className="jstree-anchor",i.setAttribute("href","#"),i.setAttribute("tabindex","-1"),n=c.createElement("I"),n.className="jstree-icon jstree-themeicon",n.setAttribute("role","presentation"),i.appendChild(n),d.appendChild(i),i=n=null,e.jstree={version:"3.1.1",defaults:{plugins:[]},plugins:{},path:h&&-1!==h.indexOf("/")?h.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g},e.jstree.create=function(t,i){var n=new e.jstree.core(++s),r=i;return i=e.extend(!0,{},e.jstree.defaults,i),r&&r.plugins&&(i.plugins=r.plugins),e.each(i.plugins,function(e,t){"core"!==e&&(n=n.plugin(t,i[t]))}),e(t).data("jstree",n),n.init(t,i),n},e.jstree.destroy=function(){e(".jstree:jstree").jstree("destroy"),e(c).off(".jstree")},e.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},e.jstree.reference=function(t){var i=null,n=null;if(!t||!t.id||t.tagName&&t.nodeType||(t=t.id),!n||!n.length)try{n=e(t)}catch(s){}if(!n||!n.length)try{n=e("#"+t.replace(e.jstree.idregex,"\\$&"))}catch(s){}return n&&n.length&&(n=n.closest(".jstree")).length&&(n=n.data("jstree"))?i=n:e(".jstree").each(function(){var n=e(this).data("jstree");return n&&n._model.data[t]?(i=n,!1):void 0}),i},e.fn.jstree=function(i){var n="string"==typeof i,s=Array.prototype.slice.call(arguments,1),r=null;return i!==!0||this.length?(this.each(function(){var o=e.jstree.reference(this),a=n&&o?o[i]:null;return r=n&&a?a.apply(o,s):null,o||n||i!==t&&!e.isPlainObject(i)||e.jstree.create(this,i),(o&&!n||i===!0)&&(r=o||!1),null!==r&&r!==t?!1:void 0}),null!==r&&r!==t?r:this):!1},e.expr[":"].jstree=e.expr.createPseudo(function(i){return function(i){return e(i).hasClass("jstree")&&e(i).data("jstree")!==t}}),e.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:e.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0},e.jstree.core.prototype={plugin:function(t,i){var n=e.jstree.plugins[t];return n?(this._data[t]={},n.prototype=this,new n(i,this)):this},init:function(t,i){this._model={data:{"#":{id:"#",parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}}},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this.element=e(t).addClass("jstree jstree-"+this._id),this.settings=i,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='tree-item'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().height()||24,this.trigger("loading"),this.load_node("#")},destroy:function(e){if(this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(t){}e||this.element.empty(),this.teardown()},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){var t="",i=null,n=0;this.element.on("dblclick.jstree",function(){if(c.selection&&c.selection.empty)c.selection.empty();else if(window.getSelection){var e=window.getSelection();try{e.removeAllRanges(),e.collapse()}catch(t){}}}).on("mousedown.jstree",e.proxy(function(e){e.target===this.element[0]&&(e.preventDefault(),n=+new Date)},this)).on("mousedown.jstree",".jstree-ocl",function(e){e.preventDefault()}).on("click.jstree",".jstree-ocl",e.proxy(function(e){this.toggle_node(e.target)},this)).on("dblclick.jstree",".jstree-anchor",e.proxy(function(e){this.settings.core.dblclick_toggle&&this.toggle_node(e.target)},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){t.preventDefault(),t.currentTarget!==c.activeElement&&e(t.currentTarget).focus(),this.activate_node(t.currentTarget,t)},this)).on("keydown.jstree",".jstree-anchor",e.proxy(function(t){if("INPUT"===t.target.tagName)return!0;if(32!==t.which&&13!==t.which&&(t.shiftKey||t.ctrlKey||t.altKey||t.metaKey))return!0;var i=null;switch(this._data.core.rtl&&(37===t.which?t.which=39:39===t.which&&(t.which=37)),t.which){case 32:t.ctrlKey&&(t.type="click",e(t.currentTarget).trigger(t));break;case 13:t.type="click",e(t.currentTarget).trigger(t);break;case 37:t.preventDefault(),this.is_open(t.currentTarget)?this.close_node(t.currentTarget):(i=this.get_parent(t.currentTarget),i&&"#"!==i.id&&this.get_node(i,!0).children(".jstree-anchor").focus());break;case 38:t.preventDefault(),i=this.get_prev_dom(t.currentTarget),i&&i.length&&i.children(".jstree-anchor").focus();break;case 39:t.preventDefault(),this.is_closed(t.currentTarget)?this.open_node(t.currentTarget,function(e){this.get_node(e,!0).children(".jstree-anchor").focus()}):this.is_open(t.currentTarget)&&(i=this.get_node(t.currentTarget,!0).children(".jstree-children")[0],i&&e(this._firstChild(i)).children(".jstree-anchor").focus());break;case 40:t.preventDefault(),i=this.get_next_dom(t.currentTarget),i&&i.length&&i.children(".jstree-anchor").focus();break;case 106:this.open_all();break;case 36:t.preventDefault(),i=this._firstChild(this.get_container_ul()[0]),i&&e(i).children(".jstree-anchor").filter(":visible").focus();break;case 35:t.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus()}},this)).on("load_node.jstree",e.proxy(function(t,i){i.status&&("#"!==i.node.id||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(e.proxy(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var t,i,n=[];for(t=0,i=this._data.core.selected.length;i>t;t++)n=n.concat(this._model.data[this._data.core.selected[t]].parents);for(n=e.vakata.array_unique(n),t=0,i=n.length;i>t;t++)this.open_node(n[t],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}},this),0))},this)).on("keypress.jstree",e.proxy(function(n){if("INPUT"===n.target.tagName)return!0;i&&clearTimeout(i),i=setTimeout(function(){t=""},500);var s=String.fromCharCode(n.which).toLowerCase(),r=this.element.find(".jstree-anchor").filter(":visible"),o=r.index(c.activeElement)||0,a=!1;if(t+=s,t.length>1){if(r.slice(o).each(e.proxy(function(i,n){return 0===e(n).text().toLowerCase().indexOf(t)?(e(n).focus(),a=!0,!1):void 0},this)),a)return;if(r.slice(0,o).each(e.proxy(function(i,n){return 0===e(n).text().toLowerCase().indexOf(t)?(e(n).focus(),a=!0,!1):void 0},this)),a)return}if(new RegExp("^"+s+"+$").test(t)){if(r.slice(o+1).each(e.proxy(function(t,i){return e(i).text().toLowerCase().charAt(0)===s?(e(i).focus(),a=!0,!1):void 0},this)),a)return;if(r.slice(0,o+1).each(e.proxy(function(t,i){return e(i).text().toLowerCase().charAt(0)===s?(e(i).focus(),a=!0,!1):void 0},this)),a)return}},this)).on("init.jstree",e.proxy(function(){var e=this.settings.core.themes;this._data.core.themes.dots=e.dots,this._data.core.themes.stripes=e.stripes,this._data.core.themes.icons=e.icons,this.set_theme(e.name||"default",e.url),this.set_theme_variant(e.variant)},this)).on("loading.jstree",e.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"]()},this)).on("blur.jstree",".jstree-anchor",e.proxy(function(t){this._data.core.focused=null,e(t.currentTarget).filter(".jstree-hovered").mouseleave(),this.element.attr("tabindex","0")},this)).on("focus.jstree",".jstree-anchor",e.proxy(function(t){var i=this.get_node(t.currentTarget);i&&i.id&&(this._data.core.focused=i.id),this.element.find(".jstree-hovered").not(t.currentTarget).mouseleave(),e(t.currentTarget).mouseenter(),this.element.attr("tabindex","-1")},this)).on("focus.jstree",e.proxy(function(){if(+new Date-n>500&&!this._data.core.focused){n=0;var e=this.get_node(this.element.attr("aria-activedescendant"),!0);e&&e.find("> .jstree-anchor").focus()}},this)).on("mouseenter.jstree",".jstree-anchor",e.proxy(function(e){this.hover_node(e.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),e(c).off(".jstree-"+this._id)},trigger:function(e,t){t||(t={}),t.instance=this,this.element.triggerHandler(e.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(t){var i=this.settings.core.strings;return e.isFunction(i)?i.call(this,t):i&&i[t]?i[t]:t},_firstChild:function(e){for(e=e?e.firstChild:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;null!==e&&1!==e.nodeType;)e=e.previousSibling;return e},get_node:function(t,i){t&&t.id&&(t=t.id);var n;try{if(this._model.data[t])t=this._model.data[t];else if("string"==typeof t&&this._model.data[t.replace(/^#/,"")])t=this._model.data[t.replace(/^#/,"")];else if("string"==typeof t&&(n=e("#"+t.replace(e.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[n.closest(".jstree-node").attr("id")])t=this._model.data[n.closest(".jstree-node").attr("id")];else if((n=e(t,this.element)).length&&this._model.data[n.closest(".jstree-node").attr("id")])t=this._model.data[n.closest(".jstree-node").attr("id")];else{if(!(n=e(t,this.element)).length||!n.hasClass("jstree"))return!1;t=this._model.data["#"]}return i&&(t="#"===t.id?this.element:e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)),t}catch(s){return!1}},get_path:function(e,t,i){if(e=e.parents?e:this.get_node(e),!e||"#"===e.id||!e.parents)return!1;var n,s,r=[];for(r.push(i?e.id:e.text),n=0,s=e.parents.length;s>n;n++)r.push(i?e.parents[n]:this.get_text(e.parents[n]));return r=r.reverse().slice(1),t?r.join(t):r},get_next_dom:function(t,i){var n;if(t=this.get_node(t,!0),t[0]===this.element[0]){for(n=this._firstChild(this.get_container_ul()[0]);n&&0===n.offsetHeight;)n=this._nextSibling(n);return n?e(n):!1}if(!t||!t.length)return!1;if(i){n=t[0];do n=this._nextSibling(n);while(n&&0===n.offsetHeight);return n?e(n):!1}if(t.hasClass("jstree-open")){for(n=this._firstChild(t.children(".jstree-children")[0]);n&&0===n.offsetHeight;)n=this._nextSibling(n);if(null!==n)return e(n)}n=t[0];do n=this._nextSibling(n);while(n&&0===n.offsetHeight);return null!==n?e(n):t.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(t,i){var n;if(t=this.get_node(t,!0),t[0]===this.element[0]){for(n=this.get_container_ul()[0].lastChild;n&&0===n.offsetHeight;)n=this._previousSibling(n);return n?e(n):!1}if(!t||!t.length)return!1;if(i){n=t[0];do n=this._previousSibling(n);while(n&&0===n.offsetHeight);return n?e(n):!1}n=t[0];do n=this._previousSibling(n);while(n&&0===n.offsetHeight);if(null!==n){for(t=e(n);t.hasClass("jstree-open");)t=t.children(".jstree-children").first().children(".jstree-node:visible:last");return t}return n=t[0].parentNode.parentNode,n&&n.className&&-1!==n.className.indexOf("jstree-node")?e(n):!1},get_parent:function(e){return e=this.get_node(e),e&&"#"!==e.id?e.parent:!1},get_children_dom:function(e){return e=this.get_node(e,!0),e[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):e&&e.length?e.children(".jstree-children").children(".jstree-node"):!1},is_parent:function(e){return e=this.get_node(e),e&&(e.state.loaded===!1||e.children.length>0)},is_loaded:function(e){return e=this.get_node(e),e&&e.state.loaded},is_loading:function(e){return e=this.get_node(e),e&&e.state&&e.state.loading},is_open:function(e){return e=this.get_node(e),e&&e.state.opened},is_closed:function(e){return e=this.get_node(e),e&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(t,i){var n,s,r,o,a;if(e.isArray(t))return this._load_nodes(t.slice(),i),!0;if(t=this.get_node(t),!t)return i&&i.call(this,t,!1),!1;if(t.state.loaded){for(t.state.loaded=!1,n=0,s=t.children_d.length;s>n;n++){for(r=0,o=t.parents.length;o>r;r++)this._model.data[t.parents[r]].children_d=e.vakata.array_remove_item(this._model.data[t.parents[r]].children_d,t.children_d[n]);this._model.data[t.children_d[n]].state.selected&&(a=!0,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,t.children_d[n])),delete this._model.data[t.children_d[n]]}t.children=[],t.children_d=[],a&&this.trigger("changed",{action:"load_node",node:t,selected:this._data.core.selected})}return t.state.failed=!1,t.state.loading=!0,this.get_node(t,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(t,e.proxy(function(e){t=this._model.data[t.id],t.state.loading=!1,t.state.loaded=e,t.state.failed=!t.state.loaded;var n=this.get_node(t,!0);t.state.loaded&&!t.children.length&&n&&n.length&&!n.hasClass("jstree-leaf")&&n.removeClass("jstree-closed jstree-open").addClass("jstree-leaf"),n.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:t,status:e}),i&&i.call(this,t,e)},this)),!0},_load_nodes:function(e,t,i){var n,s,r=!0,o=function(){this._load_nodes(e,t,!0)},a=this._model.data,l=[];for(n=0,s=e.length;s>n;n++)!a[e[n]]||(a[e[n]].state.loaded||a[e[n]].state.failed)&&i||(this.is_loading(e[n])||this.load_node(e[n],o),r=!1);if(r){for(n=0,s=e.length;s>n;n++)a[e[n]]&&a[e[n]].state.loaded&&l.push(e[n]);t&&!t.done&&(t.call(this,l),t.done=!0)}},load_all:function(e,t){if(e||(e="#"),e=this.get_node(e),!e)return!1;var i,n,s=[],r=this._model.data,o=r[e.id].children_d;for(e.state&&!e.state.loaded&&s.push(e.id),i=0,n=o.length;n>i;i++)r[o[i]]&&r[o[i]].state&&!r[o[i]].state.loaded&&s.push(o[i]);s.length?this._load_nodes(s,function(){this.load_all(e,t)}):(t&&t.call(this,e),this.trigger("load_all",{node:e}))},_load_node:function(t,i){var n,s=this.settings.core.data;return s?e.isFunction(s)?s.call(this,t,e.proxy(function(n){n===!1&&i.call(this,!1),this["string"==typeof n?"_append_html_data":"_append_json_data"](t,"string"==typeof n?e(e.parseHTML(n)).filter(function(){return 3!==this.nodeType}):n,function(e){i.call(this,e)})},this)):"object"==typeof s?s.url?(s=e.extend(!0,{},s),e.isFunction(s.url)&&(s.url=s.url.call(this,t)),e.isFunction(s.data)&&(s.data=s.data.call(this,t)),e.ajax(s).done(e.proxy(function(n,s,r){var o=r.getResponseHeader("Content-Type");return o&&-1!==o.indexOf("json")||"object"==typeof n?this._append_json_data(t,n,function(e){i.call(this,e)}):o&&-1!==o.indexOf("html")||"string"==typeof n?this._append_html_data(t,e(e.parseHTML(n)).filter(function(){return 3!==this.nodeType}),function(e){i.call(this,e)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:r})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1))},this)).fail(e.proxy(function(e){i.call(this,!1),this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:e})},this.settings.core.error.call(this,this._data.core.last_error)},this))):(n=e.isArray(s)||e.isPlainObject(s)?JSON.parse(JSON.stringify(s)):s,"#"===t.id?this._append_json_data(t,n,function(e){i.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1))):"string"==typeof s?"#"===t.id?this._append_html_data(t,e(e.parseHTML(s)).filter(function(){return 3!==this.nodeType}),function(e){i.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1)):i.call(this,!1):"#"===t.id?this._append_html_data(t,this._data.core.original_container_html.clone(!0),function(e){i.call(this,e)}):i.call(this,!1)},_node_changed:function(e){e=this.get_node(e),e&&this._model.changed.push(e.id)},_append_html_data:function(t,i,n){t=this.get_node(t),t.children=[],t.children_d=[];var s,r,o,a=i.is("ul")?i.children():i,l=t.id,h=[],c=[],d=this._model.data,u=d[l],f=this._data.core.selected.length;for(a.each(e.proxy(function(t,i){s=this._parse_model_from_html(e(i),l,u.parents.concat()),s&&(h.push(s),c.push(s),d[s].children_d.length&&(c=c.concat(d[s].children_d)))},this)),u.children=h,u.children_d=c,r=0,o=u.parents.length;o>r;r++)d[u.parents[r]].children_d=d[u.parents[r]].children_d.concat(c);this.trigger("model",{nodes:c,parent:l}),"#"!==l?(this._node_changed(l),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==f&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),n.call(this,!0)},_append_json_data:function(t,i,n,s){if(null!==this.element){t=this.get_node(t),t.children=[],t.children_d=[],i.d&&(i=i.d,"string"==typeof i&&(i=JSON.parse(i))),e.isArray(i)||(i=[i]);var r=null,o={df:this._model.default_state,dat:i,par:t.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},a=function(e,t){e.data&&(e=e.data);var i,n,s,r,o=e.dat,a=e.par,l=[],h=[],c=[],d=e.df,u=e.t_id,f=e.t_cnt,p=e.m,g=p[a],m=e.sel,_=function(e,i,n){n=n?n.concat():[],i&&n.unshift(i);var s,r,o,a,l=e.id.toString(),h={id:l,text:e.text||"",icon:e.icon!==t?e.icon:!0,parent:i,parents:n,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(s in d)d.hasOwnProperty(s)&&(h.state[s]=d[s]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(h.icon=e.data.jstree.icon),(h.icon===t||null===h.icon||""===h.icon)&&(h.icon=!0),e&&e.data&&(h.data=e.data,e.data.jstree))for(s in e.data.jstree)e.data.jstree.hasOwnProperty(s)&&(h.state[s]=e.data.jstree[s]);if(e&&"object"==typeof e.state)for(s in e.state)e.state.hasOwnProperty(s)&&(h.state[s]=e.state[s]);if(e&&"object"==typeof e.li_attr)for(s in e.li_attr)e.li_attr.hasOwnProperty(s)&&(h.li_attr[s]=e.li_attr[s]);if(h.li_attr.id||(h.li_attr.id=l),e&&"object"==typeof e.a_attr)for(s in e.a_attr)e.a_attr.hasOwnProperty(s)&&(h.a_attr[s]=e.a_attr[s]);for(e&&e.children&&e.children===!0&&(h.state.loaded=!1,h.children=[],h.children_d=[]),p[h.id]=h,s=0,r=h.children.length;r>s;s++)o=_(p[h.children[s]],h.id,n),a=p[o],h.children_d.push(o),a.children_d.length&&(h.children_d=h.children_d.concat(a.children_d));

return delete e.data,delete e.children,p[h.id].original=e,h.state.selected&&c.push(h.id),h.id},v=function(e,i,n){n=n?n.concat():[],i&&n.unshift(i);var s,r,o,a,l,h=!1;do h="j"+u+"_"+ ++f;while(p[h]);l={id:!1,text:"string"==typeof e?e:"",icon:"object"==typeof e&&e.icon!==t?e.icon:!0,parent:i,parents:n,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(s in d)d.hasOwnProperty(s)&&(l.state[s]=d[s]);if(e&&e.id&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),(l.icon===t||null===l.icon||""===l.icon)&&(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(s in e.data.jstree)e.data.jstree.hasOwnProperty(s)&&(l.state[s]=e.data.jstree[s]);if(e&&"object"==typeof e.state)for(s in e.state)e.state.hasOwnProperty(s)&&(l.state[s]=e.state[s]);if(e&&"object"==typeof e.li_attr)for(s in e.li_attr)e.li_attr.hasOwnProperty(s)&&(l.li_attr[s]=e.li_attr[s]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=h),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(s in e.a_attr)e.a_attr.hasOwnProperty(s)&&(l.a_attr[s]=e.a_attr[s]);if(e&&e.children&&e.children.length){for(s=0,r=e.children.length;r>s;s++)o=v(e.children[s],l.id,n),a=p[o],l.children.push(o),a.children_d.length&&(l.children_d=l.children_d.concat(a.children_d));l.children_d=l.children_d.concat(l.children)}return e&&e.children&&e.children===!0&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,p[l.id]=l,l.state.selected&&c.push(l.id),l.id};if(o.length&&o[0].id!==t&&o[0].parent!==t){for(n=0,s=o.length;s>n;n++)o[n].children||(o[n].children=[]),p[o[n].id.toString()]=o[n];for(n=0,s=o.length;s>n;n++)p[o[n].parent.toString()].children.push(o[n].id.toString()),g.children_d.push(o[n].id.toString());for(n=0,s=g.children.length;s>n;n++)i=_(p[g.children[n]],a,g.parents.concat()),h.push(i),p[i].children_d.length&&(h=h.concat(p[i].children_d));for(n=0,s=g.parents.length;s>n;n++)p[g.parents[n]].children_d=p[g.parents[n]].children_d.concat(h);r={cnt:f,mod:p,sel:m,par:a,dpc:h,add:c}}else{for(n=0,s=o.length;s>n;n++)i=v(o[n],a,g.parents.concat()),i&&(l.push(i),h.push(i),p[i].children_d.length&&(h=h.concat(p[i].children_d)));for(g.children=l,g.children_d=h,n=0,s=g.parents.length;s>n;n++)p[g.parents[n]].children_d=p[g.parents[n]].children_d.concat(h);r={cnt:f,mod:p,sel:m,par:a,dpc:h,add:c}}return"undefined"!=typeof window&&"undefined"!=typeof window.document?r:void postMessage(r)},l=function(t,i){if(null!==this.element){if(this._cnt=t.cnt,this._model.data=t.mod,i){var s,r,o=t.add,a=t.sel,l=this._data.core.selected.slice(),h=this._model.data;if(a.length!==l.length||e.vakata.array_unique(a.concat(l)).length!==a.length){for(s=0,r=a.length;r>s;s++)-1===e.inArray(a[s],o)&&-1===e.inArray(a[s],l)&&(h[a[s]].state.selected=!1);for(s=0,r=l.length;r>s;s++)-1===e.inArray(l[s],a)&&(h[l[s]].state.selected=!0)}}t.add.length&&(this._data.core.selected=this._data.core.selected.concat(t.add)),this.trigger("model",{nodes:t.dpc,parent:t.par}),"#"!==t.par?(this._node_changed(t.par),this.redraw()):this.redraw(!0),t.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),n.call(this,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+a.toString()],{type:"text/javascript"}))),!this._data.core.working||s?(this._data.core.working=!0,r=new window.Worker(this._wrk),r.onmessage=e.proxy(function(e){l.call(this,e.data,!0);try{r.terminate(),r=null}catch(t){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1},this),o.par?r.postMessage(o):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([t,i,n,!0])}catch(h){l.call(this,a(o),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else l.call(this,a(o),!1)}},_parse_model_from_html:function(i,n,s){s=s?[].concat(s):[],n&&s.unshift(n);var r,o,a,l,h,c=this._model.data,d={id:!1,text:!1,icon:!0,parent:n,parents:s,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(a in this._model.default_state)this._model.default_state.hasOwnProperty(a)&&(d.state[a]=this._model.default_state[a]);if(l=e.vakata.attributes(i,!0),e.each(l,function(t,i){return i=e.trim(i),i.length?(d.li_attr[t]=i,void("id"===t&&(d.id=i.toString()))):!0}),l=i.children("a").first(),l.length&&(l=e.vakata.attributes(l,!0),e.each(l,function(t,i){i=e.trim(i),i.length&&(d.a_attr[t]=i)})),l=i.children("a").first().length?i.children("a").first().clone():i.clone(),l.children("ins, i, ul").remove(),l=l.html(),l=e("<div />").html(l),d.text=this.settings.core.force_text?l.text():l.html(),l=i.data(),d.data=l?e.extend(!0,{},l):null,d.state.opened=i.hasClass("jstree-open"),d.state.selected=i.children("a").hasClass("jstree-clicked"),d.state.disabled=i.children("a").hasClass("jstree-disabled"),d.data&&d.data.jstree)for(a in d.data.jstree)d.data.jstree.hasOwnProperty(a)&&(d.state[a]=d.data.jstree[a]);l=i.children("a").children(".jstree-themeicon"),l.length&&(d.icon=l.hasClass("jstree-themeicon-hidden")?!1:l.attr("rel")),d.state.icon!==t&&(d.icon=d.state.icon),(d.icon===t||null===d.icon||""===d.icon)&&(d.icon=!0),l=i.children("ul").children("li");do h="j"+this._id+"_"+ ++this._cnt;while(c[h]);return d.id=d.li_attr.id?d.li_attr.id.toString():h,l.length?(l.each(e.proxy(function(t,i){r=this._parse_model_from_html(e(i),d.id,s),o=this._model.data[r],d.children.push(r),o.children_d.length&&(d.children_d=d.children_d.concat(o.children_d))},this)),d.children_d=d.children_d.concat(d.children)):i.hasClass("jstree-closed")&&(d.state.loaded=!1),d.li_attr["class"]&&(d.li_attr["class"]=d.li_attr["class"].replace("jstree-closed","").replace("jstree-open","")),d.a_attr["class"]&&(d.a_attr["class"]=d.a_attr["class"].replace("jstree-clicked","").replace("jstree-disabled","")),c[d.id]=d,d.state.selected&&this._data.core.selected.push(d.id),d.id},_parse_model_from_flat_json:function(e,i,n){n=n?n.concat():[],i&&n.unshift(i);var s,r,o,a,l=e.id.toString(),h=this._model.data,c=this._model.default_state,d={id:l,text:e.text||"",icon:e.icon!==t?e.icon:!0,parent:i,parents:n,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(s in c)c.hasOwnProperty(s)&&(d.state[s]=c[s]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(d.icon=e.data.jstree.icon),(d.icon===t||null===d.icon||""===d.icon)&&(d.icon=!0),e&&e.data&&(d.data=e.data,e.data.jstree))for(s in e.data.jstree)e.data.jstree.hasOwnProperty(s)&&(d.state[s]=e.data.jstree[s]);if(e&&"object"==typeof e.state)for(s in e.state)e.state.hasOwnProperty(s)&&(d.state[s]=e.state[s]);if(e&&"object"==typeof e.li_attr)for(s in e.li_attr)e.li_attr.hasOwnProperty(s)&&(d.li_attr[s]=e.li_attr[s]);if(d.li_attr.id||(d.li_attr.id=l),e&&"object"==typeof e.a_attr)for(s in e.a_attr)e.a_attr.hasOwnProperty(s)&&(d.a_attr[s]=e.a_attr[s]);for(e&&e.children&&e.children===!0&&(d.state.loaded=!1,d.children=[],d.children_d=[]),h[d.id]=d,s=0,r=d.children.length;r>s;s++)o=this._parse_model_from_flat_json(h[d.children[s]],d.id,n),a=h[o],d.children_d.push(o),a.children_d.length&&(d.children_d=d.children_d.concat(a.children_d));return delete e.data,delete e.children,h[d.id].original=e,d.state.selected&&this._data.core.selected.push(d.id),d.id},_parse_model_from_json:function(e,i,n){n=n?n.concat():[],i&&n.unshift(i);var s,r,o,a,l,h=!1,c=this._model.data,d=this._model.default_state;do h="j"+this._id+"_"+ ++this._cnt;while(c[h]);l={id:!1,text:"string"==typeof e?e:"",icon:"object"==typeof e&&e.icon!==t?e.icon:!0,parent:i,parents:n,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(s in d)d.hasOwnProperty(s)&&(l.state[s]=d[s]);if(e&&e.id&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),(l.icon===t||null===l.icon||""===l.icon)&&(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(s in e.data.jstree)e.data.jstree.hasOwnProperty(s)&&(l.state[s]=e.data.jstree[s]);if(e&&"object"==typeof e.state)for(s in e.state)e.state.hasOwnProperty(s)&&(l.state[s]=e.state[s]);if(e&&"object"==typeof e.li_attr)for(s in e.li_attr)e.li_attr.hasOwnProperty(s)&&(l.li_attr[s]=e.li_attr[s]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=h),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(s in e.a_attr)e.a_attr.hasOwnProperty(s)&&(l.a_attr[s]=e.a_attr[s]);if(e&&e.children&&e.children.length){for(s=0,r=e.children.length;r>s;s++)o=this._parse_model_from_json(e.children[s],l.id,n),a=c[o],l.children.push(o),a.children_d.length&&(l.children_d=l.children_d.concat(a.children_d));l.children_d=l.children_d.concat(l.children)}return e&&e.children&&e.children===!0&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,c[l.id]=l,l.state.selected&&this._data.core.selected.push(l.id),l.id},_redraw:function(){var e,t,i,n=this._model.force_full_redraw?this._model.data["#"].children.concat([]):this._model.changed.concat([]),s=c.createElement("UL"),r=this._data.core.focused;for(t=0,i=n.length;i>t;t++)e=this.redraw_node(n[t],!0,this._model.force_full_redraw),e&&this._model.force_full_redraw&&s.appendChild(e);this._model.force_full_redraw&&(s.className=this.get_container_ul()[0].className,s.setAttribute("role","group"),this.element.empty().append(s)),null!==r&&(e=this.get_node(r,!0),e&&e.length&&e.children(".jstree-anchor")[0]!==c.activeElement?e.children(".jstree-anchor").focus():this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:n})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(e){var t=this.get_node(e),i=!1,n=!1,s=!1,r=c;if(!t)return!1;if("#"===t.id)return this.redraw(!0);if(e=this.get_node(e,!0),!e||!e.length)return!1;if(e.children(".jstree-children").remove(),e=e[0],t.children.length&&t.state.loaded){for(s=r.createElement("UL"),s.setAttribute("role","group"),s.className="jstree-children",i=0,n=t.children.length;n>i;i++)s.appendChild(this.redraw_node(t.children[i],!0,!0));e.appendChild(s)}},redraw_node:function(t,i,n,s){var r=this.get_node(t),o=!1,a=!1,l=!1,h=!1,u=!1,f=!1,p="",g=c,m=this._model.data,_=!1,v=null,y=0,x=0;if(!r)return!1;if("#"===r.id)return this.redraw(!0);if(i=i||0===r.children.length,t=c.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(r.id[0])?"\\3"+r.id[0]+" "+r.id.substr(1).replace(e.jstree.idregex,"\\$&"):r.id.replace(e.jstree.idregex,"\\$&"))):c.getElementById(r.id))t=e(t),n||(o=t.parent().parent()[0],o===this.element[0]&&(o=null),a=t.index()),i||!r.children.length||t.children(".jstree-children").length||(i=!0),i||(l=t.children(".jstree-children")[0]),_=t.children(".jstree-anchor")[0]===c.activeElement,t.remove();else if(i=!0,!n){if(o="#"!==r.parent?e("#"+r.parent.replace(e.jstree.idregex,"\\$&"),this.element)[0]:null,!(null===o||o&&m[r.parent].state.opened))return!1;a=e.inArray(r.id,null===o?m["#"].children:m[r.parent].children)}t=d.cloneNode(!0),p="jstree-node ";for(h in r.li_attr)if(r.li_attr.hasOwnProperty(h)){if("id"===h)continue;"class"!==h?t.setAttribute(h,r.li_attr[h]):p+=r.li_attr[h]}r.a_attr.id||(r.a_attr.id=r.id+"_anchor"),t.setAttribute("aria-selected",!!r.state.selected),t.setAttribute("aria-level",r.parents.length),t.setAttribute("aria-labelledby",r.a_attr.id),r.state.disabled&&t.setAttribute("aria-disabled",!0),r.state.loaded&&!r.children.length?p+=" jstree-leaf":(p+=r.state.opened&&r.state.loaded?" jstree-open":" jstree-closed",t.setAttribute("aria-expanded",r.state.opened&&r.state.loaded)),null!==r.parent&&m[r.parent].children[m[r.parent].children.length-1]===r.id&&(p+=" jstree-last"),t.id=r.id,t.className=p,p=(r.state.selected?" jstree-clicked":"")+(r.state.disabled?" jstree-disabled":"");for(u in r.a_attr)if(r.a_attr.hasOwnProperty(u)){if("href"===u&&"#"===r.a_attr[u])continue;"class"!==u?t.childNodes[1].setAttribute(u,r.a_attr[u]):p+=" "+r.a_attr[u]}if(p.length&&(t.childNodes[1].className="jstree-anchor "+p),(r.icon&&r.icon!==!0||r.icon===!1)&&(r.icon===!1?t.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===r.icon.indexOf("/")&&-1===r.icon.indexOf(".")?t.childNodes[1].childNodes[0].className+=" "+r.icon+" jstree-themeicon-custom":(t.childNodes[1].childNodes[0].style.backgroundImage="url("+r.icon+")",t.childNodes[1].childNodes[0].style.backgroundPosition="center center",t.childNodes[1].childNodes[0].style.backgroundSize="auto",t.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?t.childNodes[1].appendChild(g.createTextNode(r.text)):t.childNodes[1].innerHTML+=r.text,i&&r.children.length&&(r.state.opened||s)&&r.state.loaded){for(f=g.createElement("UL"),f.setAttribute("role","group"),f.className="jstree-children",h=0,u=r.children.length;u>h;h++)f.appendChild(this.redraw_node(r.children[h],i,!0));t.appendChild(f)}if(l&&t.appendChild(l),!n){for(o||(o=this.element[0]),h=0,u=o.childNodes.length;u>h;h++)if(o.childNodes[h]&&o.childNodes[h].className&&-1!==o.childNodes[h].className.indexOf("jstree-children")){v=o.childNodes[h];break}v||(v=g.createElement("UL"),v.setAttribute("role","group"),v.className="jstree-children",o.appendChild(v)),o=v,a<o.childNodes.length?o.insertBefore(t,o.childNodes[a]):o.appendChild(t),_&&(y=this.element[0].scrollTop,x=this.element[0].scrollLeft,t.childNodes[1].focus(),this.element[0].scrollTop=y,this.element[0].scrollLeft=x)}return r.state.opened&&!r.state.loaded&&(r.state.opened=!1,setTimeout(e.proxy(function(){this.open_node(r.id,!1,0)},this),0)),t},open_node:function(i,n,s){var r,o,a,l;if(e.isArray(i)){for(i=i.slice(),r=0,o=i.length;o>r;r++)this.open_node(i[r],n,s);return!0}if(i=this.get_node(i),!i||"#"===i.id)return!1;if(s=s===t?this.settings.core.animation:s,!this.is_closed(i))return n&&n.call(this,i,!1),!1;if(this.is_loaded(i))a=this.get_node(i,!0),l=this,a.length&&(s&&a.children(".jstree-children").length&&a.children(".jstree-children").stop(!0,!0),i.children.length&&!this._firstChild(a.children(".jstree-children")[0])&&this.draw_children(i),s?(this.trigger("before_open",{node:i}),a.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(s,function(){this.style.display="",l.trigger("after_open",{node:i})})):(this.trigger("before_open",{node:i}),a[0].className=a[0].className.replace("jstree-closed","jstree-open"),a[0].setAttribute("aria-expanded",!0))),i.state.opened=!0,n&&n.call(this,i,!0),a.length||this.trigger("before_open",{node:i}),this.trigger("open_node",{node:i}),s&&a.length||this.trigger("after_open",{node:i});else{if(this.is_loading(i))return setTimeout(e.proxy(function(){this.open_node(i,n,s)},this),500);this.load_node(i,function(e,t){return t?this.open_node(e,n,s):n?n.call(this,e,!1):!1})}},_open_to:function(t){if(t=this.get_node(t),!t||"#"===t.id)return!1;var i,n,s=t.parents;for(i=0,n=s.length;n>i;i+=1)"#"!==i&&this.open_node(s[i],!1,0);return e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)},close_node:function(i,n){var s,r,o,a;if(e.isArray(i)){for(i=i.slice(),s=0,r=i.length;r>s;s++)this.close_node(i[s],n);return!0}return i=this.get_node(i),i&&"#"!==i.id?this.is_closed(i)?!1:(n=n===t?this.settings.core.animation:n,o=this,a=this.get_node(i,!0),a.length&&(n?a.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(n,function(){this.style.display="",a.children(".jstree-children").remove(),o.trigger("after_close",{node:i})}):(a[0].className=a[0].className.replace("jstree-open","jstree-closed"),a.attr("aria-expanded",!1).children(".jstree-children").remove())),i.state.opened=!1,this.trigger("close_node",{node:i}),void(n&&a.length||this.trigger("after_close",{node:i}))):!1},toggle_node:function(t){var i,n;if(e.isArray(t)){for(t=t.slice(),i=0,n=t.length;n>i;i++)this.toggle_node(t[i]);return!0}return this.is_closed(t)?this.open_node(t):this.is_open(t)?this.close_node(t):void 0},open_all:function(e,t,i){if(e||(e="#"),e=this.get_node(e),!e)return!1;var n,s,r,o="#"===e.id?this.get_container_ul():this.get_node(e,!0);if(!o.length){for(n=0,s=e.children_d.length;s>n;n++)this.is_closed(this._model.data[e.children_d[n]])&&(this._model.data[e.children_d[n]].state.opened=!0);return this.trigger("open_all",{node:e})}i=i||o,r=this,o=this.is_closed(e)?o.find(".jstree-closed").addBack():o.find(".jstree-closed"),o.each(function(){r.open_node(this,function(e,n){n&&this.is_parent(e)&&this.open_all(e,t,i)},t||0)}),0===i.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(i)})},close_all:function(t,i){if(t||(t="#"),t=this.get_node(t),!t)return!1;var n,s,r="#"===t.id?this.get_container_ul():this.get_node(t,!0),o=this;if(!r.length){for(n=0,s=t.children_d.length;s>n;n++)this._model.data[t.children_d[n]].state.opened=!1;return this.trigger("close_all",{node:t})}r=this.is_open(t)?r.find(".jstree-open").addBack():r.find(".jstree-open"),e(r.get().reverse()).each(function(){o.close_node(this,i||0)}),this.trigger("close_all",{node:t})},is_disabled:function(e){return e=this.get_node(e),e&&e.state&&e.state.disabled},enable_node:function(t){var i,n;if(e.isArray(t)){for(t=t.slice(),i=0,n=t.length;n>i;i++)this.enable_node(t[i]);return!0}return t=this.get_node(t),t&&"#"!==t.id?(t.state.disabled=!1,this.get_node(t,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),void this.trigger("enable_node",{node:t})):!1},disable_node:function(t){var i,n;if(e.isArray(t)){for(t=t.slice(),i=0,n=t.length;n>i;i++)this.disable_node(t[i]);return!0}return t=this.get_node(t),t&&"#"!==t.id?(t.state.disabled=!0,this.get_node(t,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),void this.trigger("disable_node",{node:t})):!1},activate_node:function(e,i){if(this.is_disabled(e))return!1;if(this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==t?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(i.metaKey||i.ctrlKey||i.shiftKey)&&(!i.shiftKey||this._data.core.last_clicked&&this.get_parent(e)&&this.get_parent(e)===this._data.core.last_clicked.parent))if(i.shiftKey){var n,s,r=this.get_node(e).id,o=this._data.core.last_clicked.id,a=this.get_node(this._data.core.last_clicked.parent).children,l=!1;for(n=0,s=a.length;s>n;n+=1)a[n]===r&&(l=!l),a[n]===o&&(l=!l),this.is_disabled(a[n])||!l&&a[n]!==r&&a[n]!==o?this.deselect_node(a[n],!0,i):this.select_node(a[n],!0,!1,i);this.trigger("changed",{action:"select_node",node:this.get_node(e),selected:this._data.core.selected,event:i})}else this.is_selected(e)?this.deselect_node(e,!1,i):this.select_node(e,!1,!1,i);else!this.settings.core.multiple&&(i.metaKey||i.ctrlKey||i.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,i):(this.deselect_all(!0),this.select_node(e,!1,!1,i),this._data.core.last_clicked=this.get_node(e));this.trigger("activate_node",{node:this.get_node(e)})},hover_node:function(e){if(e=this.get_node(e,!0),!e||!e.length||e.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),i=this.element;t&&t.length&&this.dehover_node(t),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout(function(){i.attr("aria-activedescendant",e[0].id)},0)},dehover_node:function(e){return e=this.get_node(e,!0),e&&e.length&&e.children(".jstree-hovered").length?(e.children(".jstree-anchor").removeClass("jstree-hovered"),void this.trigger("dehover_node",{node:this.get_node(e)})):!1},select_node:function(t,i,n,s){var r,o,a;if(e.isArray(t)){for(t=t.slice(),o=0,a=t.length;a>o;o++)this.select_node(t[o],i,n,s);return!0}return t=this.get_node(t),t&&"#"!==t.id?(r=this.get_node(t,!0),void(t.state.selected||(t.state.selected=!0,this._data.core.selected.push(t.id),n||(r=this._open_to(t)),r&&r.length&&r.attr("aria-selected",!0).children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:t,selected:this._data.core.selected,event:s}),i||this.trigger("changed",{action:"select_node",node:t,selected:this._data.core.selected,event:s})))):!1},deselect_node:function(t,i,n){var s,r,o;if(e.isArray(t)){for(t=t.slice(),s=0,r=t.length;r>s;s++)this.deselect_node(t[s],i,n);return!0}return t=this.get_node(t),t&&"#"!==t.id?(o=this.get_node(t,!0),void(t.state.selected&&(t.state.selected=!1,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,t.id),o.length&&o.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:t,selected:this._data.core.selected,event:n}),i||this.trigger("changed",{action:"deselect_node",node:t,selected:this._data.core.selected,event:n})))):!1},select_all:function(e){var t,i,n=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data["#"].children_d.concat(),t=0,i=this._data.core.selected.length;i>t;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),e||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:n})},deselect_all:function(e){var t,i,n=this._data.core.selected.concat([]);for(t=0,i=this._data.core.selected.length;i>t;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").parent().attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:n}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:n})},is_selected:function(e){return e=this.get_node(e),e&&"#"!==e.id?e.state.selected:!1},get_selected:function(t){return t?e.map(this._data.core.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.core.selected.slice()},get_top_selected:function(t){var i,n,s,r,o=this.get_selected(!0),a={};for(i=0,n=o.length;n>i;i++)a[o[i].id]=o[i];for(i=0,n=o.length;n>i;i++)for(s=0,r=o[i].children_d.length;r>s;s++)a[o[i].children_d[s]]&&delete a[o[i].children_d[s]];o=[];for(i in a)a.hasOwnProperty(i)&&o.push(i);return t?e.map(o,e.proxy(function(e){return this.get_node(e)},this)):o},get_bottom_selected:function(t){var i,n,s=this.get_selected(!0),r=[];for(i=0,n=s.length;n>i;i++)s[i].children.length||r.push(s[i].id);return t?e.map(r,e.proxy(function(e){return this.get_node(e)},this)):r},get_state:function(){var e,t={core:{open:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}};for(e in this._model.data)this._model.data.hasOwnProperty(e)&&"#"!==e&&(this._model.data[e].state.opened&&t.core.open.push(e),this._model.data[e].state.selected&&t.core.selected.push(e));return t},set_state:function(i,n){if(i){if(i.core){var s,r;if(i.core.open)return e.isArray(i.core.open)&&i.core.open.length?this._load_nodes(i.core.open,function(e){this.open_node(e,!1,0),delete i.core.open,this.set_state(i,n)},!0):(delete i.core.open,this.set_state(i,n)),!1;if(i.core.scroll)return i.core.scroll&&i.core.scroll.left!==t&&this.element.scrollLeft(i.core.scroll.left),i.core.scroll&&i.core.scroll.top!==t&&this.element.scrollTop(i.core.scroll.top),delete i.core.scroll,this.set_state(i,n),!1;if(i.core.selected)return s=this,this.deselect_all(),e.each(i.core.selected,function(e,t){s.select_node(t,!1,!0)}),delete i.core.selected,this.set_state(i,n),!1;for(r in i)i.hasOwnProperty(r)&&"core"!==r&&-1===e.inArray(r,this.settings.plugins)&&delete i[r];if(e.isEmptyObject(i.core))return delete i.core,this.set_state(i,n),!1}return e.isEmptyObject(i)?(i=null,n&&n.call(this),this.trigger("set_state"),!1):!0}return!1},refresh:function(t,i){this._data.core.state=i===!0?{}:this.get_state(),i&&e.isFunction(i)&&(this._data.core.state=i.call(this,this._data.core.state)),this._cnt=0,this._model.data={"#":{id:"#",parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}}};var n=this.get_container_ul()[0].className;t||(this.element.html("<ul class='"+n+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='treeitem' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node("#",function(t,i){i&&(this.get_container_ul()[0].className=n,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(e.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(t){if(t=this.get_node(t),!t||"#"===t.id)return!1;{var i=[],n=[];this._data.core.selected.concat([])}n.push(t.id),t.state.opened===!0&&i.push(t.id),this.get_node(t,!0).find(".jstree-open").each(function(){i.push(this.id)}),this._load_nodes(n,e.proxy(function(e){this.open_node(i,!1,0),this.select_node(this._data.core.selected),this.trigger("refresh_node",{node:t,nodes:e})},this))},set_id:function(t,i){if(t=this.get_node(t),!t||"#"===t.id)return!1;var n,s,r=this._model.data;for(i=i.toString(),r[t.parent].children[e.inArray(t.id,r[t.parent].children)]=i,n=0,s=t.parents.length;s>n;n++)r[t.parents[n]].children_d[e.inArray(t.id,r[t.parents[n]].children_d)]=i;for(n=0,s=t.children.length;s>n;n++)r[t.children[n]].parent=i;for(n=0,s=t.children_d.length;s>n;n++)r[t.children_d[n]].parents[e.inArray(t.id,r[t.children_d[n]].parents)]=i;return n=e.inArray(t.id,this._data.core.selected),-1!==n&&(this._data.core.selected[n]=i),n=this.get_node(t.id,!0),n&&(n.attr("id",i).children(".jstree-anchor").attr("id",i+"_anchor").end().attr("aria-labelledby",i+"_anchor"),this.element.attr("aria-activedescendant")===t.id&&this.element.attr("aria-activedescendant",i)),delete r[t.id],t.id=i,t.li_attr.id=i,r[i]=t,!0},get_text:function(e){return e=this.get_node(e),e&&"#"!==e.id?e.text:!1},set_text:function(t,i){var n,s;if(e.isArray(t)){for(t=t.slice(),n=0,s=t.length;s>n;n++)this.set_text(t[n],i);return!0}return t=this.get_node(t),t&&"#"!==t.id?(t.text=i,this.get_node(t,!0).length&&this.redraw_node(t.id),this.trigger("set_text",{obj:t,text:i}),!0):!1},get_json:function(t,i,n){if(t=this.get_node(t||"#"),!t)return!1;i&&i.flat&&!n&&(n=[]);var s,r,o={id:t.id,text:t.text,icon:this.get_icon(t),li_attr:e.extend(!0,{},t.li_attr),a_attr:e.extend(!0,{},t.a_attr),state:{},data:i&&i.no_data?!1:e.extend(!0,{},t.data)};if(i&&i.flat?o.parent=t.parent:o.children=[],!i||!i.no_state)for(s in t.state)t.state.hasOwnProperty(s)&&(o.state[s]=t.state[s]);if(i&&i.no_id&&(delete o.id,o.li_attr&&o.li_attr.id&&delete o.li_attr.id,o.a_attr&&o.a_attr.id&&delete o.a_attr.id),i&&i.flat&&"#"!==t.id&&n.push(o),!i||!i.no_children)for(s=0,r=t.children.length;r>s;s++)i&&i.flat?this.get_json(t.children[s],i,n):o.children.push(this.get_json(t.children[s],i));return i&&i.flat?n:"#"===t.id?o.children:o},create_node:function(i,n,s,r,o){if(null===i&&(i="#"),i=this.get_node(i),!i)return!1;if(s=s===t?"last":s,!s.toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(i))return this.load_node(i,function(){this.create_node(i,n,s,r,!0)});n||(n={text:this.get_string("New node")}),"string"==typeof n&&(n={text:n}),n.text===t&&(n.text=this.get_string("New node"));var a,l,h,c;switch("#"===i.id&&("before"===s&&(s="first"),"after"===s&&(s="last")),s){case"before":a=this.get_node(i.parent),s=e.inArray(i.id,a.children),i=a;break;case"after":a=this.get_node(i.parent),s=e.inArray(i.id,a.children)+1,i=a;break;case"inside":case"first":s=0;break;case"last":s=i.children.length;break;default:s||(s=0)}if(s>i.children.length&&(s=i.children.length),n.id||(n.id=!0),!this.check("create_node",n,i,s))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(n.id===!0&&delete n.id,n=this._parse_model_from_json(n,i.id,i.parents.concat()),!n)return!1;for(a=this.get_node(n),l=[],l.push(n),l=l.concat(a.children_d),this.trigger("model",{nodes:l,parent:i.id}),i.children_d=i.children_d.concat(l),h=0,c=i.parents.length;c>h;h++)this._model.data[i.parents[h]].children_d=this._model.data[i.parents[h]].children_d.concat(l);for(n=a,a=[],h=0,c=i.children.length;c>h;h++)a[h>=s?h+1:h]=i.children[h];return a[s]=n.id,i.children=a,this.redraw_node(i,!0),r&&r.call(this,this.get_node(n)),this.trigger("create_node",{node:this.get_node(n),parent:i.id,position:s}),n.id},rename_node:function(t,i){var n,s,r;if(e.isArray(t)){for(t=t.slice(),n=0,s=t.length;s>n;n++)this.rename_node(t[n],i);return!0}return t=this.get_node(t),t&&"#"!==t.id?(r=t.text,this.check("rename_node",t,this.get_parent(t),i)?(this.set_text(t,i),this.trigger("rename_node",{node:t,text:i,old:r}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1)):!1},delete_node:function(t){var i,n,s,r,o,a,l,h,c,d;if(e.isArray(t)){for(t=t.slice(),i=0,n=t.length;n>i;i++)this.delete_node(t[i]);return!0}if(t=this.get_node(t),!t||"#"===t.id)return!1;if(s=this.get_node(t.parent),r=e.inArray(t.id,s.children),d=!1,!this.check("delete_node",t,s,r))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==r&&(s.children=e.vakata.array_remove(s.children,r)),o=t.children_d.concat([]),o.push(t.id),h=0,c=o.length;c>h;h++){for(a=0,l=t.parents.length;l>a;a++)r=e.inArray(o[h],this._model.data[t.parents[a]].children_d),-1!==r&&(this._model.data[t.parents[a]].children_d=e.vakata.array_remove(this._model.data[t.parents[a]].children_d,r));this._model.data[o[h]].state.selected&&(d=!0,r=e.inArray(o[h],this._data.core.selected),-1!==r&&(this._data.core.selected=e.vakata.array_remove(this._data.core.selected,r)))}for(this.trigger("delete_node",{node:t,parent:s.id}),d&&this.trigger("changed",{action:"delete_node",node:t,selected:this._data.core.selected,parent:s.id}),h=0,c=o.length;c>h;h++)delete this._model.data[o[h]];return this.redraw_node(s,!0),!0},check:function(t,i,n,s,r){i=i&&i.id?i:this.get_node(i),n=n&&n.id?n:this.get_node(n);var o=t.match(/^move_node|copy_node|create_node$/i)?n:i,a=this.settings.core.check_callback;return"move_node"!==t&&"copy_node"!==t||r&&r.is_multi||i.id!==n.id&&e.inArray(i.id,n.children)!==s&&-1===e.inArray(n.id,i.children_d)?(o&&o.data&&(o=o.data),o&&o.functions&&(o.functions[t]===!1||o.functions[t]===!0)?(o.functions[t]===!1&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+t,data:JSON.stringify({chk:t,pos:s,obj:i&&i.id?i.id:!1,par:n&&n.id?n.id:!1})}),o.functions[t]):a===!1||e.isFunction(a)&&a.call(this,t,i,n,s,r)===!1||a&&a[t]===!1?(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+t,data:JSON.stringify({chk:t,pos:s,obj:i&&i.id?i.id:!1,par:n&&n.id?n.id:!1})},!1):!0):(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({
chk:t,pos:s,obj:i&&i.id?i.id:!1,par:n&&n.id?n.id:!1})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(i,n,s,r,o,a,l){var h,c,d,u,f,p,g,m,_,v,y,x,b,w;if(n=this.get_node(n),s=s===t?0:s,!n)return!1;if(!s.toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(n))return this.load_node(n,function(){this.move_node(i,n,s,r,!0,!1,l)});if(e.isArray(i)){if(1!==i.length){for(h=0,c=i.length;c>h;h++)(_=this.move_node(i[h],n,s,r,o,!1,l))&&(n=_,s="after");return this.redraw(),!0}i=i[0]}if(i=i&&i.id?i:this.get_node(i),!i||"#"===i.id)return!1;if(d=(i.parent||"#").toString(),f=s.toString().match(/^(before|after)$/)&&"#"!==n.id?this.get_node(n.parent):n,p=l?l:this._model.data[i.id]?this:e.jstree.reference(i.id),g=!p||!p._id||this._id!==p._id,u=p&&p._id&&d&&p._model.data[d]&&p._model.data[d].children?e.inArray(i.id,p._model.data[d].children):-1,p&&p._id&&(i=p._model.data[i.id]),g)return(_=this.copy_node(i,n,s,r,o,!1,l))?(p&&p.delete_node(i),_):!1;switch("#"===n.id&&("before"===s&&(s="first"),"after"===s&&(s="last")),s){case"before":s=e.inArray(n.id,f.children);break;case"after":s=e.inArray(n.id,f.children)+1;break;case"inside":case"first":s=0;break;case"last":s=f.children.length;break;default:s||(s=0)}if(s>f.children.length&&(s=f.children.length),!this.check("move_node",i,f,s,{core:!0,origin:l,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(i.parent===f.id){for(m=f.children.concat(),_=e.inArray(i.id,m),-1!==_&&(m=e.vakata.array_remove(m,_),s>_&&s--),_=[],v=0,y=m.length;y>v;v++)_[v>=s?v+1:v]=m[v];_[s]=i.id,f.children=_,this._node_changed(f.id),this.redraw("#"===f.id)}else{for(_=i.children_d.concat(),_.push(i.id),v=0,y=i.parents.length;y>v;v++){for(m=[],w=p._model.data[i.parents[v]].children_d,x=0,b=w.length;b>x;x++)-1===e.inArray(w[x],_)&&m.push(w[x]);p._model.data[i.parents[v]].children_d=m}for(p._model.data[d].children=e.vakata.array_remove_item(p._model.data[d].children,i.id),v=0,y=f.parents.length;y>v;v++)this._model.data[f.parents[v]].children_d=this._model.data[f.parents[v]].children_d.concat(_);for(m=[],v=0,y=f.children.length;y>v;v++)m[v>=s?v+1:v]=f.children[v];for(m[s]=i.id,f.children=m,f.children_d.push(i.id),f.children_d=f.children_d.concat(i.children_d),i.parent=f.id,_=f.parents.concat(),_.unshift(f.id),w=i.parents.length,i.parents=_,_=_.concat(),v=0,y=i.children_d.length;y>v;v++)this._model.data[i.children_d[v]].parents=this._model.data[i.children_d[v]].parents.slice(0,-1*w),Array.prototype.push.apply(this._model.data[i.children_d[v]].parents,_);("#"===d||"#"===f.id)&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(d),this._node_changed(f.id)),a||this.redraw()}return r&&r.call(this,i,f,s),this.trigger("move_node",{node:i,parent:f.id,position:s,old_parent:d,old_position:u,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id,old_instance:p,new_instance:this}),i.id},copy_node:function(i,n,s,r,o,a,l){var h,c,d,u,f,p,g,m,_,v,y;if(n=this.get_node(n),s=s===t?0:s,!n)return!1;if(!s.toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(n))return this.load_node(n,function(){this.copy_node(i,n,s,r,!0,!1,l)});if(e.isArray(i)){if(1!==i.length){for(h=0,c=i.length;c>h;h++)(u=this.copy_node(i[h],n,s,r,o,!0,l))&&(n=u,s="after");return this.redraw(),!0}i=i[0]}if(i=i&&i.id?i:this.get_node(i),!i||"#"===i.id)return!1;switch(m=(i.parent||"#").toString(),_=s.toString().match(/^(before|after)$/)&&"#"!==n.id?this.get_node(n.parent):n,v=l?l:this._model.data[i.id]?this:e.jstree.reference(i.id),y=!v||!v._id||this._id!==v._id,v&&v._id&&(i=v._model.data[i.id]),"#"===n.id&&("before"===s&&(s="first"),"after"===s&&(s="last")),s){case"before":s=e.inArray(n.id,_.children);break;case"after":s=e.inArray(n.id,_.children)+1;break;case"inside":case"first":s=0;break;case"last":s=_.children.length;break;default:s||(s=0)}if(s>_.children.length&&(s=_.children.length),!this.check("copy_node",i,_,s,{core:!0,origin:l,is_multi:v&&v._id&&v._id!==this._id,is_foreign:!v||!v._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(g=v?v.get_json(i,{no_id:!0,no_data:!0,no_state:!0}):i,!g)return!1;if(g.id===!0&&delete g.id,g=this._parse_model_from_json(g,_.id,_.parents.concat()),!g)return!1;for(u=this.get_node(g),i&&i.state&&i.state.loaded===!1&&(u.state.loaded=!1),d=[],d.push(g),d=d.concat(u.children_d),this.trigger("model",{nodes:d,parent:_.id}),f=0,p=_.parents.length;p>f;f++)this._model.data[_.parents[f]].children_d=this._model.data[_.parents[f]].children_d.concat(d);for(d=[],f=0,p=_.children.length;p>f;f++)d[f>=s?f+1:f]=_.children[f];return d[s]=u.id,_.children=d,_.children_d.push(u.id),_.children_d=_.children_d.concat(u.children_d),"#"===_.id&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(_.id),a||this.redraw("#"===_.id),r&&r.call(this,u,_,s),this.trigger("copy_node",{node:u,original:i,parent:_.id,position:s,old_parent:m,old_position:v&&v._id&&m&&v._model.data[m]&&v._model.data[m].children?e.inArray(i.id,v._model.data[m].children):-1,is_multi:v&&v._id&&v._id!==this._id,is_foreign:!v||!v._id,old_instance:v,new_instance:this}),u.id},cut:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var i,n,s,l=[];for(n=0,s=t.length;s>n;n++)i=this.get_node(t[n]),i&&i.id&&"#"!==i.id&&l.push(i);return l.length?(r=l,a=this,o="move_node",void this.trigger("cut",{node:t})):!1},copy:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var i,n,s,l=[];for(n=0,s=t.length;s>n;n++)i=this.get_node(t[n]),i&&i.id&&"#"!==i.id&&l.push(i);return l.length?(r=l,a=this,o="copy_node",void this.trigger("copy",{node:t})):!1},get_buffer:function(){return{mode:o,node:r,inst:a}},can_paste:function(){return o!==!1&&r!==!1},paste:function(e,t){return e=this.get_node(e),e&&o&&o.match(/^(copy_node|move_node)$/)&&r?(this[o](r,e,t,!1,!1,!1,a)&&this.trigger("paste",{parent:e.id,node:r,mode:o}),r=!1,o=!1,void(a=!1)):!1},clear_buffer:function(){r=!1,o=!1,a=!1,this.trigger("clear_buffer")},edit:function(t,i,n){var s,r,o,a,l,h,c,d,u;return(t=this.get_node(t))?this.settings.core.check_callback===!1?(this._data.core.last_error={error:"check",plugin:"core",id:"core_07",reason:"Could not edit node because of check_callback"},this.settings.core.error.call(this,this._data.core.last_error),!1):(u=t,i="string"==typeof i?i:t.text,this.set_text(t,""),t=this._open_to(t),u.text=i,s=this._data.core.rtl,r=this.element.width(),o=t.children(".jstree-anchor"),a=e("<span>"),l=i,h=e("<div />",{css:{position:"absolute",top:"-200px",left:s?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),c=e("<input />",{value:l,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:e.proxy(function(){var i,s=a.children(".jstree-rename-input"),r=s.val(),c=this.settings.core.force_text;""===r&&(r=l),h.remove(),a.replaceWith(o),a.remove(),l=c?l:e("<div></div>").append(e.parseHTML(l)).html(),this.set_text(t,l),i=!!this.rename_node(t,c?e("<div></div>").text(r).text():e("<div></div>").append(e.parseHTML(r)).html()),i||this.set_text(t,l),n&&n.call(this,u,i)},this),keydown:function(e){var t=e.which;27===t&&(this.value=l),(27===t||13===t||37===t||38===t||39===t||40===t||32===t)&&e.stopImmediatePropagation(),(27===t||13===t)&&(e.preventDefault(),this.blur())},click:function(e){e.stopImmediatePropagation()},mousedown:function(e){e.stopImmediatePropagation()},keyup:function(e){c.width(Math.min(h.text("pW"+this.value).width(),r))},keypress:function(e){return 13===e.which?!1:void 0}}),d={fontFamily:o.css("fontFamily")||"",fontSize:o.css("fontSize")||"",fontWeight:o.css("fontWeight")||"",fontStyle:o.css("fontStyle")||"",fontStretch:o.css("fontStretch")||"",fontVariant:o.css("fontVariant")||"",letterSpacing:o.css("letterSpacing")||"",wordSpacing:o.css("wordSpacing")||""},a.attr("class",o.attr("class")).append(o.contents().clone()).append(c),o.replaceWith(a),h.css(d),void c.css(d).width(Math.min(h.text("pW"+c[0].value).width(),r))[0].select()):!1},set_theme:function(t,i){if(!t)return!1;if(i===!0){var n=this.settings.core.themes.dir;n||(n=e.jstree.path+"/themes"),i=n+"/"+t+"/style.css"}i&&-1===e.inArray(i,l)&&(e("head").append('<link rel="stylesheet" href="'+i+'" type="text/css" />'),l.push(i)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=t,this.element.addClass("jstree-"+t),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+t+"-responsive"),this.trigger("set_theme",{theme:t})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=e,e&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},set_icon:function(i,n){var s,r,o,a;if(e.isArray(i)){for(i=i.slice(),s=0,r=i.length;r>s;s++)this.set_icon(i[s],n);return!0}return i=this.get_node(i),i&&"#"!==i.id?(a=i.icon,i.icon=n===!0||null===n||n===t||""===n?!0:n,o=this.get_node(i,!0).children(".jstree-anchor").children(".jstree-themeicon"),n===!1?this.hide_icon(i):n===!0||null===n||n===t||""===n?(o.removeClass("jstree-themeicon-custom "+a).css("background","").removeAttr("rel"),a===!1&&this.show_icon(i)):-1===n.indexOf("/")&&-1===n.indexOf(".")?(o.removeClass(a).css("background",""),o.addClass(n+" jstree-themeicon-custom").attr("rel",n),a===!1&&this.show_icon(i)):(o.removeClass(a).css("background",""),o.addClass("jstree-themeicon-custom").css("background","url('"+n+"') center center no-repeat").attr("rel",n),a===!1&&this.show_icon(i)),!0):!1},get_icon:function(e){return e=this.get_node(e),e&&"#"!==e.id?e.icon:!1},hide_icon:function(t){var i,n;if(e.isArray(t)){for(t=t.slice(),i=0,n=t.length;n>i;i++)this.hide_icon(t[i]);return!0}return t=this.get_node(t),t&&"#"!==t?(t.icon=!1,this.get_node(t,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0):!1},show_icon:function(t){var i,n,s;if(e.isArray(t)){for(t=t.slice(),i=0,n=t.length;n>i;i++)this.show_icon(t[i]);return!0}return t=this.get_node(t),t&&"#"!==t?(s=this.get_node(t,!0),t.icon=s.length?s.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"):!0,t.icon||(t.icon=!0),s.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0):!1}},e.vakata={},e.vakata.attributes=function(t,i){t=e(t)[0];var n=i?{}:[];return t&&t.attributes&&e.each(t.attributes,function(t,s){-1===e.inArray(s.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==s.value&&""!==e.trim(s.value)&&(i?n[s.name]=s.value:n.push(s.name))}),n},e.vakata.array_unique=function(e){var i,n,s=[],r={};for(i=0,n=e.length;n>i;i++)r[e[i]]===t&&(s.push(e[i]),r[e[i]]=!0);return s},e.vakata.array_remove=function(e,t,i){var n=e.slice((i||t)+1||e.length);return e.length=0>t?e.length+t:t,e.push.apply(e,n),e},e.vakata.array_remove_item=function(t,i){var n=e.inArray(i,t);return-1!==n?e.vakata.array_remove(t,n):t};var u=c.createElement("I");u.className="jstree-icon jstree-checkbox",u.setAttribute("role","presentation"),e.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0},e.jstree.plugins.checkbox=function(i,n){this.bind=function(){n.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",e.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",e.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",e.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)},this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",e.proxy(function(e,t){var i,n,s=this._model.data,r=(s[t.parent],t.nodes);for(i=0,n=r.length;n>i;i++)s[r[i]].state.checked=s[r[i]].original&&s[r[i]].original.state&&s[r[i]].original.state.checked,s[r[i]].state.checked&&this._data.checkbox.selected.push(r[i])},this)),(-1!==this.settings.checkbox.cascade.indexOf("up")||-1!==this.settings.checkbox.cascade.indexOf("down"))&&this.element.on("model.jstree",e.proxy(function(t,i){var n,s,r,o,a,l,h=this._model.data,c=h[i.parent],d=i.nodes,u=[],f=this.settings.checkbox.cascade,p=this.settings.checkbox.tie_selection;if(-1!==f.indexOf("down"))if(c.state[p?"selected":"checked"]){for(s=0,r=d.length;r>s;s++)h[d[s]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(d)}else for(s=0,r=d.length;r>s;s++)if(h[d[s]].state[p?"selected":"checked"]){for(o=0,a=h[d[s]].children_d.length;a>o;o++)h[h[d[s]].children_d[o]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(h[d[s]].children_d)}if(-1!==f.indexOf("up")){for(s=0,r=c.children_d.length;r>s;s++)h[c.children_d[s]].children.length||u.push(h[c.children_d[s]].parent);for(u=e.vakata.array_unique(u),o=0,a=u.length;a>o;o++)for(c=h[u[o]];c&&"#"!==c.id;){for(n=0,s=0,r=c.children.length;r>s;s++)n+=h[c.children[s]].state[p?"selected":"checked"];if(n!==r)break;c.state[p?"selected":"checked"]=!0,this._data[p?"core":"checkbox"].selected.push(c.id),l=this.get_node(c,!0),l&&l.length&&l.attr("aria-selected",!0).children(".jstree-anchor").addClass(p?"jstree-clicked":"jstree-checked"),c=this.get_node(c.parent)}}this._data[p?"core":"checkbox"].selected=e.vakata.array_unique(this._data[p?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",e.proxy(function(t,i){var n,s,r,o,a=i.node,l=this._model.data,h=this.get_node(a.parent),c=this.get_node(a,!0),d=this.settings.checkbox.cascade,u=this.settings.checkbox.tie_selection;if(-1!==d.indexOf("down"))for(this._data[u?"core":"checkbox"].selected=e.vakata.array_unique(this._data[u?"core":"checkbox"].selected.concat(a.children_d)),n=0,s=a.children_d.length;s>n;n++)o=l[a.children_d[n]],o.state[u?"selected":"checked"]=!0,o&&o.original&&o.original.state&&o.original.state.undetermined&&(o.original.state.undetermined=!1);if(-1!==d.indexOf("up"))for(;h&&"#"!==h.id;){for(r=0,n=0,s=h.children.length;s>n;n++)r+=l[h.children[n]].state[u?"selected":"checked"];if(r!==s)break;h.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(h.id),o=this.get_node(h,!0),o&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"),h=this.get_node(h.parent)}-1!==d.indexOf("down")&&c.length&&c.find(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked").parent().attr("aria-selected",!0)},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",e.proxy(function(e,t){var i,n,s,r=this.get_node("#"),o=this._model.data;for(i=0,n=r.children_d.length;n>i;i++)s=o[r.children_d[i]],s&&s.original&&s.original.state&&s.original.state.undetermined&&(s.original.state.undetermined=!1)},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",e.proxy(function(t,i){var n,s,r,o=i.node,a=this.get_node(o,!0),l=this.settings.checkbox.cascade,h=this.settings.checkbox.tie_selection;if(o&&o.original&&o.original.state&&o.original.state.undetermined&&(o.original.state.undetermined=!1),-1!==l.indexOf("down"))for(n=0,s=o.children_d.length;s>n;n++)r=this._model.data[o.children_d[n]],r.state[h?"selected":"checked"]=!1,r&&r.original&&r.original.state&&r.original.state.undetermined&&(r.original.state.undetermined=!1);if(-1!==l.indexOf("up"))for(n=0,s=o.parents.length;s>n;n++)r=this._model.data[o.parents[n]],r.state[h?"selected":"checked"]=!1,r&&r.original&&r.original.state&&r.original.state.undetermined&&(r.original.state.undetermined=!1),r=this.get_node(o.parents[n],!0),r&&r.length&&r.attr("aria-selected",!1).children(".jstree-anchor").removeClass(h?"jstree-clicked":"jstree-checked");for(r=[],n=0,s=this._data[h?"core":"checkbox"].selected.length;s>n;n++)-1!==l.indexOf("down")&&-1!==e.inArray(this._data[h?"core":"checkbox"].selected[n],o.children_d)||-1!==l.indexOf("up")&&-1!==e.inArray(this._data[h?"core":"checkbox"].selected[n],o.parents)||r.push(this._data[h?"core":"checkbox"].selected[n]);this._data[h?"core":"checkbox"].selected=e.vakata.array_unique(r),-1!==l.indexOf("down")&&a.length&&a.find(".jstree-anchor").removeClass(h?"jstree-clicked":"jstree-checked").parent().attr("aria-selected",!1)},this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",e.proxy(function(e,t){for(var i,n,s,r,o=this.get_node(t.parent),a=this._model.data,l=this.settings.checkbox.tie_selection;o&&"#"!==o.id;){for(s=0,i=0,n=o.children.length;n>i;i++)s+=a[o.children[i]].state[l?"selected":"checked"];if(s!==n)break;o.state[l?"selected":"checked"]=!0,this._data[l?"core":"checkbox"].selected.push(o.id),r=this.get_node(o,!0),r&&r.length&&r.attr("aria-selected",!0).children(".jstree-anchor").addClass(l?"jstree-clicked":"jstree-checked"),o=this.get_node(o.parent)}},this)).on("move_node.jstree",e.proxy(function(t,i){var n,s,r,o,a,l=i.is_multi,h=i.old_parent,c=this.get_node(i.parent),d=this._model.data,u=this.settings.checkbox.tie_selection;if(!l)for(n=this.get_node(h);n&&"#"!==n.id;){for(s=0,r=0,o=n.children.length;o>r;r++)s+=d[n.children[r]].state[u?"selected":"checked"];if(s!==o)break;n.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(n.id),a=this.get_node(n,!0),a&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"),n=this.get_node(n.parent)}for(n=c;n&&"#"!==n.id;){for(s=0,r=0,o=n.children.length;o>r;r++)s+=d[n.children[r]].state[u?"selected":"checked"];if(s===o)n.state[u?"selected":"checked"]||(n.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(n.id),a=this.get_node(n,!0),a&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"));else{if(!n.state[u?"selected":"checked"])break;n.state[u?"selected":"checked"]=!1,this._data[u?"core":"checkbox"].selected=e.vakata.array_remove_item(this._data[u?"core":"checkbox"].selected,n.id),a=this.get_node(n,!0),a&&a.length&&a.attr("aria-selected",!1).children(".jstree-anchor").removeClass(u?"jstree-clicked":"jstree-checked")}n=this.get_node(n.parent)}},this))},this._undetermined=function(){if(null!==this.element){var e,i,n,s,r={},o=this._model.data,a=this.settings.checkbox.tie_selection,l=this._data[a?"core":"checkbox"].selected,h=[],c=this;for(e=0,i=l.length;i>e;e++)if(o[l[e]]&&o[l[e]].parents)for(n=0,s=o[l[e]].parents.length;s>n;n++)r[o[l[e]].parents[n]]===t&&"#"!==o[l[e]].parents[n]&&(r[o[l[e]].parents[n]]=!0,h.push(o[l[e]].parents[n]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var a,l=c.get_node(this);if(l.state.loaded){for(e=0,i=l.children_d.length;i>e;e++)if(a=o[l.children_d[e]],!a.state.loaded&&a.original&&a.original.state&&a.original.state.undetermined&&a.original.state.undetermined===!0)for(r[a.id]===t&&"#"!==a.id&&(r[a.id]=!0,h.push(a.id)),n=0,s=a.parents.length;s>n;n++)r[a.parents[n]]===t&&"#"!==a.parents[n]&&(r[a.parents[n]]=!0,h.push(a.parents[n]))}else if(l.original&&l.original.state&&l.original.state.undetermined&&l.original.state.undetermined===!0)for(r[l.id]===t&&"#"!==l.id&&(r[l.id]=!0,h.push(l.id)),n=0,s=l.parents.length;s>n;n++)r[l.parents[n]]===t&&"#"!==l.parents[n]&&(r[l.parents[n]]=!0,h.push(l.parents[n]))}),this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),e=0,i=h.length;i>e;e++)o[h[e]].state[a?"selected":"checked"]||(l=this.get_node(h[e],!0),l&&l.length&&l.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined"))}},this.redraw_node=function(t,i,s,r){if(t=n.redraw_node.apply(this,arguments)){var o,a,l=null;for(o=0,a=t.childNodes.length;a>o;o++)if(t.childNodes[o]&&t.childNodes[o].className&&-1!==t.childNodes[o].className.indexOf("jstree-anchor")){l=t.childNodes[o];break}l&&(!this.settings.checkbox.tie_selection&&this._model.data[t.id].state.checked&&(l.className+=" jstree-checked"),l.insertBefore(u.cloneNode(!1),l.childNodes[0]))}return s||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)),t},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(t){t=this.get_node(t);var i,n,s=this.settings.checkbox.cascade,r=this.settings.checkbox.tie_selection,o=this._data[r?"core":"checkbox"].selected,a=this._model.data;if(!t||t.state[r?"selected":"checked"]===!0||-1===s.indexOf("undetermined")||-1===s.indexOf("down")&&-1===s.indexOf("up"))return!1;if(!t.state.loaded&&t.original.state.undetermined===!0)return!0;for(i=0,n=t.children_d.length;n>i;i++)if(-1!==e.inArray(t.children_d[i],o)||!a[t.children_d[i]].state.loaded&&a[t.children_d[i]].original.state.undetermined)return!0;return!1},this.activate_node=function(t,i){return this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||e(i.target).hasClass("jstree-checkbox"))&&(i.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!e(i.target).hasClass("jstree-checkbox")?n.activate_node.call(this,t,i):this.is_disabled(t)?!1:(this.is_checked(t)?this.uncheck_node(t,i):this.check_node(t,i),void this.trigger("activate_node",{node:this.get_node(t)}))},this.check_node=function(t,i){if(this.settings.checkbox.tie_selection)return this.select_node(t,!1,!0,i);var n,s,r;if(e.isArray(t)){for(t=t.slice(),s=0,r=t.length;r>s;s++)this.check_node(t[s],i);return!0}return t=this.get_node(t),t&&"#"!==t.id?(n=this.get_node(t,!0),void(t.state.checked||(t.state.checked=!0,this._data.checkbox.selected.push(t.id),n&&n.length&&n.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:t,selected:this._data.checkbox.selected,event:i})))):!1},this.uncheck_node=function(t,i){if(this.settings.checkbox.tie_selection)return this.deselect_node(t,!1,i);var n,s,r;if(e.isArray(t)){for(t=t.slice(),n=0,s=t.length;s>n;n++)this.uncheck_node(t[n],i);return!0}return t=this.get_node(t),t&&"#"!==t.id?(r=this.get_node(t,!0),void(t.state.checked&&(t.state.checked=!1,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,t.id),r.length&&r.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:t,selected:this._data.checkbox.selected,event:i})))):!1},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();{var e,t;this._data.checkbox.selected.concat([])}for(this._data.checkbox.selected=this._model.data["#"].children_d.concat(),e=0,t=this._data.checkbox.selected.length;t>e;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var e,t,i=this._data.checkbox.selected.concat([]);for(e=0,t=this._data.checkbox.selected.length;t>e;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:i})},this.is_checked=function(e){return this.settings.checkbox.tie_selection?this.is_selected(e):(e=this.get_node(e),e&&"#"!==e.id?e.state.checked:!1)},this.get_checked=function(t){return this.settings.checkbox.tie_selection?this.get_selected(t):t?e.map(this._data.checkbox.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.checkbox.selected},this.get_top_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_top_selected(t);var i,n,s,r,o=this.get_checked(!0),a={};for(i=0,n=o.length;n>i;i++)a[o[i].id]=o[i];for(i=0,n=o.length;n>i;i++)for(s=0,r=o[i].children_d.length;r>s;s++)a[o[i].children_d[s]]&&delete a[o[i].children_d[s]];o=[];for(i in a)a.hasOwnProperty(i)&&o.push(i);return t?e.map(o,e.proxy(function(e){return this.get_node(e)},this)):o},this.get_bottom_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(t);var i,n,s=this.get_checked(!0),r=[];for(i=0,n=s.length;n>i;i++)s[i].children.length||r.push(s[i].id);return t?e.map(r,e.proxy(function(e){return this.get_node(e)},this)):r},this.load_node=function(t,i){var s,r,o,a;if(!e.isArray(t)&&!this.settings.checkbox.tie_selection&&(a=this.get_node(t),a&&a.state.loaded))for(s=0,r=a.children_d.length;r>s;s++)this._model.data[a.children_d[s]].state.checked&&(o=!0,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,a.children_d[s]));return n.load_node.apply(this,arguments)},this.get_state=function(){var e=n.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection?e:(e.checkbox=this._data.checkbox.selected.slice(),e)},this.set_state=function(t,i){var s=n.set_state.apply(this,arguments);if(s&&t.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var r=this;e.each(t.checkbox,function(e,t){r.check_node(t)})}return delete t.checkbox,this.set_state(t,i),!1}return s}},e.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(t,i){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(t){var i=e.jstree.reference(t.reference),n=i.get_node(t.reference);i.create_node(n,{},"last",function(e){setTimeout(function(){i.edit(e)},0)})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(t){var i=e.jstree.reference(t.reference),n=i.get_node(t.reference);i.edit(n)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(t){var i=e.jstree.reference(t.reference),n=i.get_node(t.reference);i.delete_node(i.is_selected(n)?i.get_selected():n)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(t){var i=e.jstree.reference(t.reference),n=i.get_node(t.reference);i.cut(i.is_selected(n)?i.get_top_selected():n)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(t){var i=e.jstree.reference(t.reference),n=i.get_node(t.reference);i.copy(i.is_selected(n)?i.get_top_selected():n)}},paste:{separator_before:!1,icon:!1,_disabled:function(t){return!e.jstree.reference(t.reference).can_paste()},separator_after:!1,label:"Paste",action:function(t){var i=e.jstree.reference(t.reference),n=i.get_node(t.reference);i.paste(n)}}}}}}},e.jstree.plugins.contextmenu=function(i,n){this.bind=function(){n.bind.call(this);var t,i,s=0,r=null;this.element.on("contextmenu.jstree",".jstree-anchor",e.proxy(function(e,t){e.preventDefault(),s=e.ctrlKey?+new Date:0,(t||r)&&(s=+new Date+1e4),r&&clearTimeout(r),this.is_loading(e.currentTarget)||this.show_contextmenu(e.currentTarget,e.pageX,e.pageY,e)},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){this._data.contextmenu.visible&&(!s||+new Date-s>250)&&e.vakata.context.hide(),s=0},this)).on("touchstart.jstree",".jstree-anchor",function(n){n.originalEvent&&n.originalEvent.changedTouches&&n.originalEvent.changedTouches[0]&&(t=n.pageX,i=n.pageY,r=setTimeout(function(){e(n.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(e){r&&e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(Math.abs(t-e.pageX)>50||Math.abs(i-e.pageY)>50)&&clearTimeout(r)}).on("touchend.vakata.jstree",function(e){r&&clearTimeout(r)}),e(c).on("context_hide.vakata.jstree",e.proxy(function(){this._data.contextmenu.visible=!1},this))},this.teardown=function(){this._data.contextmenu.visible&&e.vakata.context.hide(),n.teardown.call(this)},this.show_contextmenu=function(i,n,s,r){if(i=this.get_node(i),!i||"#"===i.id)return!1;var o=this.settings.contextmenu,a=this.get_node(i,!0),l=a.children(".jstree-anchor"),h=!1,c=!1;(o.show_at_node||n===t||s===t)&&(h=l.offset(),n=h.left,s=h.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(i)&&this.activate_node(i,r),c=o.items,e.isFunction(c)&&(c=c.call(this,i,e.proxy(function(e){this._show_contextmenu(i,n,s,e)},this))),e.isPlainObject(c)&&this._show_contextmenu(i,n,s,c)},this._show_contextmenu=function(t,i,n,s){var r=this.get_node(t,!0),o=r.children(".jstree-anchor");e(c).one("context_show.vakata.jstree",e.proxy(function(t,i){var n="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";e(i.element).addClass(n)},this)),this._data.contextmenu.visible=!0,e.vakata.context.show(o,{x:i,y:n},s),this.trigger("show_contextmenu",{node:t,x:i,y:n})}},function(e){var t=!1,i={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};e.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(t){e(c).triggerHandler("context_"+t+".vakata",{reference:i.reference,element:i.element,position:{x:i.position_x,y:i.position_y}})},_execute:function(t){return t=i.items[t],t&&(!t._disabled||e.isFunction(t._disabled)&&!t._disabled({item:t,reference:i.reference,element:i.element}))&&t.action?t.action.call(null,{item:t,reference:i.reference,element:i.element,position:{x:i.position_x,y:i.position_y}}):!1},_parse:function(t,n){if(!t)return!1;n||(i.html="",i.items=[]);var s,r="",o=!1;return n&&(r+="<ul>"),e.each(t,function(t,n){return n?(i.items.push(n),!o&&n.separator_before&&(r+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),
o=!1,r+="<li class='"+(n._class||"")+(n._disabled===!0||e.isFunction(n._disabled)&&n._disabled({item:n,reference:i.reference,element:i.element})?" vakata-contextmenu-disabled ":"")+"' "+(n.shortcut?" data-shortcut='"+n.shortcut+"' ":"")+">",r+="<a href='#' rel='"+(i.items.length-1)+"'>",e.vakata.context.settings.icons&&(r+="<i ",n.icon&&(r+=-1!==n.icon.indexOf("/")||-1!==n.icon.indexOf(".")?" style='background:url(\""+n.icon+"\") center center no-repeat' ":" class='"+n.icon+"' "),r+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),r+=(e.isFunction(n.label)?n.label({item:t,reference:i.reference,element:i.element}):n.label)+(n.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+n.shortcut+'">'+(n.shortcut_label||"")+"</span>":"")+"</a>",n.submenu&&(s=e.vakata.context._parse(n.submenu,!0),s&&(r+=s)),r+="</li>",void(n.separator_after&&(r+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",o=!0))):!0}),r=r.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),n&&(r+="</ul>"),n||(i.html=r,e.vakata.context._trigger("parse")),r.length>10?r:!1},_show_submenu:function(i){if(i=e(i),i.length&&i.children("ul").length){var n=i.children("ul"),s=i.offset().left+i.outerWidth(),r=i.offset().top,o=n.width(),a=n.height(),l=e(window).width()+e(window).scrollLeft(),h=e(window).height()+e(window).scrollTop();t?i[s-(o+10+i.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):i[s+o+10>l?"addClass":"removeClass"]("vakata-context-right"),r+a+10>h&&n.css("bottom","-1px"),n.show()}},show:function(n,s,r){var o,a,l,h,c,d,u,f,p=!0;switch(i.element&&i.element.length&&i.element.width(""),p){case!s&&!n:return!1;case!!s&&!!n:i.reference=n,i.position_x=s.x,i.position_y=s.y;break;case!s&&!!n:i.reference=n,o=n.offset(),i.position_x=o.left+n.outerHeight(),i.position_y=o.top;break;case!!s&&!n:i.position_x=s.x,i.position_y=s.y}n&&!r&&e(n).data("vakata_contextmenu")&&(r=e(n).data("vakata_contextmenu")),e.vakata.context._parse(r)&&i.element.html(i.html),i.items.length&&(i.element.appendTo("body"),a=i.element,l=i.position_x,h=i.position_y,c=a.width(),d=a.height(),u=e(window).width()+e(window).scrollLeft(),f=e(window).height()+e(window).scrollTop(),t&&(l-=a.outerWidth()-e(n).outerWidth(),l<e(window).scrollLeft()+20&&(l=e(window).scrollLeft()+20)),l+c+20>u&&(l=u-(c+20)),h+d+20>f&&(h=f-(d+20)),i.element.css({left:l,top:h}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),i.is_visible=!0,e.vakata.context._trigger("show"))},hide:function(){i.is_visible&&(i.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),i.is_visible=!1,e.vakata.context._trigger("hide"))}},e(function(){t="rtl"===e("body").css("direction");var n=!1;i.element=e("<ul class='vakata-context'></ul>"),i.element.on("mouseenter","li",function(t){t.stopImmediatePropagation(),e.contains(this,t.relatedTarget)||(n&&clearTimeout(n),i.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),e(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),e.vakata.context._show_submenu(this))}).on("mouseleave","li",function(t){e.contains(this,t.relatedTarget)||e(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(t){e(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),e.vakata.context.settings.hide_onmouseleave&&(n=setTimeout(function(t){return function(){e.vakata.context.hide()}}(this),e.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(t){t.preventDefault(),e(this).blur().parent().hasClass("vakata-context-disabled")||e.vakata.context._execute(e(this).attr("rel"))===!1||e.vakata.context.hide()}).on("keydown","a",function(t){var n=null;switch(t.which){case 13:case 32:t.type="mouseup",t.preventDefault(),e(t.currentTarget).trigger(t);break;case 37:i.is_visible&&(i.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 38:i.is_visible&&(n=i.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first(),n.length||(n=i.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),n.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 39:i.is_visible&&(i.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 40:i.is_visible&&(n=i.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first(),n.length||(n=i.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),n.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 27:e.vakata.context.hide(),t.preventDefault()}}).on("keydown",function(e){e.preventDefault();var t=i.element.find(".vakata-contextmenu-shortcut-"+e.which).parent();t.parent().not(".vakata-context-disabled")&&t.click()}),e(c).on("mousedown.vakata.jstree",function(t){i.is_visible&&!e.contains(i.element[0],t.target)&&e.vakata.context.hide()}).on("context_show.vakata.jstree",function(e,n){i.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),t&&i.element.addClass("vakata-context-rtl").css("direction","rtl"),i.element.find("ul").hide().end()})})}(e),e.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1},e.jstree.plugins.dnd=function(t,i){this.bind=function(){i.bind.call(this),this.element.on("mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",e.proxy(function(t){if(this.settings.dnd.large_drag_target&&e(t.target).closest(".jstree-node")[0]!==t.currentTarget)return!0;if("touchstart"===t.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var i=this.get_node(t.target),n=this.is_selected(i)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,s=n>1?n+" "+this.get_string("nodes"):this.get_text(t.currentTarget);return this.settings.core.force_text&&(s=e.vakata.html.escape(s)),i&&i.id&&"#"!==i.id&&(1===t.which||"touchstart"===t.type)&&(this.settings.dnd.is_draggable===!0||e.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,n>1?this.get_top_selected(!0):[i]))?(this.element.trigger("mousedown.jstree"),e.vakata.dnd.start(t,{jstree:!0,origin:this,obj:this.get_node(i,!0),nodes:n>1?this.get_top_selected():[i.id]},'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+s+'<ins class="jstree-copy" style="display:none;">+</ins></div>')):void 0},this))}},e(function(){var t=!1,i=!1,n=!1,s=e('<div id="jstree-marker">&#160;</div>').hide();e(c).on("dnd_start.vakata.jstree",function(e,i){t=!1,i&&i.data&&i.data.jstree&&s.appendTo("body")}).on("dnd_move.vakata.jstree",function(r,o){if(n&&clearTimeout(n),o&&o.data&&o.data.jstree&&(!o.event.target.id||"jstree-marker"!==o.event.target.id)){var a,l,h,c,d,u,f,p,g,m,_,v,y,x,b=e.jstree.reference(o.event.target),w=!1,j=!1,C=!1;if(b&&b._data&&b._data.dnd)if(s.attr("class","jstree-"+b.get_theme()+(b.settings.core.themes.responsive?" jstree-dnd-responsive":"")),o.helper.children().attr("class","jstree-"+b.get_theme()+" jstree-"+b.get_theme()+"-"+b.get_theme_variant()+" "+(b.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[o.data.origin&&(o.data.origin.settings.dnd.always_copy||o.data.origin.settings.dnd.copy&&(o.event.metaKey||o.event.ctrlKey))?"show":"hide"](),o.event.target!==b.element[0]&&o.event.target!==b.get_container_ul()[0]||0!==b.get_container_ul().children().length){if(w=b.settings.dnd.large_drop_target?e(o.event.target).closest(".jstree-node").children(".jstree-anchor"):e(o.event.target).closest(".jstree-anchor"),w&&w.length&&w.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(j=w.offset(),C=o.event.pageY-j.top,h=w.outerHeight(),u=h/3>C?["b","i","a"]:C>h-h/3?["a","i","b"]:C>h/2?["i","a","b"]:["i","b","a"],e.each(u,function(r,C){switch(C){case"b":a=j.left-6,l=j.top,c=b.get_parent(w),d=w.parent().index();break;case"i":y=b.settings.dnd.inside_pos,x=b.get_node(w.parent()),a=j.left-2,l=j.top+h/2+1,c=x.id,d="first"===y?0:"last"===y?x.children.length:Math.min(y,x.children.length);break;case"a":a=j.left-6,l=j.top+h,c=b.get_parent(w),d=w.parent().index()+1}for(f=!0,p=0,g=o.data.nodes.length;g>p;p++)if(m=o.data.origin&&(o.data.origin.settings.dnd.always_copy||o.data.origin.settings.dnd.copy&&(o.event.metaKey||o.event.ctrlKey))?"copy_node":"move_node",_=d,"move_node"===m&&"a"===C&&o.data.origin&&o.data.origin===b&&c===b.get_parent(o.data.nodes[p])&&(v=b.get_node(c),_>e.inArray(o.data.nodes[p],v.children)&&(_-=1)),f=f&&(b&&b.settings&&b.settings.dnd&&b.settings.dnd.check_while_dragging===!1||b.check(m,o.data.origin&&o.data.origin!==b?o.data.origin.get_node(o.data.nodes[p]):o.data.nodes[p],c,_,{dnd:!0,ref:b.get_node(w.parent()),pos:C,origin:o.data.origin,is_multi:o.data.origin&&o.data.origin!==b,is_foreign:!o.data.origin})),!f){b&&b.last_error&&(i=b.last_error());break}return"i"===C&&w.parent().is(".jstree-closed")&&b.settings.dnd.open_timeout&&(n=setTimeout(function(e,t){return function(){e.open_node(t)}}(b,w),b.settings.dnd.open_timeout)),f?(t={ins:b,par:c,pos:"i"!==C||"last"!==y||0!==d||b.is_loaded(x)?d:"last"},s.css({left:a+"px",top:l+"px"}).show(),o.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),i={},u=!0,!1):void 0}),u===!0))return}else{for(f=!0,p=0,g=o.data.nodes.length;g>p&&(f=f&&b.check(o.data.origin&&(o.data.origin.settings.dnd.always_copy||o.data.origin.settings.dnd.copy&&(o.event.metaKey||o.event.ctrlKey))?"copy_node":"move_node",o.data.origin&&o.data.origin!==b?o.data.origin.get_node(o.data.nodes[p]):o.data.nodes[p],"#","last",{dnd:!0,ref:b.get_node("#"),pos:"i",origin:o.data.origin,is_multi:o.data.origin&&o.data.origin!==b,is_foreign:!o.data.origin}),f);p++);if(f)return t={ins:b,par:"#",pos:"last"},s.hide(),void o.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok")}t=!1,o.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),s.hide()}}).on("dnd_scroll.vakata.jstree",function(e,i){i&&i.data&&i.data.jstree&&(s.hide(),t=!1,i.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(r,o){if(n&&clearTimeout(n),o&&o.data&&o.data.jstree){s.hide().detach();var a,l,h=[];if(t){for(a=0,l=o.data.nodes.length;l>a;a++)h[a]=o.data.origin?o.data.origin.get_node(o.data.nodes[a]):o.data.nodes[a];t.ins[o.data.origin&&(o.data.origin.settings.dnd.always_copy||o.data.origin.settings.dnd.copy&&(o.event.metaKey||o.event.ctrlKey))?"copy_node":"move_node"](h,t.par,t.pos,!1,!1,!1,o.data.origin)}else a=e(o.event.target).closest(".jstree"),a.length&&i&&i.error&&"check"===i.error&&(a=a.jstree(!0),a&&a.settings.core.error.call(this,i))}}).on("keyup.jstree keydown.jstree",function(t,i){i=e.vakata.dnd._get(),i&&i.data&&i.data.jstree&&i.helper.find(".jstree-copy").first()[i.data.origin&&(i.data.origin.settings.dnd.always_copy||i.data.origin.settings.dnd.copy&&(t.metaKey||t.ctrlKey))?"show":"hide"]()})}),function(e){e.vakata.html={div:e("<div />"),escape:function(t){return e.vakata.html.div.text(t).html()},strip:function(t){return e.vakata.html.div.empty().append(e.parseHTML(t)).text()}};var t={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};e.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:50},_trigger:function(t,i){var n=e.vakata.dnd._get();n.event=i,e(c).triggerHandler("dnd_"+t+".vakata",n)},_get:function(){return{data:t.data,element:t.element,helper:t.helper}},_clean:function(){t.helper&&t.helper.remove(),t.scroll_i&&(clearInterval(t.scroll_i),t.scroll_i=!1),t={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},e(c).off("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(c).off("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop)},_scroll:function(i){if(!t.scroll_e||!t.scroll_l&&!t.scroll_t)return t.scroll_i&&(clearInterval(t.scroll_i),t.scroll_i=!1),!1;if(!t.scroll_i)return t.scroll_i=setInterval(e.vakata.dnd._scroll,100),!1;if(i===!0)return!1;var n=t.scroll_e.scrollTop(),s=t.scroll_e.scrollLeft();t.scroll_e.scrollTop(n+t.scroll_t*e.vakata.dnd.settings.scroll_speed),t.scroll_e.scrollLeft(s+t.scroll_l*e.vakata.dnd.settings.scroll_speed),(n!==t.scroll_e.scrollTop()||s!==t.scroll_e.scrollLeft())&&e.vakata.dnd._trigger("scroll",t.scroll_e)},start:function(i,n,s){"touchstart"===i.type&&i.originalEvent&&i.originalEvent.changedTouches&&i.originalEvent.changedTouches[0]&&(i.pageX=i.originalEvent.changedTouches[0].pageX,i.pageY=i.originalEvent.changedTouches[0].pageY,i.target=c.elementFromPoint(i.originalEvent.changedTouches[0].pageX-window.pageXOffset,i.originalEvent.changedTouches[0].pageY-window.pageYOffset)),t.is_drag&&e.vakata.dnd.stop({});try{i.currentTarget.unselectable="on",i.currentTarget.onselectstart=function(){return!1},i.currentTarget.style&&(i.currentTarget.style.MozUserSelect="none")}catch(r){}return t.init_x=i.pageX,t.init_y=i.pageY,t.data=n,t.is_down=!0,t.element=i.currentTarget,t.target=i.target,t.is_touch="touchstart"===i.type,s!==!1&&(t.helper=e("<div id='vakata-dnd'></div>").html(s).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),e(c).on("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(c).on("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop),!1},drag:function(i){if("touchmove"===i.type&&i.originalEvent&&i.originalEvent.changedTouches&&i.originalEvent.changedTouches[0]&&(i.pageX=i.originalEvent.changedTouches[0].pageX,i.pageY=i.originalEvent.changedTouches[0].pageY,i.target=c.elementFromPoint(i.originalEvent.changedTouches[0].pageX-window.pageXOffset,i.originalEvent.changedTouches[0].pageY-window.pageYOffset)),t.is_down){if(!t.is_drag){if(!(Math.abs(i.pageX-t.init_x)>(t.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)||Math.abs(i.pageY-t.init_y)>(t.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)))return;t.helper&&(t.helper.appendTo("body"),t.helper_w=t.helper.outerWidth()),t.is_drag=!0,e.vakata.dnd._trigger("start",i)}var n=!1,s=!1,r=!1,o=!1,a=!1,l=!1,h=!1,d=!1,u=!1,f=!1;return t.scroll_t=0,t.scroll_l=0,t.scroll_e=!1,e(e(i.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(e(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var n=e(this),s=n.offset();return this.scrollHeight>this.offsetHeight&&(s.top+n.height()-i.pageY<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_t=1),i.pageY-s.top<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(s.left+n.width()-i.pageX<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_l=1),i.pageX-s.left<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_l=-1)),t.scroll_t||t.scroll_l?(t.scroll_e=e(this),!1):void 0}),t.scroll_e||(n=e(c),s=e(window),r=n.height(),o=s.height(),a=n.width(),l=s.width(),h=n.scrollTop(),d=n.scrollLeft(),r>o&&i.pageY-h<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_t=-1),r>o&&o-(i.pageY-h)<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_t=1),a>l&&i.pageX-d<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_l=-1),a>l&&l-(i.pageX-d)<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_l=1),(t.scroll_t||t.scroll_l)&&(t.scroll_e=n)),t.scroll_e&&e.vakata.dnd._scroll(!0),t.helper&&(u=parseInt(i.pageY+e.vakata.dnd.settings.helper_top,10),f=parseInt(i.pageX+e.vakata.dnd.settings.helper_left,10),r&&u+25>r&&(u=r-50),a&&f+t.helper_w>a&&(f=a-(t.helper_w+2)),t.helper.css({left:f+"px",top:u+"px"})),e.vakata.dnd._trigger("move",i),!1}},stop:function(i){if("touchend"===i.type&&i.originalEvent&&i.originalEvent.changedTouches&&i.originalEvent.changedTouches[0]&&(i.pageX=i.originalEvent.changedTouches[0].pageX,i.pageY=i.originalEvent.changedTouches[0].pageY,i.target=c.elementFromPoint(i.originalEvent.changedTouches[0].pageX-window.pageXOffset,i.originalEvent.changedTouches[0].pageY-window.pageYOffset)),t.is_drag)e.vakata.dnd._trigger("stop",i);else if("touchend"===i.type&&i.target===t.target){var n=setTimeout(function(){e(i.target).click()},100);e(i.target).one("click",function(){n&&clearTimeout(n)})}return e.vakata.dnd._clean(),!1}}}(e),e.jstree.defaults.massload=null,e.jstree.plugins.massload=function(t,i){this.init=function(e,t){i.init.call(this,e,t),this._data.massload={}},this._load_nodes=function(t,n,s){var r=this.settings.massload;return s&&!e.isEmptyObject(this._data.massload)?i._load_nodes.call(this,t,n,s):e.isFunction(r)?r.call(this,t,e.proxy(function(e){if(e)for(var r in e)e.hasOwnProperty(r)&&(this._data.massload[r]=e[r]);i._load_nodes.call(this,t,n,s)},this)):"object"==typeof r&&r&&r.url?(r=e.extend(!0,{},r),e.isFunction(r.url)&&(r.url=r.url.call(this,t)),e.isFunction(r.data)&&(r.data=r.data.call(this,t)),e.ajax(r).done(e.proxy(function(e,r,o){if(e)for(var a in e)e.hasOwnProperty(a)&&(this._data.massload[a]=e[a]);i._load_nodes.call(this,t,n,s)},this)).fail(e.proxy(function(e){i._load_nodes.call(this,t,n,s)},this))):i._load_nodes.call(this,t,n,s)},this._load_node=function(t,n){var s=this._data.massload[t.id];return s?this["string"==typeof s?"_append_html_data":"_append_json_data"](t,"string"==typeof s?e(e.parseHTML(s)).filter(function(){return 3!==this.nodeType}):s,function(e){n.call(this,e),delete this._data.massload[t.id]}):i._load_node.call(this,t,n)}},e.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},e.jstree.plugins.search=function(i,n){this.bind=function(){n.bind.call(this),this._data.search.str="",this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this.element.on("before_open.jstree",e.proxy(function(t,i){var n,s,r=this._data.search.res,o=[],a=e();if(r&&r.length&&(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(r,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search"),this._data.search.som&&this._data.search.res.length)){for(n=0,s=r.length;s>n;n++)o=o.concat(this.get_node(r[n]).parents);o=e.vakata.array_remove_item(e.vakata.array_unique(o),"#"),a=o.length?e(this.element[0].querySelectorAll("#"+e.map(o,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))):e(),this.element.find(".jstree-node").hide().filter(".jstree-last").filter(function(){return this.nextSibling}).removeClass("jstree-last"),a=a.add(this._data.search.dom),this._data.search.smc&&this._data.search.dom.children(".jstree-children").find(".jstree-node").show(),a.parentsUntil(".jstree").addBack().show().filter(".jstree-children").each(function(){e(this).children(".jstree-node:visible").eq(-1).addClass("jstree-last")})}},this)).on("search.jstree",e.proxy(function(t,i){this._data.search.som&&i.nodes.length&&(this.element.find(".jstree-node").hide().filter(".jstree-last").filter(function(){return this.nextSibling}).removeClass("jstree-last"),this._data.search.smc&&i.nodes.children(".jstree-children").find(".jstree-node").show(),i.nodes.parentsUntil(".jstree").addBack().show().filter(".jstree-children").each(function(){e(this).children(".jstree-node:visible").eq(-1).addClass("jstree-last")}))},this)).on("clear_search.jstree",e.proxy(function(e,t){this._data.search.som&&t.nodes.length&&this.element.find(".jstree-node").css("display","").filter(".jstree-last").filter(function(){return this.nextSibling}).removeClass("jstree-last")},this))},this.search=function(i,n,s,r,o,a){if(i===!1||""===e.trim(i.toString()))return this.clear_search();r=this.get_node(r),r=r&&r.id?r.id:null,i=i.toString();var l=this.settings.search,h=l.ajax?l.ajax:!1,c=this._model.data,d=null,u=[],f=[];return this._data.search.res.length&&!o&&this.clear_search(),s===t&&(s=l.show_only_matches),a===t&&(a=l.show_only_matches_children),n||h===!1?(o||(this._data.search.str=i,this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=s,this._data.search.smc=a),d=new e.vakata.search(i,!0,{caseSensitive:l.case_sensitive,fuzzy:l.fuzzy}),e.each(c[r?r:"#"].children_d,function(e,t){var n=c[t];n.text&&(l.search_callback&&l.search_callback.call(this,i,n)||!l.search_callback&&d.search(n.text).isMatch)&&(!l.search_leaves_only||n.state.loaded&&0===n.children.length)&&(u.push(t),f=f.concat(n.parents))}),u.length&&(f=e.vakata.array_unique(f),this._search_open(f),o?(this._data.search.dom=this._data.search.dom.add(e(this.element[0].querySelectorAll("#"+e.map(u,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=e.vakata.array_unique(this._data.search.res.concat(u))):(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(u,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=u),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")),void this.trigger("search",{nodes:this._data.search.dom,str:i,res:this._data.search.res,show_only_matches:s})):e.isFunction(h)?h.call(this,i,e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(i,!0,s,r,o)},!0)},this),r):(h=e.extend({},h),h.data||(h.data={}),h.data.str=i,r&&(h.data.inside=r),e.ajax(h).fail(e.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(h)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(i,!0,s,r,o)},!0)},this)))},this.clear_search=function(){this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search"),this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=e()},this._search_open=function(t){var i=this;e.each(t.concat([]),function(n,s){if("#"===s)return!0;try{s=e("#"+s.replace(e.jstree.idregex,"\\$&"),i.element)}catch(r){}s&&s.length&&i.is_closed(s)&&(i._data.search.opn.push(s[0].id),i.open_node(s,function(){i._search_open(t)},0))})}},function(e){e.vakata.search=function(t,i,n){n=n||{},n=e.extend({},e.vakata.search.defaults,n),n.fuzzy!==!1&&(n.fuzzy=!0),t=n.caseSensitive?t:t.toLowerCase();var s,r,o,a,l=n.location,h=n.distance,c=n.threshold,d=t.length;return d>32&&(n.fuzzy=!1),n.fuzzy&&(s=1<<d-1,r=function(){var e={},i=0;for(i=0;d>i;i++)e[t.charAt(i)]=0;for(i=0;d>i;i++)e[t.charAt(i)]|=1<<d-i-1;return e}(),o=function(e,t){var i=e/d,n=Math.abs(l-t);return h?i+n/h:n?1:i}),a=function(e){if(e=n.caseSensitive?e:e.toLowerCase(),t===e||-1!==e.indexOf(t))return{isMatch:!0,score:0};if(!n.fuzzy)return{isMatch:!1,score:1};var i,a,h,u,f,p,g,m,_,v=e.length,y=c,x=e.indexOf(t,l),b=d+v,w=1,j=[];for(-1!==x&&(y=Math.min(o(0,x),y),x=e.lastIndexOf(t,l+d),-1!==x&&(y=Math.min(o(0,x),y))),x=-1,i=0;d>i;i++){for(h=0,u=b;u>h;)o(i,l+u)<=y?h=u:b=u,u=Math.floor((b-h)/2+h);for(b=u,p=Math.max(1,l-u+1),g=Math.min(l+u,v)+d,m=new Array(g+2),m[g+1]=(1<<i)-1,a=g;a>=p;a--)if(_=r[e.charAt(a-1)],m[a]=0===i?(m[a+1]<<1|1)&_:(m[a+1]<<1|1)&_|((f[a+1]|f[a])<<1|1)|f[a+1],m[a]&s&&(w=o(i,a-1),y>=w)){if(y=w,x=a-1,j.push(x),!(x>l))break;p=Math.max(1,2*l-x)}if(o(i+1,l)>y)break;f=m}return{isMatch:x>=0,score:w}},i===!0?{search:a}:a(i)},e.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(e),e.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},e.jstree.plugins.sort=function(t,i){this.bind=function(){i.bind.call(this),this.element.on("model.jstree",e.proxy(function(e,t){this.sort(t.parent,!0)},this)).on("rename_node.jstree create_node.jstree",e.proxy(function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",e.proxy(function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)},this))},this.sort=function(t,i){var n,s;if(t=this.get_node(t),t&&t.children&&t.children.length&&(t.children.sort(e.proxy(this.settings.sort,this)),i))for(n=0,s=t.children_d.length;s>n;n++)this.sort(t.children_d[n],!1)}};var f=!1;e.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1},e.jstree.plugins.state=function(t,i){this.bind=function(){i.bind.call(this);var t=e.proxy(function(){this.element.on(this.settings.state.events,e.proxy(function(){f&&clearTimeout(f),f=setTimeout(e.proxy(function(){this.save_state()},this),100)},this)),this.trigger("state_ready")},this);this.element.on("ready.jstree",e.proxy(function(e,i){this.element.one("restore_state.jstree",t),this.restore_state()||t()},this))},this.save_state=function(){var t={state:this.get_state(),ttl:this.settings.state.ttl,sec:+new Date};e.vakata.storage.set(this.settings.state.key,JSON.stringify(t))},this.restore_state=function(){var t=e.vakata.storage.get(this.settings.state.key);if(t)try{t=JSON.parse(t)}catch(i){return!1}return t&&t.ttl&&t.sec&&+new Date-t.sec>t.ttl?!1:(t&&t.state&&(t=t.state),t&&e.isFunction(this.settings.state.filter)&&(t=this.settings.state.filter.call(this,t)),t?(this.element.one("set_state.jstree",function(i,n){n.instance.trigger("restore_state",{state:e.extend(!0,{},t)})}),this.set_state(t),!0):!1)},this.clear_state=function(){return e.vakata.storage.del(this.settings.state.key)}},function(e,t){e.vakata.storage={set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},del:function(e){return window.localStorage.removeItem(e)}}}(e),e.jstree.defaults.types={"#":{},"default":{}},e.jstree.plugins.types=function(i,n){this.init=function(e,i){var s,r;if(i&&i.types&&i.types["default"])for(s in i.types)if("default"!==s&&"#"!==s&&i.types.hasOwnProperty(s))for(r in i.types["default"])i.types["default"].hasOwnProperty(r)&&i.types[s][r]===t&&(i.types[s][r]=i.types["default"][r]);n.init.call(this,e,i),this._model.data["#"].type="#"},this.refresh=function(e,t){n.refresh.call(this,e,t),this._model.data["#"].type="#"},this.bind=function(){this.element.on("model.jstree",e.proxy(function(e,i){var n,s,r=this._model.data,o=i.nodes,a=this.settings.types,l="default";for(n=0,s=o.length;s>n;n++)l="default",r[o[n]].original&&r[o[n]].original.type&&a[r[o[n]].original.type]&&(l=r[o[n]].original.type),r[o[n]].data&&r[o[n]].data.jstree&&r[o[n]].data.jstree.type&&a[r[o[n]].data.jstree.type]&&(l=r[o[n]].data.jstree.type),r[o[n]].type=l,r[o[n]].icon===!0&&a[l].icon!==t&&(r[o[n]].icon=a[l].icon);r["#"].type="#"},this)),n.bind.call(this)},this.get_json=function(t,i,s){var r,o,a=this._model.data,l=i?e.extend(!0,{},i,{no_id:!1}):{},h=n.get_json.call(this,t,l,s);if(h===!1)return!1;if(e.isArray(h))for(r=0,o=h.length;o>r;r++)h[r].type=h[r].id&&a[h[r].id]&&a[h[r].id].type?a[h[r].id].type:"default",i&&i.no_id&&(delete h[r].id,h[r].li_attr&&h[r].li_attr.id&&delete h[r].li_attr.id,h[r].a_attr&&h[r].a_attr.id&&delete h[r].a_attr.id);else h.type=h.id&&a[h.id]&&a[h.id].type?a[h.id].type:"default",i&&i.no_id&&(h=this._delete_ids(h));return h},this._delete_ids=function(t){if(e.isArray(t)){for(var i=0,n=t.length;n>i;i++)t[i]=this._delete_ids(t[i]);return t}return delete t.id,t.li_attr&&t.li_attr.id&&delete t.li_attr.id,t.a_attr&&t.a_attr.id&&delete t.a_attr.id,t.children&&e.isArray(t.children)&&(t.children=this._delete_ids(t.children)),t},this.check=function(i,s,r,o,a){if(n.check.call(this,i,s,r,o,a)===!1)return!1;s=s&&s.id?s:this.get_node(s),r=r&&r.id?r:this.get_node(r);var l,h,c,d,u=s&&s.id?a&&a.origin?a.origin:e.jstree.reference(s.id):null;switch(u=u&&u._model&&u._model.data?u._model.data:null,i){case"create_node":case"move_node":case"copy_node":if("move_node"!==i||-1===e.inArray(s.id,r.children)){if(l=this.get_rules(r),l.max_children!==t&&-1!==l.max_children&&l.max_children===r.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+i,data:JSON.stringify({chk:i,pos:o,obj:s&&s.id?s.id:!1,par:r&&r.id?r.id:!1})},!1;if(l.valid_children!==t&&-1!==l.valid_children&&-1===e.inArray(s.type||"default",l.valid_children))return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+i,data:JSON.stringify({chk:i,pos:o,obj:s&&s.id?s.id:!1,par:r&&r.id?r.id:!1})},!1;if(u&&s.children_d&&s.parents){for(h=0,c=0,d=s.children_d.length;d>c;c++)h=Math.max(h,u[s.children_d[c]].parents.length);h=h-s.parents.length+1}(0>=h||h===t)&&(h=1);do{if(l.max_depth!==t&&-1!==l.max_depth&&l.max_depth<h)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+i,data:JSON.stringify({chk:i,pos:o,obj:s&&s.id?s.id:!1,par:r&&r.id?r.id:!1})},!1;r=this.get_node(r.parent),l=this.get_rules(r),h++}while(r)}}return!0},this.get_rules=function(e){if(e=this.get_node(e),!e)return!1;var i=this.get_type(e,!0);return i.max_depth===t&&(i.max_depth=-1),i.max_children===t&&(i.max_children=-1),i.valid_children===t&&(i.valid_children=-1),i},this.get_type=function(t,i){return t=this.get_node(t),t?i?e.extend({type:t.type},this.settings.types[t.type]):t.type:!1},this.set_type=function(i,n){var s,r,o,a,l;if(e.isArray(i)){for(i=i.slice(),r=0,o=i.length;o>r;r++)this.set_type(i[r],n);return!0}return s=this.settings.types,i=this.get_node(i),s[n]&&i?(a=i.type,l=this.get_icon(i),i.type=n,(l===!0||s[a]&&s[a].icon!==t&&l===s[a].icon)&&this.set_icon(i,s[n].icon!==t?s[n].icon:!0),!0):!1}},e.jstree.defaults.unique={case_sensitive:!1,duplicate:function(e,t){return e+" ("+t+")"}},e.jstree.plugins.unique=function(i,n){this.check=function(t,i,s,r,o){if(n.check.call(this,t,i,s,r,o)===!1)return!1;if(i=i&&i.id?i:this.get_node(i),s=s&&s.id?s:this.get_node(s),!s||!s.children)return!0;var a,l,h="rename_node"===t?r:i.text,c=[],d=this.settings.unique.case_sensitive,u=this._model.data;for(a=0,l=s.children.length;l>a;a++)c.push(d?u[s.children[a]].text:u[s.children[a]].text.toLowerCase());

switch(d||(h=h.toLowerCase()),t){case"delete_node":return!0;case"rename_node":return a=-1===e.inArray(h,c)||i.text&&i.text[d?"toString":"toLowerCase"]()===h,a||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+h+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:r,obj:i&&i.id?i.id:!1,par:s&&s.id?s.id:!1})}),a;case"create_node":return a=-1===e.inArray(h,c),a||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+h+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:r,obj:i&&i.id?i.id:!1,par:s&&s.id?s.id:!1})}),a;case"copy_node":return a=-1===e.inArray(h,c),a||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+h+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:r,obj:i&&i.id?i.id:!1,par:s&&s.id?s.id:!1})}),a;case"move_node":return a=i.parent===s.id&&(!o||!o.is_multi)||-1===e.inArray(h,c),a||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+h+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:r,obj:i&&i.id?i.id:!1,par:s&&s.id?s.id:!1})}),a}return!0},this.create_node=function(i,s,r,o,a){if(!s||s.text===t){if(null===i&&(i="#"),i=this.get_node(i),!i)return n.create_node.call(this,i,s,r,o,a);if(r=r===t?"last":r,!r.toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(i))return n.create_node.call(this,i,s,r,o,a);s||(s={});var l,h,c,d,u,f=this._model.data,p=this.settings.unique.case_sensitive,g=this.settings.unique.duplicate;for(h=l=this.get_string("New node"),c=[],d=0,u=i.children.length;u>d;d++)c.push(p?f[i.children[d]].text:f[i.children[d]].text.toLowerCase());for(d=1;-1!==e.inArray(p?h:h.toLowerCase(),c);)h=g.call(this,l,++d).toString();s.text=h}return n.create_node.call(this,i,s,r,o,a)}};var p=c.createElement("DIV");if(p.setAttribute("unselectable","on"),p.setAttribute("role","presentation"),p.className="jstree-wholerow",p.innerHTML="&#160;",e.jstree.plugins.wholerow=function(t,i){this.bind=function(){i.bind.call(this),this.element.on("ready.jstree set_state.jstree",e.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",e.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var i,n,s=!1;for(i=0,n=t.selected.length;n>i;i++)s=this.get_node(t.selected[i],!0),s&&s.length&&s.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("open_node.jstree",e.proxy(function(e,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",e.proxy(function(e,t){"hover_node"===e.type&&this.is_disabled(t.node)||this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===e.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",e.proxy(function(t){t.preventDefault();var i=e.Event("contextmenu",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,pageX:t.pageX,pageY:t.pageY});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i)},this)).on("click.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var i=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",e.proxy(function(t){t.stopImmediatePropagation();var i=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",e.proxy(function(e){return e.stopImmediatePropagation(),this.is_disabled(e.currentTarget)||this.hover_node(e.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),i.teardown.call(this)},this.redraw_node=function(t,n,s,r){if(t=i.redraw_node.apply(this,arguments)){var o=p.cloneNode(!0);-1!==e.inArray(t.id,this._data.core.selected)&&(o.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===t.id&&(o.className+=" jstree-wholerow-hovered"),t.insertBefore(o,t.childNodes[0])}return t}},c.registerElement&&Object&&Object.create){var g=Object.create(HTMLElement.prototype);g.createdCallback=function(){var t,i={core:{},plugins:[]};for(t in e.jstree.plugins)e.jstree.plugins.hasOwnProperty(t)&&this.attributes[t]&&(i.plugins.push(t),this.getAttribute(t)&&JSON.parse(this.getAttribute(t))&&(i[t]=JSON.parse(this.getAttribute(t))));for(t in e.jstree.defaults.core)e.jstree.defaults.core.hasOwnProperty(t)&&this.attributes[t]&&(i.core[t]=JSON.parse(this.getAttribute(t))||this.getAttribute(t));e(this).jstree(i)};try{c.registerElement("vakata-jstree",{prototype:g})}catch(m){}}}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,n){var s,r,o,a=t.nodeName.toLowerCase();return"area"===a?(s=t.parentNode,r=s.name,t.href&&r&&"map"===s.nodeName.toLowerCase()?(o=e("img[usemap='#"+r+"']")[0],!!o&&i(o)):!1):(/^(input|select|textarea|button|object)$/.test(a)?!t.disabled:"a"===a?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),n="absolute"===i,s=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=e(this);return n&&"static"===t.css("position")?!1:s.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&r.length?r:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var n=e.attr(i,"tabindex"),s=isNaN(n);return(s||n>=0)&&t(i,!s)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function n(t,i,n,r){return e.each(s,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var s="Width"===i?["Left","Right"]:["Top","Bottom"],r=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?o["inner"+i].call(this):this.each(function(){e(this).css(r,n(this,t)+"px")})},e.fn["outer"+i]=function(t,s){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){e(this).css(r,n(this,t,!0,s)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,n,s=e(this[0]);s.length&&s[0]!==document;){if(i=s.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(n=parseInt(s.css("zIndex"),10),!isNaN(n)&&0!==n))return n;s=s.parent()}return 0}}),e.ui.plugin={add:function(t,i,n){var s,r=e.ui[t].prototype;for(s in n)r.plugins[s]=r.plugins[s]||[],r.plugins[s].push([i,n[s]])},call:function(e,t,i,n){var s,r=e.plugins[t];if(r&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(s=0;s<r.length;s++)e.options[r[s][0]]&&r[s][1].apply(e.element,i)}}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t=0,i=Array.prototype.slice;return e.cleanData=function(t){return function(i){var n,s,r;for(r=0;null!=(s=i[r]);r++)try{n=e._data(s,"events"),n&&n.remove&&e(s).triggerHandler("remove")}catch(o){}t(i)}}(e.cleanData),e.widget=function(t,i,n){var s,r,o,a,l={},h=t.split(".")[0];return t=t.split(".")[1],s=h+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][s.toLowerCase()]=function(t){return!!e.data(t,s)},e[h]=e[h]||{},r=e[h][t],o=e[h][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new o(e,t)},e.extend(o,r,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),a=new i,a.options=e.widget.extend({},a.options),e.each(n,function(t,n){return e.isFunction(n)?void(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},s=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,r=this._superApply;return this._super=e,this._superApply=s,t=n.apply(this,arguments),this._super=i,this._superApply=r,t}}()):void(l[t]=n)}),o.prototype=e.widget.extend(a,{widgetEventPrefix:r?a.widgetEventPrefix||t:t},l,{constructor:o,namespace:h,widgetName:t,widgetFullName:s}),r?(e.each(r._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,o,i._proto)}),delete r._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var n,s,r=i.call(arguments,1),o=0,a=r.length;a>o;o++)for(n in r[o])s=r[o][n],r[o].hasOwnProperty(n)&&void 0!==s&&(t[n]=e.isPlainObject(s)?e.isPlainObject(t[n])?e.widget.extend({},t[n],s):e.widget.extend({},s):s);return t},e.widget.bridge=function(t,n){var s=n.prototype.widgetFullName||t;e.fn[t]=function(r){var o="string"==typeof r,a=i.call(arguments,1),l=this;return o?this.each(function(){var i,n=e.data(this,s);return"instance"===r?(l=n,!1):n?e.isFunction(n[r])&&"_"!==r.charAt(0)?(i=n[r].apply(n,a),i!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+r+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+r+"'")}):(a.length&&(r=e.widget.extend.apply(null,[r].concat(a))),this.each(function(){var t=e.data(this,s);t?(t.option(r||{}),t._init&&t._init()):e.data(this,s,new n(r,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(i,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,s,r,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},n=t.split("."),t=n.shift(),n.length){for(s=o[t]=e.widget.extend({},this.options[t]),r=0;r<n.length-1;r++)s[n[r]]=s[n[r]]||{},s=s[n[r]];if(t=n.pop(),1===arguments.length)return void 0===s[t]?null:s[t];s[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,n){var s,r=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=s=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),e.each(n,function(n,o){function a(){return t||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?r[o]:o).apply(r,arguments):void 0}"string"!=typeof o&&(a.guid=o.guid=o.guid||a.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),h=l[1]+r.eventNamespace,c=l[2];c?s.delegate(c,h,a):i.bind(h,a)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var s,r,o=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(s in r)s in i||(i[s]=r[s]);return this.element.trigger(i,n),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,s,r){"string"==typeof s&&(s={effect:s});var o,a=s?s===!0||"number"==typeof s?i:s.effect||i:t;s=s||{},"number"==typeof s&&(s={duration:s}),o=!e.isEmptyObject(s),s.complete=r,s.delay&&n.delay(s.delay),o&&e.effects&&e.effects.effect[a]?n[t](s):a!==t&&n[a]?n[a](s.duration,s.easing,r):n.queue(function(i){e(this)[t](),r&&r.call(n[0]),i()})}}),e.widget}),function(e){"function"==typeof define&&define.amd?define(["jquery","./widget"],e):e(jQuery)}(function(e){var t=!1;return e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,s=1===i.which,r="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;return s&&!r&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(i){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&e.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),t=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&t+i>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var n=null,s=!1,r=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,r.widgetName+"-item")===r?(n=e(this),!1):void 0}),e.data(t.target,r.widgetName+"-item")===r&&(n=e(t.target)),n&&(!this.options.handle||i||(e(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(s=!0)}),s))?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(t,i,n){var s,r,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(r)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,s,r,o=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),a!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],s=n.item[0],r=this._intersectsWithPointer(n),r&&n.instance===this.currentContainer&&s!==this.currentItem[0]&&this.placeholder[1===r?"next":"prev"]()[0]!==s&&!e.contains(this.placeholder[0],s)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],s):!0)){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,s=this.placeholder.offset(),r=this.options.axis,o={};r&&"x"!==r||(o.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(o.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,r=e.left,o=r+e.width,a=e.top,l=a+e.height,h=this.offset.click.top,c=this.offset.click.left,d="x"===this.options.axis||n+h>a&&l>n+h,u="y"===this.options.axis||t+c>r&&o>t+c,f=d&&u;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?f:r<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&a<n+this.helperProportions.height/2&&s-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),n=t&&i,s=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return n?this.floating?r&&"right"===r||"down"===s?2:1:s&&("down"===s?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&i||"left"===s&&!i:n&&("down"===n&&t||"up"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){a.push(this)}var n,s,r,o,a=[],l=[],h=this._connectWith();if(h&&t)for(n=h.length-1;n>=0;n--)for(r=e(h[n],this.document[0]),s=r.length-1;s>=0;s--)o=e.data(r[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&l.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,s,r,o,a,l,h,c=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],u=this._connectWith();if(u&&this.ready)for(i=u.length-1;i>=0;i--)for(s=e(u[i],this.document[0]),n=s.length-1;n>=0;n--)r=e.data(s[n],this.widgetFullName),r&&r!==this&&!r.options.disabled&&(d.push([e.isFunction(r.options.items)?r.options.items.call(r.element[0],t,{item:this.currentItem}):e(r.options.items,r.element),r]),this.containers.push(r));for(i=d.length-1;i>=0;i--)for(o=d[i][1],a=d[i][0],n=0,h=a.length;h>n;n++)l=e(a[n]),l.data(this.widgetName+"-item",o),c.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,s,r;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(s=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=s.outerWidth(),n.height=s.outerHeight()),r=s.offset(),n.left=r.left,n.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)r=this.containers[i].element.offset(),this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,n=t.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,
n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),s=e("<"+n+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===n?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(s)):"tr"===n?t._createTrPlaceholder(t.currentItem,s):"img"===n&&s.attr("src",t.currentItem.attr("src")),i||s.css("visibility","hidden"),s},update:function(e,s){(!i||n.forcePlaceholderSize)&&(s.height()||s.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),s.width()||s.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var n=this;t.children().each(function(){e("<td>&#160;</td>",n.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,n,s,r,o,a,l,h,c,d,u=null,f=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(u&&e.contains(this.containers[i].element[0],u.element[0]))continue;u=this.containers[i],f=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(u)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(s=1e4,r=null,c=u.floating||this._isFloating(this.currentItem),o=c?"left":"top",a=c?"width":"height",d=c?"clientX":"clientY",n=this.items.length-1;n>=0;n--)e.contains(this.containers[f].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[o],h=!1,t[d]-l>this.items[n][a]/2&&(h=!0),Math.abs(t[d]-l)<s&&(s=Math.abs(t[d]-l),r=this.items[n],this.direction=h?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(t,r,null,!0):this._rearrange(t,null,this.containers[f].element,!0),this._trigger("change",t,this._uiHash()),this.containers[f]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,s=this.options;"parent"===s.containment&&(s.containment=this.helper[0].parentNode),("document"===s.containment||"window"===s.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===s.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===s.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(t=e(s.containment)[0],i=e(s.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:s.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:s.scrollLeft())*n}},_generatePosition:function(t){var i,n,s=this.options,r=t.pageX,o=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),s.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/s.grid[1])*s.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-s.grid[1]:i+s.grid[1]:i,n=this.originalPageX+Math.round((r-this.originalPageX)/s.grid[0])*s.grid[0],r=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-s.grid[0]:n+s.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay(function(){s===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){function i(e,t,i){return function(n){i._trigger(e,n,t._uiHash(t))}}this.reverting=!1;var n,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&s.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||s.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(s.push(function(e){this._trigger("remove",e,this._uiHash())}),s.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||s.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(s.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;n<s.length;n++)s[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})});